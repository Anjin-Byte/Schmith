---
  swagger: "2.0"
  info:
    version: "2.0.0"
    title: "UKG HR Service Delivery API"
    description:
            |
      
      
      Documentation for client APIv2
      
      
      
      
      
      
      
      
      


  host: "apis.REGION.people-doc.com"
  schemes:
    - "https"
  basePath: /api/v2/client
  produces:
    - "application/json"

  securityDefinitions:
    api_key:
      type: "apiKey"
      in: "header"
      name: "access_token"
      description: "A secret Oauth access token"
    
    oauth_application_basic_auth:
      type: basic
      description: "OAuth Application authentication to obtain an access_token"

  security:
    # Ignored for now, see https://github.com/swagger-api/swagger-ui/issues/1108
    - api_key: []
    - oauth_application_basic_auth: []


  paths:

############################
## PATHS
############################

# APPLICATION
# -----------


# Sites

# CUSTOM FIELDS
# -----------

    /custom_fields:
      get:
        tags:
          - "Platform: Custom Fields"
        summary: "Custom Fields listing"
        description: |
          List Custom Fields used to store custom employee attributes
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/CursorParameter"
        responses:
          200:
            description: "List of Custom Fields"
            schema:
              type: "array"
              title: "ArrayOfCustomFields"
              items:
                $ref: "#/definitions/CustomFieldFull"
            headers:
              Next-Cursor:
                description: "Next cursor for pagination"
                type: "string"
              Previous-Cursor:
                description: "Previous cursor for pagination"
                type: "string"

    /custom_fields/{id}:
      get:
        tags:
          - "Platform: Custom Fields"
        summary: "Custom Field details"
        description: "Returns the information for a specific Custom Field"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Custom Field `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/CustomFieldFull"
    
      put:
        tags:
          - "Platform: Custom Fields"
        summary: "Create or update a Custom Field"
        description: |
          Create or Update a Custom Field.
    
          Once set `type` could not be changed. Update of `authorized_values` list is limited: only `label` could be changed for existing items.
    
          **Warning**:
          Updating an existing Custom Field may break employee profiles as well as perimeter filter rules.
          This could happen especially when updating the `hierarchical` attribute (for custom fields of type `int`).
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Custom Field `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Custom Field details"
            required: true
            schema:
              $ref: "#/definitions/CustomFieldCreatePayload"
        responses:
          201:
            description: "The created `Custom Field`"
            schema:
              $ref: "#/definitions/CustomFieldFull"
          200:
            description: "The updated `Custom Field`"
            schema:
              $ref: "#/definitions/CustomFieldFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
          202:
            description: "The `Custom Field` update is pending"
            schema:
              $ref: "#/definitions/CustomFieldFull"
    
      patch:
        tags:
          - "Platform: Custom Fields"
        summary: "Partial update of a Custom Field"
        description: |
          Update some of the information of a custom field
    
          Once set `type` could not be changed. Update of `authorized_values` list is limited: only `label` could be changed for existing items.
    
          **Warning**:
          Updating an existing Custom Field may break employee profiles as well as perimeter filter rules.
          This could happen especially when updating the `hierarchical` attribute (for custom fields of type `int`).
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Custom Field `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Custom Field details"
            required: true
            schema:
              $ref: "#/definitions/CustomFieldCreatePayload"
        responses:
          200:
            description: "The updated `Custom Field`"
            schema:
              $ref: "#/definitions/CustomFieldFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
          202:
            description: "The `Custom Field` update is pending"
            schema:
              $ref: "#/definitions/CustomFieldFull"
    



# EMPLOYEE
# --------

    /employees/{id}:
    
      put:
        tags:
          - "Platform: Employees"
        summary: "Update an employee"
        description: |
          Update an `Employee`
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeUpdatePayload"
        responses:
          200:
            description: "Employee updated"
            schema:
              $ref: "#/definitions/EmployeeFull"
          201:
            description: "Employee created"
            schema:
              $ref: "#/definitions/EmployeeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      patch:
        tags:
          - "Platform: Employees"
        summary: "Partial update of an employee"
        description: |
          Update some of the information of an existing `Employee`.
          All fields are optional.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeePartialUpdatePayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EmployeeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Platform: Employees"
        summary: "Get details of an employee"
        description: "Returns the details of an `Employee`"
        produces:
          - "application/json"
        parameters:
          -
            name: "X-Synchronization-Event-Id"
            in: "header"
            description: "Event UUID associated to an employee synchronization between applications"
            required: false
            type: "string"
            format: "uuid"
          -
            name: "X-Synchronization-Application"
            in: "header"
            description: "Name of the application responsible for receiving an employee synchronization event
            (the one that is sending the request)"
            required: false
            type: "string"
            enum:
              - "case"
          -
            name: "id"
            in: "path"
            description: "The Employee `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EmployeeFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /employees:
      get:
        tags:
          - "Platform: Employees"
        summary: "List & search employees"
        description: |
          Search `Employees` on UKG HR Service Delivery
        produces:
          - "application/json"
        parameters:
          -
            name: "q"
            in: "query"
            description: |
              Full text query string, search in firstname, lastname, external_id,
              email, employee number (query minimum length: 2)
            required: false
            type: "string"
          -
            name: "firstname"
            in: "query"
            description: "Search by firstname (exact match)"
            required: false
            type: "string"
          -
            name: "lastname"
            in: "query"
            description: "Search by lastname (exact match)"
            required: false
            type: "string"
          -
            name: "email"
            in: "query"
            description: "Search by email (exact match)"
            required: false
            type: "string"
          -
            name: "external_id"
            in: "query"
            description: "Search by external_id (exact match)"
            required: false
            type: "string"
          -
            name: "employee_numbers"
            in: "query"
            description: "Search based on a list of employee numbers, separated by `,` (commas) (exact match)"
            required: false
            type: "string"
          -
            name: "terminated"
            in: "query"
            description: "Search in terminated employees (`true`) or in current employees
            (`false`). By default both current and terminated employees are returned"
            required: false
            type: "boolean"
          -
            name: "created_at_since"
            in: "query"
            description: "Limit the search to the employees created after this date (>=). Datetime only"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_until"
            in: "query"
            description: "Limit the search to the employees created before this date (<=). Datetime only"
            required: false
            type: "string"
            format: "date"
          -
            name: "synchronization_date"
            in: "query"
            description: "Limit the search to the employees that haven't been synchronized
            since a given date (>=). Datetime only"
            required: false
            type: "string"
            format: "date"
          -
            name: "synchronization_application_name"
            in: "query"
            description: "Limit the search to the employees that haven't been synchronized
            with provided application."
            enum: ["case"]
            required: false
            type: "string"
          -
            name: "organization_ids"
            in: "query"
            description: "Search based on a list of organization IDs, separated by `,` (commas) (exact match)"
            required: false
            type: "string"
          -
            name: "organization_id_below"
            in: "query"
            description: "Search employees who belong to organizations attached to an organization hierarchically above theirs"
            required: false
            type: "string"
          -
            name: "organization_group_id"
            in: "query"
            description: "Search employees who belong to organizations attached to the Organization Group"
            required: false
            type: "string"
          -
            name: "custom_field_ids"
            in: "query"
            description: |
              List of custom fields IDs separated by a comma (`,`) to search employees based on their custom fields
            required: false
            type: "string"
          -
            name: "custom_field_operators"
            in: "query"
            description: |
              Required if `custom_field_ids` is not null. List of operators separated by a comma (`,`).
              Can be one of: `=`, `!=`; for every types of custom fields. `<=`, `>=`
              are allowed for `integer` custom fields if the custom field `hierarchical`
              attribute is set to `true`
            required: false
            type: "string"
          -
            name: "custom_field_values"
            in: "query"
            description: |
              Required if `custom_field_ids` is not null. List of values separated by a comma (`,`)
              for each custom field the search is based on
            required: false
            type: "string"
          -
            name: "has_email"
            in: "query"
            description: "Search only among employees who have an email (`true`) or not (`false`)"
            type: "boolean"
          -
            name: "profile_ids"
            in: "query"
            description: "List of `User` profile IDs separated by a comma (`,`). Only the employees corresponding to those profiles will be returned."
            type: "string"
          -
            name: "sort"
            in: "query"
            description: >
              Order the list of employee returned by the API.
              <br><br>
              Available fields : email, created_at, lastname, firstname, external_id (tech_id), birth_date, firstname_lastname, lastname_firstname
              <br><br>
              Only one value can be used for sorting
              <br><br>
              The values firstname_lastname will perform a double sort by first name, then last name
              <br>
              The values lastname_firstname will perform a double sort by last name, then first name
              <br><br>
              This sorting can be done in a ascending or descending order:
               * `+` for ascending order
               * `-` for descending order
    
              Always indicate if it should be done in ascending or descending manner when calling a value for sorting the list of employee.
              <br><br><br>
              Example :
              <br><br>
              List by email in ascending manner : +email
              <br><br>
              List by last_name in ascending manner : +lastname
              <br><br><br>
              Important : This parameter is optional. Without using it, the employee will be listed by "created_at" value in ascending order
            required: false
            type: "string"
            enum:
              - "+birth_date"
              - "-birth_date"
              - "+created_at"
              - "-created_at"
              - "+email"
              - "-email"
              - "+external_id"
              - "-external_id"
              - "+firstname"
              - "-firstname"
              - "+lastname"
              - "-lastname"
              - "+firstname_lastname"
              - "-firstname_lastname"
              - "+lastname_firstname"
              - "-lastname_firstname"
        responses:
          200:
            description: "List of Employees\n"
            schema:
              type: "array"
              title: "ArrayOfEmployees"
              items:
                $ref: "#/definitions/EmployeeFull"
            headers:
              link:
                description: "Pagination links"
                type: "string"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      post:
        tags:
          - "Platform: Employees"
        summary: "Create an employee"
        description: |
          Create an `Employee`.
    
          Only use this method if you do not have a unique identifier per employee in your system.
          Otherwise use the `PUT /employees/by_external_id/{external_id}` method and pass your unique ID as the `external_id` parameter.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Employee details"
            required: true
            schema:
              $ref: "#/definitions/EmployeeCreatePayload"
        responses:
          200:
            description: "List of Employees\n"
            schema:
              type: "array"
              title: "ArrayOfEmployees"
              items:
                $ref: "#/definitions/EmployeeFull"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


    /employees/bulk:
      patch:
        tags:
          - "Platform: Employees"
        summary: "Partially update multiple employees in bulk"
        description: |
          Partially update multiple `Employee` records.
    
          This method will process a list of employees provided in the payload, applying only the fields present in each `data` object.
    
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the employees will occur in the background.
          You can check the status of the operation using the `GET /employees/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk Employee partial update object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeBulkPatchPayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/EmployeeBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
      put:
        tags:
          - "Platform: Employees"
        summary: "Update multiple employees in bulk"
        description: |
          Update multiple `Employee` records based on their `external_id`.
    
          This method will process a list of employees provided in the payload.
          
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the employees will occur in the background.
          You can check the status of the operation using the `GET /employees/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeBulkUpdatePayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/EmployeeBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
      post:
        tags:
          - "Platform: Employees"
        summary: "Create multiple employees in bulk"
        description: |
          Create multiple `Employee` records.
    
          This method will process a list of employees provided in the payload.
    
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the employees will occur in the background.
          You can check the status of the operation using the `GET /employees/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeBulkCreatePayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/EmployeeBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employees/bulk/{request_id}:
      get:
        tags:
          - "Platform: Employees"
        summary: "Get bulk operation status"
        description: |
          Retrieve the status and result of a bulk employee operation using the request_id.
        produces:
          - "application/json"
        parameters:
          - name: "request_id"
            in: "path"
            description: "ID of the bulk operation request"
            required: true
            type: "string"
        responses:
          200:
            description: "Bulk operation status and result"
            schema:
              $ref: "#/definitions/EmployeeBulkOperationStatus"
          404:
            description: "Bulk operation not found"
            schema:
              $ref: "#/definitions/BadRequest"
  

# Invite an Employee to MyPeopleDoc
    /employees/{id}/electronic_vault_invite:
      post:
        tags:
          - "Platform: Employees"
        summary: "Invite an employee to evault."
        description: |
          Send an invitation email to an `Employee` to open his or her Electronic Vault.
          After the first invitation, a follow up email is sent
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `Employee`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

# Invite an Employee to PeopleInvitation
    /employees/{id}/portal_invite:
      post:
        tags:
          - "Platform: Employees"
        summary: "Invite an employee to their portal account"
        description: |
          Send an invitation email to an `Employee` to open their Portal account.
          After the first invitation, a follow up email is sent
        produces:
          - "application/json"
        parameters:
          - name: "id"
            description: "`ID` of the `Employee` in uuid format (e.g.:`45d26421-5359-4d28-a59e-beb2a12c1adf`)"
            in: "path"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

# Unlink an electronic vault from an Employee
    /employees/{id}/electronic_vault_link:
      delete:
        tags:
          - "Platform: Employees"
        summary: "Delete link between an employee an their evault"
        description: |
          Delete the link between an employee and their electronic vault
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `Employee`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /employees/by_external_id/{external_id}:
      put:
        tags:
          - "Platform: Employees"
        summary: "Create or update an employee using `external_id`"
        description: |
          Create or update an `Employee` based on their `external_id`.
    
          This method will first try to find an existing employee using the `external_id` provided in the payload.
          If an employee already exists with this `external_id`, it will be updated.
          Otherwise, the employee will be created.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "external_id"
            in: "path"
            description: "The Employee external `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeCreateOrUpdatePayload"
        responses:
          201:
            description: "The created `Employee`\n"
            schema:
              $ref: "#/definitions/EmployeeFull"
          200:
            description: "The updated `Employee`\n"
            schema:
              $ref: "#/definitions/EmployeeFull"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


# Drop a document in the electronic vault of an employee.
    /employees/{id}/electronic_vault_documents:
      post:
        tags:
          - "Platform: Employees"
        summary: |
          Drop a document in the electronic vault of an employee.
          If you intend to drop paystub documents using this endpoint,
          make sure that you respect the employee distribution choice
          (opt-in or opt-out) that is available using /electronic_vault_options/{employee_id}"
        description: |
          Drop a document in the electronic vault of an employee.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `Employee`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee Drop Doc in Vault object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeElectronicVaultDocuments"
        responses:
          204:
            description: "OK"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"






# EMPLOYEES SUBSCRIPTIONS
# -----

    /employee_subscriptions:
      get:
        tags:
          - "Platform: Employee Subscriptions"
        summary: "List and search employees and their subscriptions"
        description: "Search `Subscriptions` on UKG HR Service Delivery. Documents can be sent from UKG HR Service Delivery to
        Employees. In their electronic vault, digitally. Or delivered to a postal
        address by mail, in a paper format.
        A subscription describes the choice of the Employee regarding the format in which
        he or she wants to receive a copy of a document type.
        Please note that the final format in which the document will be sent will depend
        not only on the employee choice but also on the configuration of the distribution as
        parametrized in UKG HR Service Delivery by the HR user and the UKG team"
        produces:
          - "application/json"
        parameters:
          -
            name: "per_page"
            in: "query"
            description: "Number of results per page <br> (default: 20; maximum: 250)."
            required: false
            type: "integer"
            default: 20
          -
            name: "external_id"
            in: "query"
            description: "Return the subscriptions for a specific employee based
            on the employee `external_id` (exact match)"
            required: false
            type: "string"
          -
            name: "electronic_vault_activated"
            in: "query"
            description: "Return the subscriptions for the employees who open their
            electronic vault (`true`) or for the employees who did not open it yet (`false`).
            By default the subscriptions of all employees are returned"
            required: false
            type: "boolean"
          -
            name: "electronic_payslips_opted_out"
            in: "query"
            description: "Return the subscriptions for the employees who ask to opt
            out from receiving their payslips digitally (`true`) or for the
            employees who agree to receive them digitally or did not communicate
            any choice (`false`).
            By default the subscriptions of all employees are returned"
            required: false
            type: "boolean"
          -
            name: "employee_document_type_id"
            in: "query"
            description: "Only return the subscriptions related to this document type"
            required: false
            type: "string"
        responses:
          200:
            description: "List of Subscriptions\n"
            schema:
              type: "array"
              title: "ArrayOfEmployeesSubscriptions"
              items:
                $ref: "#/definitions/EmployeeSubscriptionFull"
            headers:
              link:
                description: "Pagination links"
                type: "string"

    /employee_subscriptions/{id}:
      get:
        tags:
          - "Platform: Employee Subscriptions"
        summary: "Get subscriptions of an employee"
        description: "Return the subscriptions of an Employee"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee `ID`"
            required: true
            type: "string"
          -
            name: "employee_document_type_id"
            in: "query"
            description: "Only return the subscriptions related to this document type"
            required: false
            type: "string"
        responses:
          200:
            description: "The Employee Subscriptions\n"
            schema:
              $ref: "#/definitions/EmployeeSubscriptionFull"
            headers:
              link:
                description: "Pagination links"
                type: "string"


# ELECTRONIC VAULT OPTIONS
# -----

    /electronic_vault_options:
      get:
        tags:
          - "Document Manager: Electronic Vaults"
        summary: List e-vaults available"
        description: |
          For European based clients only, search `Electronic Vaults` on Document Manager
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "employees_ids"
            in: "query"
            description: "Search based on a list of employee `IDs`, separated by `,` (commas) (exact match)"
            required: false
            type: "string"
          -
            name: "electronic_vault_state"
            in: "query"
            description: "Search according to the state of the Electronic Vault"
            required: false
            type: "string"
            enum:
              - activated
              - not_activated
              - not_available
              - pending_deletion
              - deleted
        responses:
          200:
            description: "List of Electronic Vaults"
            schema:
              type: "array"
              title: "ArrayOfElectronicVaults"
              items:
                $ref: "#/definitions/ElectronicVaultFull"
            headers:
              link:
                description: "Pagination links"
                type: "string"

    /electronic_vault_options/{id}:
      patch:
        tags:
          - "Document Manager: Electronic Vaults"
        summary: "Update e-vault of employee"
        description: "For European based clients only, update the information related to the Electronic Vault of an employee."
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Employee to whom the options refer to"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Electronic Vault options"
            required: true
            schema:
              $ref: "#/definitions/ElectronicVaultOptionsUpdatePayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ElectronicVaultFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Document Manager: Electronic Vaults"
        summary: "Get e-vault details of employee"
        description: "For European based clients only, returns the details of an `Electronic Vault`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Employee to whom the options refer to"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ElectronicVaultFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# ROLES
# -----

    /roles:
      get:
        tags:
          - "Platform: Roles"
        summary: "List roles"
        description: "Search `Roles` on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
        responses:
          200:
            description: "List of roles"
            schema:
              title: "ArrayOfRoles"
              type: "array"
              items:
                $ref: "#/definitions/RoleFull"

    /roles/{id}:
      put:
        tags:
          - "Platform: Roles"
        summary: "Create or update a role"
        description: |
          Update or create a `Role` identified by its `ID`.
    
          If a `Role` already exists for the `ID` in the URL parameter, the role will be updated. Please ensure that the `ID` provided by your system is unique.
          If not, a new `Role` will be created with this `ID`.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The role `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Role description."
            required: true
            schema:
              $ref: "#/definitions/RoleCreatePayload"
        responses:
          200:
            description: "The updated `Role`\n"
            schema:
              $ref: "#/definitions/RoleFull"
          201:
            description: "The created `Role`\n"
            schema:
              $ref: "#/definitions/RoleFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Platform: Roles"
        summary: "Get details of a role"
        description: "Get the details of a `Role`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RoleFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /roles/{role_id}/permissions/core:
      get:
        tags:
          - "Platform: Roles"
        summary: "Get core HR permissions for a role"
        description: "List core HR data management permissions for the Role"
        produces:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
        responses:
          200:
            description: "Permissions for the Role"
            schema:
              $ref: "#/definitions/CorePermissionsGet"
    
      put:
        summary: "Update core HR permissions for a role"
        description: |
          Update core HR data management permissions for the Role
        tags:
          - "Platform: Roles"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Permissions for the Role"
            required: true
            schema:
              $ref: "#/definitions/CorePermissionsPut"
        responses:
          200:
            description: "The updated permissions for the Role"
            schema:
              $ref: "#/definitions/CorePermissionsFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


    /roles/{role_id}/permissions/efm:
      get:
        tags:
          - "Platform: Roles"
        summary: "Get Document Manager permissions for a role"
        description: "List Document Manager permissions for the Role"
        produces:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role "
            required: true
            type: "string"
        responses:
          200:
            description: "Permissions for the Role"
            schema:
              $ref: "#/definitions/EFMPermissionsFull"



# USERS
# --------

    /users:
      get:
        tags:
          - "Platform: Users"
        summary: "List & search `users`"
        description: |
          Search `Users` on UKG HR Service Delivery. Understand users as HR users or managers,
          that is to say users whose actions will impact employees or
          resources associated to employees
        produces:
          - "application/json"
        parameters: &search_parameters
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in firstname, lastname, email (query mininum length: 2)"
            required: false
            type: "string"
          
          -
            name: "firstname"
            in: "query"
            description: "Search by firstname (exact)"
            required: false
            type: "string"
          -
            name: "lastname"
            in: "query"
            description: "Search by lastname (exact)"
            required: false
            type: "string"
          -
            name: "email"
            in: "query"
            description: "Search by email (exact)"
            required: false
            type: "string"
          -
            name: "external_id"
            in: "query"
            description: "Search by external_id (exact match)"
            required: false
            type: "string"
          -
            name: "role_id"
            in: "query"
            description: "Returns all the users who have this role"
            required: false
            type: "string"
          -
            name: "organization_id"
            in: "query"
            description: "Returns the users who have a profile linked to this organization"
            required: false
            type: "string"
          -
            name: "active"
            in: "query"
            description: "If `true`, returns only the users who have logged in on the plateform at least once"
            required: false
            type: "boolean"
          
        responses:
          200:
            description: "List of `Users`\n"
            schema:
              type: "array"
              title: "ArrayOfUsers"
              items:
                $ref: "#/definitions/UserFull"
            headers:
              link:
                description: "Pagination links"
                type: "string"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      post:
        tags:
          - "Platform: Users"
        summary: "Create a `user`"
        description: |
          Create a `User`.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "`User` attributes"
            required: true
            schema:
              $ref: "#/definitions/UserCreatePayload"
        responses:
          201:
            description: "`User` created"
            schema:
              $ref: "#/definitions/UserFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    
      head:
        tags:
          - "Platform: Users"
        summary: "Get additional information for `users`"
        description: |
          Get the total number of users
        parameters: *search_parameters
        responses:
          200:
            description: "Success"
            headers:
              X-Total-Count:
                description: "Total number of users"
                type: "integer"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    

    /users/{id}:
    
      put:
        tags:
          - "Platform: Users"
        summary: "Update a `user`"
        description: |
          Update an existing `User`.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `User`. Format: UUID conforms with RFC 4122 version 4 random bytes"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "`User` attributes"
            required: true
            schema:
              $ref: "#/definitions/UserPutPayload"
        responses:
          200:
            description: "`User` updated"
            schema:
              $ref: "#/definitions/UserFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
          429:
            description: "Rate Limit Exceeded"
            schema:
              $ref: "#/definitions/RateLimitErrors"
      
    
      patch:
        tags:
          - "Platform: Users"
        summary: "Partial update of a `user`"
        description: |
          Update some of the information of an existing `User`.
          All fields are optional.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `User`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "`User` attributes"
            required: true
            schema:
              $ref: "#/definitions/UserPatchPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/UserFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      
    
      get:
        tags:
          - "Platform: Users"
        summary: "Get details of a `user`"
        description: "Returns the details of a `User`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `User`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/UserFull"


    /users/bulk:
      post:
        tags:
          - "Platform: Users"
        summary: "Create multiple users in bulk"
        description: |
          Create multiple `User` records.
    
          This method will process a list of users provided in the payload.
    
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the users will occur in the background.
          You can check the status of the operation using the `GET /users/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk User object and options"
            required: true
            schema:
              $ref: "#/definitions/UserBulkCreatePayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/UserBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
      put:
        tags:
          - "Platform: Users"
        summary: "Update multiple users in bulk"
        description: |
          Update multiple `User` records.
    
          This method will process a list of users provided in the payload.
    
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the users will occur in the background.
          You can check the status of the operation using the `GET /users/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk User object and options"
            required: true
            schema:
              $ref: "#/definitions/UserBulkUpdatePayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/UserBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
      patch:
        tags:
          - "Platform: Users"
        summary: "Partially update multiple users in bulk"
        description: |
          Partially update multiple `User` records.
    
          This method will process a list of users provided in the payload, applying only the fields present in each `data` object.
    
          The response will provide a request_id that can be used to track the status of the bulk operation.
          This operation is asynchronous, and the actual processing of the users will occur in the background.
          You can check the status of the operation using the `GET /users/bulk/{request_id}` endpoint.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Bulk User partial update object and options"
            required: true
            schema:
              $ref: "#/definitions/UserBulkPatchPayload"
        responses:
          200:
            description: "Request ID of the bulk operation\n"
            schema:
              $ref: "#/definitions/UserBulkOperationResult"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /users/bulk/{request_id}:
      get:
        tags:
          - "Platform: Users"
        summary: "Get bulk operation status"
        description: |
          Retrieve the status and result of a bulk user operation using the request_id.
        produces:
          - "application/json"
        parameters:
          - name: "request_id"
            in: "path"
            description: "ID of the bulk operation request"
            required: true
            type: "string"
        responses:
          200:
            description: "Bulk operation status and result"
            schema:
              $ref: "#/definitions/UserBulkOperationStatus"
          404:
            description: "Bulk operation not found"
            schema:
              $ref: "#/definitions/BadRequest"

    /users/{id}/invite:
      post:
        tags:
          - "Platform: Users"
        summary: "Send activation email to a `user`"
        description: |
          Send an activation email to a `User`
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the `User`"
            required: true
            type: "string"
        responses:
          201:
            description: "OK"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"




# DOCUMENT TYPES & FOLDERS
# --------------

# employee
    /employee_document_types:
      get:
        tags:
          - "Document Manager: Employee Document Types"
        summary: "List of employee document types"
        description: |
          Returns the Employee Document Types defined on UKG HR Service Delivery
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "folder_id"
            in: "query"
            description: "By Folder ID"
            required: false
            type: "string"
          -
            name: "employee_access_permissions"
            in: "query"
            description: |
              Filter by Employee permissions <br>
              Example: `preview`, `dl_original`
            required: false
            type: array
            items:
              type: string
              collectionFormat: csv
          -
            name: "with_document_templates"
            in: "query"
            description: "Limit the search to the employee document types that have
            one or more document templates attached to them"
            required: false
            type: boolean
          -
            name: "with_mandatory_metadata"
            in: "query"
            description: "If `true`, limit the search to the employee document types
            that have one or more mandatory metadata attached to them. If `false`,
            limit the search to the employee document types that have no mandatory
            metadata attached to them"
            required: false
            type: boolean
          -
            name: "document_template_id"
            in: "query"
            description: "Returns the employee document types attached to the document template "
            required: false
            type: string
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the document type names.
            By default the search is performed in the client platform default language.
            If a specific language is given during the call,
            the search will be performed in this language."
            required: false
            type: string
    
        responses:
          200:
            description: "List of Employee Document Types\n"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/EmployeeDocumentTypeFull"

    /employee_document_types/{id}:
      put:
        tags:
          - "Document Manager: Employee Document Types"
        summary: "Create or update employee document type"
        description: |
          Update or create an Employee `Document Type` identified by its `ID`.
    
          If a `Document Type` already exists in UKG HR Service Delivery for the `ID` in the URL parameter,
          the Document Type will be updated with all the attributes in the payload request except `label` field.
          Please ensure that the ID provided by your system is unique.
    
          If not, a new `DocumentType` will be created with this `ID`
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document Type `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document Type object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeDocumentTypeCreatePayload"
        responses:
          200:
            description: "The updated `Document Type`\n"
            schema:
              $ref: "#/definitions/EmployeeDocumentTypeFull"
          201:
            description: "The created `Document Type`\n"
            schema:
              $ref: "#/definitions/EmployeeDocumentTypeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      patch:
        tags:
          - "Document Manager: Employee Document Types"
        summary: "Partial update of an employee document type"
        description: |
          Partially updates an existing Employee `Document Type`. All fields are optional. 
          Field `label` can't be changed by PATCH request.'
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document type `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee object and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeDocumentTypePatchPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EmployeeDocumentTypeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Document Manager: Employee Document Types"
        summary: "Get details of an employee document type"
        description: "Returns the details of an `Employee Document Type`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document Type `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EmployeeDocumentTypeFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    


# company
    /company_document_types:
      get:
        tags:
          - "Document Manager: Company Document Types"
        summary: "List company document types"
        description: |
          Returns the Company Document Types defined on UKG HR Service Delivery
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "folder_id"
            in: "query"
            description: "By Folder ID"
            required: false
            type: "string"
          -
            name: "with_mandatory_metadata"
            in: "query"
            description: "If `true`, limit the search to the company document types
            that have one or more mandatory metadata attached to them. If `false`,
            limit the search to the company document types that have no mandatory
            metadata attached to them"
            required: false
            type: boolean
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the document type names.
            By default the search is performed in the client platform default language.
            If a specific language is given during the call,
            the search will be performed in this language."
            required: false
            type: string
    
        responses:
          200:
            description: "List of company Document Types\n"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/CompanyDocumentTypeFull"

    /company_document_types/{id}:
      put:
        tags:
          - "Document Manager: Company Document Types"
        summary: "Create or update a `Document Type`"
        description: |
          Update or create a company `Document Type` identified by his `ID`.
    
          If a `Document Type` already exists for the `ID` in the URL parameter,
          the Document Type will be updated with all the attributes in the payload request except `label` field.
          Please ensure that the ID provided by your system is unique.
    
          If not, a new `Document Type` will be created with this `ID`
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document Type `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document Type object and options"
            required: true
            schema:
              $ref: "#/definitions/CompanyDocumentTypeCreatePayload"
        responses:
          200:
            description: "The updated `Document Type`\n"
            schema:
              $ref: "#/definitions/CompanyDocumentTypeFull"
          201:
            description: "The created `Document Type`\n"
            schema:
              $ref: "#/definitions/CompanyDocumentTypeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      patch:
        tags:
          - "Document Manager: Company Document Types"
        summary: "Partial update of a `Document Type`"
        description: |
          Partially updates an existing Company `Document Type`. All fields are optional.
          Field `label` can't be changed by PATCH request.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document Type `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document Type object and options"
            required: true
            schema:
              $ref: "#/definitions/CompanyDocumentTypeCreatePayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/CompanyDocumentTypeFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Document Manager: Company Document Types"
        summary: "Get details of a `Document Type`"
        description: "Returns the details of a `Company Document Type`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document Type `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/CompanyDocumentTypeFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# employee
    /employee_folders:
      get:
        tags:
          - "Document Manager: Employee Folders"
        summary: "List & search employee folders"
        description: "Search Employee Folders on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the name"
            required: false
            type: "string"
          -
            name: "parent_folder_id"
            in: "query"
            description: "Return child folder(s) under this parent folder"
            required: false
            type: "string"
          -
            name: "child_folder_id"
            in: "query"
            description: "Return parent folder(s) of this child folder"
            required: false
            type: "string"
          -
            name: "recursive"
            in: "query"
            description: "If `parent_folder_id` or `child_folder_id` is specified,
            return respectively all descendants or ascendants of a folder.
            Default to false if a `parent_folder_id` or `child_folder_id` is specified, `true` otherwise."
            required: false
            type: "boolean"
        responses:
          200:
            description: "List of Employee Folders"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/FolderBase"

    /employee_folders/{id}:
      get:
        tags:
          - "Document Manager: Employee Folders"
        summary: "Get details of an employee folder"
        description: "Returns the details of an employee folder"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee Folder `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/FolderBase"

# company
    /company_folders:
      get:
        tags:
          - "Document Manager: Company Folders"
        summary: "List & search company folders"
        description: "Search Company Folders on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the name"
            required: false
            type: "string"
          -
            name: "parent_folder_id"
            in: "query"
            description: "Return child folder(s) under this parent folder"
            required: false
            type: "string"
          -
            name: "child_folder_id"
            in: "query"
            description: "Return parent folder(s) of this child folder"
            required: false
            type: "string"
          -
            name: "recursive"
            in: "query"
            description: "If `parent_folder_id` or `child_folder_id` is specified,
            return respectively all descendants or ascendants of a folder.
            Default to false if a `parent_folder_id` or `child_folder_id` is specified, `true` otherwise."
            required: false
            type: "boolean"
        responses:
          200:
            description: "List of Company Folders"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/FolderBase"

    /company_folders/{id}:
      get:
        tags:
          - "Document Manager: Company Folders"
        summary: "Get details of a company folder"
        description: "Returns the details of a company folder"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Company Folder `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/FolderBase"


# ORGANIZATIONS
# -------------

    /organizations:
      get:
        tags:
          - "Platform: Organizations"
        summary: "List & search for organizations"
        description: "Returns the Organizations defined on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters: &search_parameters
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "parent_organization_id"
            in: "query"
            description: "return child organizations of this parent organization. \nDefault to root."
            required: false
            type: "string"
          -
            name: "child_organization_id"
            in: "query"
            description: "return parent organization of this child organization."
            required: false
            type: "string"
          -
            name: "recursive"
            in: "query"
            description: "return child organizations and every descendants of listed organizations.\nreturn ascendants when child_organization_id is used\nDefault to false if a parent or a child is specified, true otherwise."
            required: false
            type: "boolean"
          -
            name: "organization_group_id"
            in: query
            description: "return organizations of this Organization Group"
            required: false
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in code and name (query mininum length: 2)"
            required: false
            type: "string"
        responses:
          200:
            description: "List of organizations\n"
            schema:
              title: "ArrayOfOrganizations"
              type: "array"
              items:
                $ref: "#/definitions/OrganizationFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      head:
        tags:
          - "Platform: Organizations"
        summary: "Count organizations"
        description: "Returns the number of Organizations defined on UKG HR Service Delivery"
        parameters: *search_parameters
        responses:
          200:
            description: "Success"
            headers:
              X-Total-Count:
                description: "Total number of organizations"
                type: "integer"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /organizations/{id}:
      put:
        summary: "Create or update an organization"
        description: |
          Update or create an `Organization` identified by his `id`.
    
          If an `Organization` already exists in UKG HR Service Delivery for the `id` in the url parameter, the organization will be updated with all the attributes in the payload request. Make sure that the id provided from your system is unique.
          If not, a new `Organization` will be created with this `id`.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        tags:
          - "Platform: Organizations"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Organization `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Organization and options"
            required: true
            schema:
              $ref: "#/definitions/OrganizationCreatePayload"
        responses:
          201:
            description: "The created `Organization`\n"
            schema:
              $ref: "#/definitions/OrganizationFull"
          200:
            description: "The updated `Organization`\n"
            schema:
              $ref: "#/definitions/OrganizationFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Platform: Organizations"
        summary: "Get details of an organization"
        description: "Get a `Organization` object\n"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The organization `id`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/OrganizationFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      patch:
        tags:
          - "Platform: Organizations"
        summary: "Partial update of an organization"
        description: |
          Partially updates an existing `Organization`.
          All fields are optional.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The organization `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Organization object and options"
            required: true
            schema:
              $ref: "#/definitions/OrganizationCreatePayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/OrganizationFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /organization_groups:
      get:
        tags:
          - "Platform: Organizations"
        summary: "List organization groups"
        description: "Return the Organization Groups defined on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            name: "organization_id"
            in: "query"
            description: "Returns the Organization Groups where the Organization ID is listed"
            required: false
            type: "string"
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in code and name (query mininum length: 2)"
            required: false
            type: "string"
        responses:
          200:
            description: "List of organization groups\n"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/OrganizationGroupFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /organization_groups/{id}:
      put:
        summary: "Create or update an organization group"
        description: |
          Update or create an `Organization Group`.
    
          If an `Organization Group` already exists for the `id` in the url parameter, the organization group will be updated with all the attributes in the payload request. Make sure that the `id` provided from your system is unique.
          If not, a new `Organization Group` will be created with this `id`.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        tags:
          - "Platform: Organizations"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Organization Group `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Organization Group"
            required: true
            schema:
              $ref: "#/definitions/OrganizationGroupCreatePayload"
        responses:
          201:
            description: "The created `Organization Group`"
            schema:
              $ref: "#/definitions/OrganizationGroupFull"
          200:
            description: "The updated `Organization Group`"
            schema:
              $ref: "#/definitions/OrganizationGroupFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Platform: Organizations"
        summary: "Get details of an organization group"
        description: "Get an `Organization Group`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Organization Group `id`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/OrganizationGroupFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      patch:
        tags:
          - "Platform: Organizations"
        summary: "Partial update of an organization group"
        description: |
          Partially updates an existing `Organization Group`.
          All fields are optional
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Organization Group `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Organization Group"
            required: true
            schema:
              $ref: "#/definitions/OrganizationGroupCreatePayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/OrganizationGroupFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


# DOCUMENTS
# ---------

    /document:
      post:
        tags:
          - "Document Manager: Documents"
        produces:
          - "application/json"
        consumes:
          - "multipart/form-data"
        summary: "Upload a document"
        description: |
          Upload a file on UKG HR Service Delivery and use it as a Document in the other endpoints
        parameters:
          -
            name: file
            in: formData
            description: The file to upload
            required: true
            type: file
        responses:
          201:
            description: "Information about the uploaded file\n"
            schema:
              $ref: "#/definitions/DocumentFileId"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"


# redirection urls
    /redirection_urls:
      get:
        tags:
          - "Document Manager: Redirection Urls"
        summary: "Retrieve a list of urls useful to make redirections."
        description: "Retrieve a list of urls useful to make redirections."
        produces:
          - "application/json"
        parameters:
          -
            name: "employee_id"
            in: "query"
            description: "Employee technical id. This will add the account/employee_root_folder_url key to the response payload."
            required: false
            type: string
          -
            name: "doctype_id"
            in: "query"
            description: Doctype id. This will add the employee_space/employee_folder and key to the response payload. If the doctype is of enterprise type, document/enterprise_document_upload will also be added."
            required: false
            type: string
        responses:
          200:
            description: "List of urls useful for redirections"
            schema:
              $ref: "#/definitions/RedirectionUrls"

# employee
    /employee_documents:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: |
            List & search employee documents
        description: |
            Search Employee Documents on UKG HR Service Delivery
    
            **Warning:** This endpoint entered deprecation on 14th August 2025.
            As per our [deprecation policy](https://doc.people-doc.com/client/api/index-deprecation.html#api-deprecationpolicy), its sunset period starts on 14th February 2026 and retirement will occur on 14th February 2027.
            Consider using the **`POST`** `employee_documents/search/` endpoint instead.
        produces:
          - "application/json"
        parameters: &search_parameters
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "employee_id"
            in: "query"
            description: "Search by employee ID"
            required: false
            type: "string"
          -
            name: "document_type_id"
            in: "query"
            description: "Search by the document type"
            required: false
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the document title, filename, employee's first name, employee's last name, employee's registration references"
            required: false
            type: "string"
          -
            name: "trashed"
            default: false
            in: "query"
            description: "Restrict the search to the trashed documents if set to true. Default: false"
            required: false
            type: "boolean"
          -
            name: "external_reference"
            in: "query"
            description: "Search documents based on their external reference (exact match)"
            required: false
            type: "string"
          -
            name: "organization_ids"
            in: "query"
            description: "List of organization IDs, separated by `,` (commas)"
            required: false
            type: array
            items:
              type: string
            collectionFormat: csv
          -
            name: "employee_numbers"
            in: "query"
            description: "List of employee registration references, separated by `,` (commas)"
            required: false
            type: array
            items:
              type: string
            collectionFormat: csv
          -
            name: "organization_id_below"
            in: "query"
            description: "Filter the results based on all the organizations children of this organization ID"
            required: false
            type: "string"
          -
            name: "date_since"
            in: "query"
            description: "Limit the search to the documents with a date set after this date (>=).
            The date here is either the date of the document set during the upload or
            the upload date if the date of the document was let empty"
            required: false
            type: "string"
            format: "date"
          -
            name: "date_until"
            in: "query"
            description: "Limit the search to the documents with a date before this date (<=).
            The date here is either the date of the document set during the upload or
            the upload date if the date of the document was let empty"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_since"
            in: "query"
            description: "Limit the search to the documents uploaded after this date (>=).
            The date is here the upload date of the document"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_until"
            in: "query"
            description: "Limit the search to the documents uploaded before this date (<=).
            The date is here the upload date of the document"
            required: false
            type: "string"
            format: "date"
          -
            name: "origin"
            in: "query"
            description: "Some documents have been uploaded with an origin info.
            Use this parameter to search based on this data"
            required: false
            type: "string"
          -
            name: "expired"
            default: false
            in: "query"
            description: "Restrict the search to the end of `retention period` documents if set to true. Default: false"
            required: false
            type: "boolean"
          -
            name: "expiry_date_since"
            in: "query"
            description: "Limit the search to the documents with an Expiration Date set after"
            required: false
            type: "string"
            format: "date"
          -
            name: "expiry_date_until"
            in: "query"
            description: "Limit the search to the documents with an Expiration Date set before"
            required: false
            type: "string"
            format: "date"
        responses:
          200:
            description: "List of Employee Documents"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/EmployeeDocumentFull"
    
      post:
        summary: "Upload an employee document"
        description: |
          Upload an Employee `Document` on UKG HR Service Delivery.
          If both `employee_id` and `employee_external_id` fields are filled in
          then `employee_external_id` is ignored
        tags:
          - "Document Manager: Employee Documents"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Document with file ID and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeDocumentCreatePayload"
        responses:
          201:
            description: "The created `Document`\n"
            schema:
              $ref: "#/definitions/EmployeeDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          409:
            description: "Conflict, the document already exists"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    

    /employee_documents/{id}/file:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Download the file associated with the document"
        description: |
          Download the file associated with the document.
    
          The raw file will be returned and, therefore, the
          Content-Type header of the response is application/octet-stream.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/octet-stream"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      head:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Retrieve the information about the file associated with the document"
        description: |
          Retrieve the information about the file associated with the document.
          This information will be exposed via the HTTP headers of the response.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            headers:
              X-Page-Count:
                description: "The number of pages in the file"
                type: "string"
              Content-Length:
                description: "The size of the file"
                type: string
              Content-Type:
                description: "The type of the file. Example: application/pdf"
                type: string
          404:
            description: "Not Found"
    
    
    /employee_documents/{id}/duplicate:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Download a duplicate of the file associated with the document"
        description: |
          Download a duplicate of the file associated with the document.
          The duplicate will be watermarked and timestamped.
    
          Note that duplicates can only be generated for PDF files.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/pdf"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "pdf"
          422:
            description: |
              The duplicate cannot be generated because the original file is not a PDF file.
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employee_documents/{id}/preview:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Download a preview of the file associated with the document"
        description: |
          Download a preview of the file associated with the document.
          The requested page and the size of the preview can be configured
          by passing query parameters.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            name: "page"
            in: "query"
            description: "The page to generate the preview for. Defaults to 1."
            required: false
            type: "string"
          -
            name: "size"
            in: "query"
            description: "The size of the preview. It can be any of small, normal or large. Defaults to normal."
            required: false
            type: "string"
        produces:
          - "image/png"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "png"
          422:
            description: "Validation Error"
            schema:
              $ref: "#/definitions/Error"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employee_documents/{id}/receipt:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Download the receipt of the file associated with the document"
        description: |
          Download the receipt of the file associated with the document.
          The receipt is an XML document and, therefore, the Content-Type header
          of the response is application/xml.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/xml"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "xml"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /employee_documents/{id}/expiration/update:
      put:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Update expiration date of an employee document"
        description: "Update Expiration Date (expiration_date) of an Employee `Document`"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Expiration Date"
            required: true
            schema:
              $ref: "#/definitions/DocumentExpirationDatePayload"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /employee_documents/{id}:
      get:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Get details of an employee document"
        description: "Retrieve the details of an Employee `Document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EmployeeDocumentFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Hard delete of an employee document"
        description: "Delete an Employee `Document`, bypassing the trash"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        summary: "Update an employee document"
        description: |
          Update an Employee `Document` identified by his `ID`.
        tags:
          - "Document Manager: Employee Documents"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeDocumentUpdatePayload"
        responses:
          200:
            description: "The updated `Document`\n"
            schema:
              $ref: "#/definitions/EmployeeDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      patch:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Partial update of an employee document"
        description: "Partially update an Employee `Document`. All fields are optional.\n"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document and options"
            required: true
            schema:
              $ref: "#/definitions/EmployeeDocumentUpdatePayload"
        responses:
          200:
            description: "The updated `Document`\n"
            schema:
              $ref: "#/definitions/EmployeeDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /employee_documents/{id}/trash:
      put:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Trash an employee document"
        description: "Trash an Employee `Document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employee_documents/{id}/untrash:
      put:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Untrash an employee document"
        description: "Untrash an Employee `Document` object"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employee_documents/trash:
      delete:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Empty trash of all employee documents"
        description: "Delete all the Employee Documents previously trashed"
        produces:
          - "application/json"
        responses:
          204:
            description: "OK"

    /employee_documents/{id}/expire:
      put:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Update retention period and expiration date of an employee document"
        description: "Update end of Retention Period (expiry_date) and Expiration Date (expiration_date) of an Employee `Document`"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Employee Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Expiry Date"
            required: true
            schema:
              $ref: "#/definitions/DocumentExpiryDatePayload"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /employee_documents/search:
      post:
        tags:
          - "Document Manager: Employee Documents"
        summary: "Search employee documents"
        description: "Search Employee Documents on UKG HR Service Delivery"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "body"
            in: "body"
            description: "Search parameters for employee documents"
            required: true
            schema:
              type: "object"
              properties:
                per_page:
                  type: "integer"
                  description: "Number of results per page"
                page:
                  type: "integer"
                  description: "Page number"
                compact_response:
                  type: "boolean"
                  default: false
                  description: "if compact_response is set to true, the response will only contain [id, employee_id, employee_external_id, external_reference]."
                employee_id:
                  type: "string"
                  description: "Search by employee ID"
                document_type_id:
                  type: "string"
                  description: "Search by the document type"
                q:
                  type: "string"
                  description: "Full text query string, search in the document title, filename, employee's first name, employee's last name, employee's registration references"
                trashed:
                  type: "boolean"
                  default: false
                  description: "Restrict the search to the trashed documents if set to true. Default: false"
                external_reference:
                  type: "string"
                  description: "Search documents based on their external reference (exact match)"
                organization_ids:
                  type: "array"
                  items:
                    type: "string"
                  description: "List of organization IDs"
                employee_numbers:
                  type: "array"
                  items:
                    type: "string"
                  description: "List of employee registration references"
                organization_id_below:
                  type: "string"
                  description: "Filter the results based on all the organizations children of this organization ID"
                date_since:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents with a date set after this date (>=). The date here is either the date of the document set during the upload or the upload date if the date of the document was let empty"
                date_until:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents with a date before this date (<=). The date here is either the date of the document set during the upload or the upload date if the date of the document was let empty"
                created_at_since:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents uploaded after this date (>=). The date is here the upload date of the document"
                created_at_until:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents uploaded before this date (<=). The date is here the upload date of the document"
                origin:
                  type: "string"
                  description: "Some documents have been uploaded with an origin info. Use this parameter to search based on this data"
                expired:
                  type: "boolean"
                  default: false
                  description: "Restrict the search to the end of `retention period` documents if set to true. Default: false"
                expiry_date_since:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents with an Expiration Date set after"
                expiry_date_until:
                  type: "string"
                  format: "date"
                  description: "Limit the search to the documents with an Expiration Date set before"
                expiration_date_until:
                  type: "string"
                  format: "date"
                  description: "Limit the search to expired documents with an expiration date before this date (<=). Expiration_date is a filter enabling to retrieve expired documents specifying a date."
        responses:
          200:
            description: "List of Employee Documents"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/EmployeeDocumentFull"


# company
    /company_documents:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "List & search company documents"
        description: "Search company documents on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "document_type_id"
            in: "query"
            description: "Filter the documents based on their document type"
            required: false
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the document title, filename and organizations"
            required: false
            type: "string"
          -
            name: "trashed"
            default: false
            in: "query"
            description: "Restrict the search to the trashed documents if set to true. Defaults to false if not passed."
            required: false
            type: "boolean"
          -
            name: "external_reference"
            in: "query"
            description: "Search documents based on their external reference (exact match)"
            required: false
            type: "string"
          -
            name: "organization_ids"
            in: "query"
            description: "List of organization IDs, separated by `,` (commas)"
            required: false
            type: array
            items:
              type: string
            collectionFormat: csv
          -
            name: "organization_id_below"
            in: "query"
            description: "Filter the results based on all the organizations children of this organization ID"
            required: false
            type: "string"
          -
            name: "date_since"
            in: "query"
            description: "Limit the search to the documents with a date set after this date (>=).
            The date here is either the date of the document set during the upload or
            the upload date if the date of the document was let empty"
            required: false
            type: "string"
            format: "date"
          -
            name: "date_until"
            in: "query"
            description: "Limit the search to the documents with a date before this date (<=).
            The date here is either the date of the document set during the upload or
            the upload date if the date of the document was let empty"
            required: false
            type: "string"
            format: "date"
          -
            name: "origin"
            in: "query"
            description: "Some documents have been uploaded with an origin info. Use this parameter to limit the search based on this data"
            required: false
            type: "string"
          -
            name: "expired"
            default: false
            in: "query"
            description: "Restrict the search to the end of `retention period` documents if set to true. Default: false"
            required: false
            type: "boolean"
          -
            name: "expiry_date_since"
            in: "query"
            description: "Limit the search to the documents with an Expiration Date set after"
            required: false
            type: "string"
            format: "date"
          -
            name: "expiry_date_until"
            in: "query"
            description: "Limit the search to the documents with an Expiration Date set before"
            required: false
            type: "string"
            format: "date"
    
        responses:
          200:
            description: "List of company documents"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/CompanyDocumentFull"
      post:
        summary: "Upload a company document"
        description: |
          Upload a Company `Document` on UKG HR Service Delivery
        tags:
          - "Document Manager: Company Documents"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Document with file ID and options"
            required: true
            schema:
              $ref: "#/definitions/CompanyDocumentCreatePayload"
        responses:
          201:
            description: "The created `Document`\n"
            schema:
              $ref: "#/definitions/CompanyDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          409:
            description: "Conflict, the Document already exists"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /company_documents/{id}:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "Get details of a company document"
        description: "Retrieve the details of a Company `Document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/CompanyDocumentFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      delete:
        tags:
          - "Document Manager: Company Documents"
        summary: "Permanent deletion of a company document"
        description: "Delete a Company `Document`, bypassing the trash"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        summary: "Udpate a company document"
        description: |
          Update a Company `Document` identified by its `ID`.
        tags:
          - "Document Manager: Company Documents"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document and options"
            required: true
            schema:
              $ref: "#/definitions/CompanyDocumentUpdatePayload"
        responses:
          200:
            description: "The updated `Document`\n"
            schema:
              $ref: "#/definitions/CompanyDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      patch:
        tags:
          - "Document Manager: Company Documents"
        summary: "Partial update of a company document"
        description: "Partially update a Company `Document`. All fields are optional.\n"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Document and options"
            required: true
            schema:
              $ref: "#/definitions/CompanyDocumentUpdatePayload"
        responses:
          200:
            description: "The updated `Document`\n"
            schema:
              $ref: "#/definitions/CompanyDocumentFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /company_documents/{id}/file:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "Download the file associated with the document"
        description: |
          The raw file will be returned and, therefore, the
          Content-Type header of the response is application/octet-stream.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/octet-stream"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      head:
        tags:
          - "Document Manager: Company Documents"
        summary: "Retrieve the information about the file associated with the document"
        description: |
          Retrieve the information about the file associated with the document.
          This information will be exposed via the HTTP headers of the response.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            headers:
              X-Page-Count:
                description: "The number of pages in the file"
                type: "string"
              Content-Length:
                description: "The size of the file"
                type: string
              Content-Type:
                description: "The type of the file. Example: application/pdf"
                type: string
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /company_documents/{id}/duplicate:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "Download a duplicate of the file associated with the document"
        description: |
          Download a duplicate of the file associated with the document.
          The duplicate will be watermarked and timestamped.
    
          Note that duplicates can only be generated for PDF files.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/pdf"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "pdf"
          422:
            description: |
              The duplicate cannot be generated because the original file is not a PDF file.
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /company_documents/{id}/preview:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "Download a preview of the file associated with the document"
        description: |
          Download a preview of the file associated with the document.
          The requested page and the size of the preview can be configured
          by passing query parameters.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
          -
            name: "page"
            in: "query"
            description: "The page to generate the preview for. Defaults to 1."
            required: false
            type: "string"
          -
            name: "size"
            in: "query"
            description: "The size of the preview. It can be any of small, normal or large. Defaults to normal."
            required: false
            type: "string"
        produces:
          - "image/png"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "png"
          422:
            description: "Validation Error"
            schema:
              $ref: "#/definitions/Error"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /company_documents/{id}/receipt:
      get:
        tags:
          - "Document Manager: Company Documents"
        summary: "Download the receipt of the file associated with the document"
        description: |
          Download the receipt of the file associated with the document.
          The receipt is an XML document and, therefore, the Content-Type header
          of the response is application/xml.
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        produces:
          - "application/xml"
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "xml"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /company_documents/{id}/trash:
      put:
        tags:
          - "Document Manager: Company Documents"
        summary: "Trash company document"
        description: "Trash a Company `Document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    /company_documents/{id}/untrash:
      put:
        tags:
          - "Document Manager: Company Documents"
        summary: "Untrash company document"
        description: "Untrash a Company `Document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Document `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /company_documents/trash:
      delete:
        tags:
          - "Document Manager: Company Documents"
        summary: "Empty trash of company documents"
        description: "Delete all the Company Documents previously trashed"
        produces:
          - "application/json"
        responses:
          204:
            description: "OK"

    /company_documents/{id}/expire:
      put:
        tags:
          - "Document Manager: Company Documents"
        summary: "Update expiration date"
        description: "Update end of retention period (expiry_date) of a company `document` and update Expiration Date (expiration_date) of a company `document`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Company Document `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Expiry Date"
            required: false
            schema:
              $ref: "#/definitions/DocumentExpiryDatePayload"
        responses:
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"


# signature

#   UPLOAD
# -----------

    /uploads:
      post:
        tags:
          - "Platform: Uploads"
        produces:
          - "application/json"
        consumes:
          - "multipart/form-data"
          - "*/*"
        summary: "Upload a file"
        description: |
          Upload a file on UKG HR Service Delivery. To be used in the other endpoints, a file should be uploaded first with this method.  
          File could be provided as a form parameter (parameter name is `file`) or as the body request.
          Header `Content-Type` MUST be provided. If unknown please set it to `application/octet-stream`.
        parameters:
            - in: formData
              name: file
              description: The file to upload if Content-Type is `multipart/form-data`
              type: file
            - in: header
              name: Content-Disposition
              description: |
                To provide the file name if Content-Type is not `multipart/form-data`
                Format : `attachment; filename="filename.ext"`
              type: string
        responses:
          201:
            description: "Information about the uploaded File"
            schema:
              $ref: "#/definitions/UploadDocument"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /uploads/{id}/text_occurrences:
      post:
        tags:
          - "Platform: Uploads"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        summary: "Locate text in the pdf"
        description:
          Get the position of each occurrences for a given keyword in a PDF document. The position is determined with Cartesian coordinates whose origin is located at the bottom left of the document expressed in PDF unit (DTP point).
        parameters:
          -
            name: "id"
            in: "path"
            description: "Upload ID of the document"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Keyword to search in the document and for which the location of its different occurrences (exact match) should be returned."
            required: true
            schema:
              $ref: "#/definitions/UploadTextoccurrencesPayload"
        responses:
          200:
            description: "The list of founded occurrences"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/UploadTextoccurrencesFull"
          422:
            description: "Keyword is missing/empty or uploaded file is not a PDF"
            schema:
              $ref: "#/definitions/Error"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Unable to find uploaded document with the provided Upload ID"
            schema:
              $ref: "#/definitions/BadRequest"
    



# SIGNATURE PROCESSES
# ----------

    /signature_processes:
      get:
        tags:
          - "Document Manager: Signature Processes"
        summary: "List & search signature processes"
        description: "List and search signature processes"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "page"
            in: "query"
            description: "By page number. We use regular page navigation on this endpoint and not Cursor-Based Pagination"
            required: false
            type: "string"
          -
            name: "employee_id"
            in: "query"
            description: "By employee"
            required: false
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in title, signers firsname, signers lastname and file_number"
            required: false
            type: "string"
          -
            name: "organization_ids"
            in: "query"
            description: "List of organization ids, separated by `,` (commas)"
            required: false
            type: array
            items:
              type: string
            collectionFormat: csv
          -
            name: "organization_id_below"
            in: "query"
            description: "Limit to all resources in or below the organization"
            required: false
            type: "string"
          -
            name: "created_date_since"
            in: "query"
            description: "By creation date"
            required: false
            type: "string"
          -
            name: "created_date_until"
            in: "query"
            description: "By creation date"
            required: false
            type: "string"
          -
            name: "state"
            in: "query"
            description: >
              Filter signature processes by their state, that can be one or several comma separated values amongst:
                - `draft`
                - `signing`
                - `signed`
                - `sending`
                - `sent`
                - `done`
                - `expired`
                - `rejected`
                - `error`
                - `canceled`
            required: false
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - 'draft'
              - 'signing'
              - 'signed'
              - 'sending'
              - 'sent'
              - 'done'
              - 'expired'
              - 'rejected'
              - 'error'
              - 'canceled'
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: string
            enum:
              - "+created_at"
              - "-created_at"
              - "+expiry_date"
              - "-expiry_date"
              - "+title"
              - "-title"
            default: "-created_at"
    
        responses:
          200:
            description: "List of signature processes"
            headers:
              X-Total-Count:
                description: "Total number of signature processes"
                type: "integer"
            schema:
              title: "ArrayOfSignatureProcesses"
              type: "array"
              items:
                $ref: "#/definitions/SignatureProcessFull"
      post:
        description: |
          Add a `Signature process`. A generated `id` will be assigned to this signature process.
        tags:
          - "Document Manager: Signature Processes"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Signature process with file and options"
            required: true
            schema:
              $ref: "#/definitions/SignatureProcessCreatePayload"
        responses:
          201:
            description: "The created Signature process"
            schema:
              $ref: "#/definitions/SignatureProcessFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /signature_processes/cancel:
      post:
        description: |
          Cancel one or multiple signature processes at once.
          If one or more signature process is not cancelable then no signature process will be touched and a 400 error will be returned.
        tags:
          - "Document Manager: Signature Processes"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "List of signature processes to cancel"
            required: true
            schema:
              $ref: "#/definitions/SignatureProcessCancelPayload"
        responses:
          200:
            description: "The list of signature processes that have been canceled"
            schema:
              title: "ArrayOfSignatureProcesses"
              type: "array"
              items:
                $ref: "#/definitions/SignatureProcessFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"

    /signature_processes/{id}:
      put:
        summary: "Create a signature process"
        description: |
          Update a `Signature process` identified by its `id`.
        tags:
          - "Document Manager: Signature Processes"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Signature process with file upload id and options"
            required: true
            schema:
              $ref: "#/definitions/SignatureProcessUpdatePayload"
        responses:
          200:
            description: "The created `Signature process`\n"
            schema:
              $ref: "#/definitions/SignatureProcessFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      patch:
        summary: "Partially update a signature process"
        description: |
          Partially update a `Signature process` identified by its `id`.
        tags:
          - "Document Manager: Signature Processes"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Signature process with file upload id and options"
            required: true
            schema:
              $ref: "#/definitions/SignatureProcessUpdatePayload"
        responses:
          200:
            description: "The created `Signature process`\n"
            schema:
              $ref: "#/definitions/SignatureProcessFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Get details of a signature process"
        description: "Gets a `Signature process` object"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignatureProcessFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Delete a signature process"
        description: "Delete a `Signature process` object. Only signature process in `draft`, `rejected`, `canceled`, `expired`, `sent` and `done` state can be deleted."
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
        responses:
          204:
            description: "Signature process deleted"
          400:
            description: "Signature process current state does not allow deletion."
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /signature_processes/{id}/preview:
      get:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Preview the document at the current state of the signature process"
        description: "Preview the signed document"
        produces:
          - "image/png"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
          -
            name: "page"
            in: "query"
            description: "Page to be displayed (1-indexed)"
            required: true
            type: "integer"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /signature_processes/{id}/file:
      get:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Retrieves the document at the current state of the signature process"
        description: "Retrieves the signed document"
        produces:
          - "application/pdf"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /signature_processes/{id}/archive:
      post:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Archive a signature process in the employee folder"
        description: "Archive a signature process in the employee folder"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Employee ID into archive the signature process"
            required: true
            schema:
              $ref: "#/definitions/SignatureProcessArchivePayload"
        responses:
          204:
            description: "Signature process archived"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /signature_processes/{id}/send:
      post:
        tags:
          - "Document Manager: Signature Processes"
        summary: "Send the signed document to all signers"
        description: "Send the signed document to all signers after it has been signed by everyone"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature process `id` as generated during the POST `/signature_processes/`"
            required: true
            type: "string"
        responses:
          204:
            description: "Signature process sent"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# SIGNATURE TYPES
# ---------------

    /signature_types:
      get:
        tags:
          - "Document Manager: Signature Type"
        summary: "List available signature types"
        description: "Returns the signature types defined on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
        responses:
          200:
            description: "List of signature types\n"
            schema:
              title: "ArrayOfSignatureTypes"
              type: "array"
              items:
                $ref: "#/definitions/SignatureTypeFull"

    /signature_types/{id}:
      get:
        tags:
          - "Document Manager: Signature Type"
        summary: "Get a signature type"
        description: "Get a signature type object"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signature type id"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignatureTypeFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# SIGNERS
# ---------------

    /signers:
      get:
        tags:
          - "Document Manager: Signer"
        summary: "List all signers defined on a signature process"
        description: "Returns the signers defined for a specific signature process"
        produces:
          - "application/json"
        parameters:
          -
            name: "signature_process_id"
            in: "query"
            description: "The signature process id"
            required: true
            type: "string"
        responses:
          200:
            description: "List of signers"
            schema:
              title: "ArrayOfSigners"
              type: "array"
              items:
                $ref: "#/definitions/SignerFull"
      post:
        tags:
          - "Document Manager: Signer"
        summary: "Add a signer on a signature process"
        description: "Add a signer on a signature process"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            required: true
            schema:
              $ref: "#/definitions/SignerBase"
        responses:
          201:
            description: "The created signer"
            schema:
              $ref: "#/definitions/SignerFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /signers/remind:
      post:
        tags:
          - "Document Manager: Signer"
        summary: "Send a reminder notification to one or more signers"
        description: "Send a reminder notification to one or more signers which are in the `in_progress` state"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "List of signer IDs to send a reminder notification"
            required: true
            schema:
              $ref: "#/definitions/SignerRemindPayload"
        responses:
          204:
            description: "No Content"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /signers/{id}:
      get:
        tags:
          - "Document Manager: Signer"
        summary: "Get a signer"
        description: "Get a signer"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signer id"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignerFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "Document Manager: Signer"
        summary: "Delete a signer"
        description: "Delete a previously defined signer"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signer id"
            required: true
            type: "string"
        responses:
          204:
            description: "No content"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
      patch:
        tags:
          - "Document Manager: Signer"
        summary: "Update a signer"
        description: "Partially update a previously defined signer"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signer id"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            required: true
            schema:
              $ref: "#/definitions/SignerBase"
        responses:
          200:
            description: "The updated signer"
            schema:
              $ref: "#/definitions/SignerFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      put:
        tags:
          - "Document Manager: Signer"
        summary: "Update a signer"
        description: "Update a previously defined signer"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signer id"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            required: true
            schema:
              $ref: "#/definitions/SignerBase"
        responses:
          200:
            description: "The updated signer"
            schema:
              $ref: "#/definitions/SignerFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /signers/{id}/remind:
      post:
        tags:
          - "Document Manager: Signer"
        summary: "Send a reminder notification to a signer"
        description: "Send a reminder notification to a signer which is in the `in_progress` state"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The signer id"
            required: true
            type: "string"
        responses:
          204:
            description: "No Content"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# DOCUSIGN PROVIDERS
# ---------------



# INBOX ITEMS
# -----------

    /inbox_items:
    
      get:
        tags:
          - "Document Manager: Inbox"
        summary: "List & search inbox items"
        description: "Search inbox items on Document Manager"
        produces:
          - "application/json"
        parameters: &search_parameters
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in the name of the item,
            the inbox group, the filename of the attached files and the name of the creator of the item"
            required: false
            type: "string"
          -
            name: "state"
            in: "query"
            description: "Returns items with the corresponding status"
            required: false
            type: "string"
            enum:
              - completed
              - pending
              - processing
              - refused
          -
            name: "shared_inbox_id"
            in: "query"
            description: "Returns items uploaded in a specific shared inbox"
            required: false
            type: "string"
          -
            name: "creator_id"
            in: "query"
            description: "Returns items uploaded by a specific user"
            required: false
            type: "string"
        responses:
          200:
            description: "List of inbox items"
            schema:
              title: "ArrayOfInboxItems"
              type: "array"
              items:
                $ref: "#/definitions/InboxItemFull"
    
    
      post:
        tags:
          - "Document Manager: Inbox"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        summary: "Create an inbox item"
        description: "Create an Item in an Inbox"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Description of the item to post in an inbox"
            required: true
            schema:
              $ref: "#/definitions/InboxItemCreatePayload"
        responses:
          201:
            description: "The created `InboxItem`"
            schema:
              $ref: "#/definitions/InboxItemFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /inbox_items/{id}:
    
      get:
        tags:
          - "Document Manager: Inbox"
        summary: "Get details of an Inbox Item"
        description: "Return the details of an Inbox Item"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Item"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/InboxItemFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"





# IMPORTS
# -------

    /imports:
      post:
        tags:
          - "Platform: Imports"
        summary: "Create and trigger an import task"
        description: "Create and trigger an import on UKG HR Service Delivery"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Import description."
            required: true
            schema:
              $ref: "#/definitions/ImportCreatePayload"
        responses:
          201:
            description: "The created `Import`\n"
            schema:
              $ref: "#/definitions/ImportFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Platform: Imports"
        summary: "List & search imports"
        description: "Search imports on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "type"
            in: "query"
            description: "Type of the Import"
            required: false
            type: "string"
            enum:
              - employee
              - manager
              - organization
          -
            name: "created_at_since"
            in: "query"
            description: "Returns imports processed after this date"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_until"
            in: "query"
            description: "Returns imports processed before this date"
            required: false
            type: "string"
            format: "date"
        responses:
          200:
            description: "List of imports"
            schema:
              title: "ArrayOfImports"
              type: "array"
              items:
                $ref: "#/definitions/ImportFull"

    /imports/{id}:
      get:
        tags:
          - "Platform: Imports"
        summary: "Get details of an import"
        description: "Return the details of an `Import`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ImportFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /imports/{id}/source:
      get:
        tags:
          - "Platform: Imports"
        summary: "Get source file of an import"
        description: "Download the source file of the Import"
        produces:
          - "text/csv"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: file
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /imports/{id}/report:
      get:
        tags:
          - "Platform: Imports"
        summary: "Get report file of an import"
        description: "Download a detailed report for this Import.
        This file can only be downloaded after the Import is completed (else a 403 Forbidden will be returned)
    
    
        The report file is produced in XML format. The structure of the report is the following
    
    
        * JOB_REFERENCE Internal processing reference, corresponding
        to the name of the import file renamed on UKG HR Service Delivery
    
    
        * JOB_REPORT_TIMESTAMP Date, in ISO format YYYY-MM-DDThh:mm:sshh:mm, at when the report was generated
    
    
        * JOB_DESCRIPTION Import title
    
    
        * JOB_TYPE `sal` for the employee import report (`sir` for organizations and `usr` for users)
    
    
        * COUNT_ROWS Number of total lines processed
    
    
        * MESSAGE feedback corresponding to one line
    
    
        * ENTITY_ID Identifier of the created employee
    
    
        * ENTITY_TYPE `Employee`, `Organization` or `Manager`
    
    
        * RESULT_CODE 0 (resource created), 1 (resource updated), != 1 (error)
    
    
        * RESULT_MESSAGE Message describing the action performed or the error encountered. When error, the line number is present at the beginning of the error message."
        produces:
          - "text/xml"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: file
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: "Forbidden - the report is not ready yet. Errors codes : `report_file_not_ready`"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /imports/{id}/errors_report:
      get:
        tags:
          - "Platform: Imports"
        summary: "Get error report file of an import"
        description: "Download only the lines of the source file that were not imported
        but flagged as errors. This file can be imported again to only process again those lines
        (once the causes of errors have been resolved).
        This file can only be downloaded after the import is completed (else a 403 Forbidden will be returned).
        Its format is the same as the report file"
        produces:
          - "text/xml"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: file
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: "Forbidden - the report is not ready yet. Errors codes : `source_errors_file_not_ready`"
            schema:
              $ref: "#/definitions/BadRequest"


    /dataset_imports:
      post:
        tags:
          - "Platform: Dataset Imports"
        summary: "Execute dataset import"
        description: |
          Create and trigger an import for a Dataset on UKG HR Service Delivery.
    
          The import will run in a 'delete all and replace' mode.
          If there is any error during the process, it will stop without committing any changes.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            required: true
            schema:
              $ref: "#/definitions/DatasetImportCreatePayload"
        responses:
          201:
            description: "The created `Dataset Import`\n"
            schema:
              $ref: "#/definitions/DatasetImportFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Platform: Dataset Imports"
        summary: "Dataset imports listing"
        description: "Search Dataset imports on UKG HR Service Delivery"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "created_at_since"
            in: "query"
            description: "Returns dataset imports processed after this date"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_until"
            in: "query"
            description: "Returns dataset imports processed before this date"
            required: false
            type: "string"
            format: "date"
          -
            name: "dataset_id"
            in: "query"
            description: "Limit the search to the imports executed for this data set"
            required: false
            type: "string"
        responses:
          200:
            description: "List of dataset imports"
            schema:
              title: "ArrayOfDatasetImports"
              type: "array"
              items:
                $ref: "#/definitions/DatasetImportFull"

    /dataset_imports/{id}:
      get:
        tags:
          - "Platform: Dataset Imports"
        summary: "Import details retrieval"
        description: "Return the details of a `Dataset Import`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/DatasetImportFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    /dataset_imports/{id}/source:
      get:
        tags:
          - "Platform: Dataset Imports"
        summary: "Get source file of Data Set Import"
        description: "Return the source file used in a `Dataset Import`"
        produces:
          - "text/csv"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: file
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /dataset_imports/{id}/report:
      get:
        tags:
          - "Platform: Dataset Imports"
        summary: "Get report file of Data Set Import"
        description: "Return the report file with the errors and the warnings of a `Dataset Import`"
        produces:
          - "text/csv"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset Import"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: file
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# PROCESSES
# ---------


    /processes:
      post:
        summary: "Create a process"
        description: |
          Create a new process for an employee.
    
          It will be populated with the tasks defined in the referenced process template.
    
          If the `publish` is set to `true`, the process will be published as soon as it's created.
          You have the possibility to use the internal unique ID of the creator and employee to create the process by using `employee_id` and `creator_id`, or to use the external id provided by the client through the `employee_external_id` and the `creator_external_id` parameters.
          You cannot configure the employee process completion email notification through the API, but it can be done via the UI.
    
        tags:
          - "People Assist: Processes"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Process description to create"
            required: true
            schema:
              $ref: "#/definitions/ProcessCreatePayload"
        responses:
          201:
            description: "The created `Process`\n"
            schema:
              $ref: "#/definitions/ProcessFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "People Assist: Processes"
        summary: "List & search processes"
        description: "List and search processes"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "employee_id"
            in: "query"
            description: "Search by employee attached to the process"
            required: false
            type: "string"
          -
            name: "template_id"
            in: "query"
            description: "Search by template used to generate the process"
            required: false
            type: "string"
          -
            name: "creator_id"
            in: "query"
            description: "Search by creator"
            required: false
            type: "string"
          -
            name: "publication_date"
            in: "query"
            description: "Publication date for the process"
            required: false
            type: "string"
            format: "date"
          -
            name: "state"
            in: "query"
            description: "Search by state. Can be `draft`, `pending`, `done`, `cancelled`, `finalizing` or `error`. Multiple states are allowed by separating them with commas, e.g. `done,cancelled,error`."
            required: false
            type: "string"
          -
            name: "due_date_since"
            in: "query"
            description: "By due date"
            required: false
            type: "string"
            format: "date"
          -
            name: "due_date_until"
            in: "query"
            description: "By due date"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_since"
            in: "query"
            description: "By creation date"
            required: false
            type: "string"
            format: "date"
          -
            name: "created_at_until"
            in: "query"
            description: "By creation date"
            required: false
            type: "string"
            format: "date"
          -
            name: "completed_at_since"
            in: "query"
            description: "By completion date"
            required: false
            type: "string"
            format: "date"
          -
            name: "reference"
            in: "query"
            description: "By reference"
            required: false
            type: "string"
            format: "string"
          -
            name: "embed"
            in: "query"
            description: "If `tasks` appear in the `embed` query parameter, the related
              tasks will be present as a list of `EmployeeTaskDetailBase` objects under the key
              `tasks`. Otherwise, only a list of task ids will be returned under the key
              `tasks_ids`."
            type: "string"
            enum:
              - "tasks"
        responses:
          200:
            description: "List of imports"
            schema:
              title: "ArrayOfImports"
              type: "array"
              items:
                $ref: "#/definitions/ProcessFull"

    /processes/{id}:
      get:
        tags:
          - "People Assist: Processes"
        summary: "Get details of a process"
        description: "Retrieve a previously created `Process`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The process `id`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `tasks` appear in the `embed` query parameter, the related
              tasks will be present as a list of `EmployeeTaskDetailBase` objects under the key
              `tasks`. Otherwise, only a list of task ids will be returned under the key
              `tasks_ids`."
            type: "string"
            enum:
              - "tasks"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ProcessFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      delete:
        tags:
          - "People Assist: Processes"
        summary: "Delete a process"
        description: |
          Delete a previously created Process and related resources (tasks and generated doc)
    
          Warning : It's an hard delete, no recovery possible.
          Archived documents are not deleted (but files are removed from sae)
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The process `id`"
            required: true
            type: "string"
        responses:
          204:
            description: "No content"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    /processes/{id}/publish:
      put:
        tags:
          - "People Assist: Processes"
        summary: "Change status of a process"
        description: |
          Publish a process by changing its state from draft to pending.
    
          Using this method will publish the process :
            * Assign users to all company tasks in the process according to the task definitions
            * Send notification emails to users and employees
            * Make it visible in the interface to the employee and managers assigned according to the tasks definitions
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The process `id`"
            required: true
            type: "string"
        responses:
          202:
            description: "The publication of the process has been started (No content in the response)"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /processes/{id}/post_process_action#shared_inboxes:
      post:
        tags:
          - "People Assist: Processes"
        summary: "Create a `shared_inboxes` action"
        description: "Create a new `shared_inboxes` post process action"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The process `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Post process action to create"
            required: true
            schema:
              $ref: "#/definitions/ProcessPostActionSharedBase"
        responses:
          201:
            description: "The post process action has been created"
            schema:
              $ref: "#/definitions/ProcessPostActionSharedPayload"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: "Permission denied"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /processes/{id}/post_process_action#user_inboxes:
      post:
        tags:
          - "People Assist: Processes"
        summary: "Set `user_inboxes`"
        description: "Set one or several user inboxes to send documents automatically at the end of the process."
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The process `id`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Post process action to create"
            required: true
            schema:
              $ref: "#/definitions/ProcessPostActionUserBase"
        responses:
          201:
            description: "The post process action has been created"
            schema:
              $ref: "#/definitions/ProcessPostActionUserPayload"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: "Permission denied"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/BadRequest"
    

    /process_templates:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: "Retrieve the list of existing process templates"
        description: "Retrieve the list of existing process templates"
        produces:
          - "application/json"
        parameters:
          -
            name: "title"
            in: "query"
            description: "Search by template's name. Contains the string, not case sensitive"
            required: false
            type: string
        responses:
          200:
            description: "List of process templates"
            schema:
              title: "ArrayOfProcessTemplates"
              type: "array"
              items:
                $ref: "#/definitions/ProcessTemplate"
    
      head:
        tags:
          - "People Assist: Process Templates"
        summary: "Retrieve the number of existing process templates"
        description: "Retrieve the number of existing process templates"
        produces:
          - "application/json"
        responses:
          200:
            description: "Number of process templates"
            headers:
              X-Total-Count:
                description: "The counter of process templates for the client"
                type: "integer"

    /process_templates/{id}:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: "Retrieve details from a process template"
        description: "Retrieve details from a process template"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ProcessTemplate"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: "Create or update a process template"
        description: "Create or update a process template"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "The process template definition"
            required: true
            schema:
              $ref: "#/definitions/ProcessTemplate"
        responses:
          200:
            description: "The updated Process Template"
            schema:
              $ref: "#/definitions/ProcessTemplate"
          201:
            description: "The created Process Template"
            schema:
              $ref: "#/definitions/ProcessTemplate"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /process_templates/{process_template_id}/task_templates:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: "Retrieve the list of task templates from a process template"
        description: "Retrieve the list of task templates from a process template"
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              title: "ArrayOfTaskTemplates"
              type: "array"
              items:
                $ref: "#/definitions/TaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /process_templates/{process_template_id}/task_templates/{id}#acknowledgment:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: 'Retrieve details from a "Acknowledge a document" task template'
        description: 'Retrieve details from a "Acknowledge a document" task template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/AcknowledgmentTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: 'Create or Update a "Acknowledge a document" task template in a process template'
        description: 'Create or Update a "Acknowledge a document" task template in a process template"'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: '"Acknowledge a document" task template definition'
            required: true
            schema:
              $ref: "#/definitions/AcknowledgmentTaskTemplatesWrite"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/AcknowledgmentTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/AcknowledgmentTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}#basic:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: "Retrieve details from a custom task template"
        description: "Retrieve details from a custom task template"
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/BasicTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: "Create or Update a custom task template in a process template"
        description: "Create or Update a custom task template in a process template"
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Custom task template definition"
            required: true
            schema:
              $ref: "#/definitions/BasicTaskTemplates"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/BasicTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/BasicTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}#fill_form:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: 'Retrieve details from a "Fill out a web form" task template'
        description: 'Retrieve details from a "Fill out a web form" task template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillFormTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: 'Create or Update a "Fill out a web form" task template in a process template'
        description: 'Create or Update a "Fill out a web form" task template in a process template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: '"Fill out a web form" task template definition'
            required: true
            schema:
              $ref: "#/definitions/FillFormTaskTemplates"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/FillFormTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/FillFormTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}#fill_pdf:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: 'Retrieve details from a "Fill out a PDF" task template'
        description: 'Retrieve details from a "Fill out a PDF" task template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillPdfTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: 'Create or Update a "Fill out a PDF" task template in a process template'
        description: 'Create or Update a "Fill out a PDF" task template in a process template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Fill out a PDF task template definition"
            required: true
            schema:
              $ref: "#/definitions/FillPdfTaskTemplates"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/FillPdfTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/FillPdfTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}#signature:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: 'Retrieve details from a "Sign a document" task template'
        description: 'Retrieve details from a "Sign a document" task template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignatureTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: 'Create or Update a "Sign a document" task template in a process template'
        description: 'Create or Update a "Sign a document" task template in a process template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Sign a document task template definition"
            required: true
            schema:
              $ref: "#/definitions/SignatureTaskTemplates"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/SignatureTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/SignatureTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}#validation:
      get:
        tags:
          - "People Assist: Process Templates"
        summary: 'Retrieve details from a "Review a completed task" task template detail'
        description: 'Retrieve details from a "Review a completed task" task template detail'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ValidationTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Process Templates"
        summary: 'Create or Update a "Review a completed task" task template in a process template'
        description: 'Create or Update a "Review a completed task" task template in a process template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            pattern: '^[a-z0-9\-\_]+$'
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: '"Review a completed task" task template definition'
            required: true
            schema:
              $ref: "#/definitions/ValidationTaskTemplates"
        responses:
          200:
            description: "Updated"
            schema:
              $ref: "#/definitions/ValidationTaskTemplates"
          201:
            description: "Created"
            schema:
              $ref: "#/definitions/ValidationTaskTemplates"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /process_templates/{process_template_id}/task_templates/{id}:
      delete:
        tags:
          - "People Assist: Process Templates"
        summary: 'Delete a task template'
        description: 'Delete a task template'
        produces:
          - "application/json"
        parameters:
          -
            name: "process_template_id"
            in: "path"
            description: "The ID of the process template"
            required: true
            type: "string"
          -
            name: "id"
            in: "path"
            description: "The ID of the task template"
            required: true
            type: "string"
        responses:
          204:
            description: "No Content"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /process_pdf_templates:
      get:
        tags:
          - "People Assist: PDF Templates"
        summary: "Retrieve the list of existing pdf templates"
        description: "Retrieve the list of existing pdf templates"
        produces:
          - "application/json"
        responses:
          200:
            description: "List of pdf templates"
            schema:
              title: "ArrayOfPdfTemplates"
              type: "array"
              items:
                $ref: "#/definitions/PdfTemplateList"
    
      head:
        tags:
          - "People Assist: PDF Templates"
        summary: "Retrieve the number of existing pdf templates"
        description: "Retrieve the number of existing pdf templates"
        produces:
          - "application/json"
        responses:
          200:
            description: "Number of pdf templates"
            headers:
              X-Total-Count:
                description: "The counter of pdf templates for the client"
                type: "integer"

    /process_pdf_templates/{id}:
      get:
        tags:
          - "People Assist: PDF Templates"
        summary: "Retrieve details from a pdf template"
        description: "Retrieve details from a pdf template"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The ID of the pdf template"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/PdfTemplateDetail"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      put:
        tags:
          - "People Assist: PDF Templates"
        summary: "Create or update a pdf template"
        description: "Create or update a pdf template"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The ID of the pdf template"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "The pdf template definition"
            required: true
            schema:
              $ref: "#/definitions/PdfTemplateWrite"
        responses:
          200:
            description: "The updated Pdf Template"
            schema:
              $ref: "#/definitions/PdfTemplateDetail"
          201:
            description: "The created Pdf Template"
            schema:
              $ref: "#/definitions/PdfTemplateDetail"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


    /tasks:
      get:
        tags:
          - "People Assist: Tasks"
        summary: "List & search tasks"
        description: "List and search tasks"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "status"
            in: "query"
            type: "string"
            required: false
            description: "Search by status"
            enum:
              - blocked
              - canceled
              - completed
              - draft
              - to_do
          -
            name: "type"
            in: "query"
            type: "string"
            required: false
            description: "Search tasks by type"
            enum:
              - acknowledgment
              - basic
              - fill_form
              - fill_pdf
              - signature
              - validation
          -
            name: "template_task_id"
            in: "query"
            description: "Search by template task ID"
            required: false
            type: "string"
          -
            name: "process_id"
            in: "query"
            description: "Search by process ID"
            required: false
            type: "string"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+completed_at"
              - "-completed_at"
              - "+created_at"
              - "-created_at"
              - "+due_date"
              - "-due_date"
            default: "-created_at"
          -
            name: "completed_at_since"
            in: "query"
            description: "Filter by completion date greater or equal."
            required: false
            type: "string"
            format: "date-time"
          -
            name: "completed_at_until"
            in: "query"
            description: "Filter by completion date less."
            required: false
            type: "string"
            format: "date-time"
          -
            name: "has_requested_changes"
            in: "query"
            description: "Filter on reviewed tasks which were marked as being in need of change(s) during the validation process."
            required: false
            type: "boolean"
          -
            name: "has_due_date"
            in: "query"
            description: |
              Filter tasks that:
                - have a `due_date` defined if `true`
                - don't have a `due_date` defined if `false`
            required: false
            type: "boolean"
        responses:
          200:
            description: "List of tasks"
            schema:
              title: "ArrayOfTasks"
              type: "array"
              items:
                $ref: "#/definitions/TaskListPayload"
    

    /tasks/{id}#acknowledgment:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of an acknowledgment task
        description: Partial update of an acknowledgment task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/AckTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for an acknowledgment task"
        description: "Retrieve information from an Acknowledgment task.
        NB: the #acknowledgment in the url is only here to clarify the documentation so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/AckTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /tasks/{id}#basic:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of a basic task
        description: Partial update of a basic task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/BasicTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for a basic task"
        description: "Retrieve information from a Basic task.
        NB: the #basic in the url is only here to clarify the documentation
        so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/BasicTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /tasks/{id}#signature:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of a signature task
        description: Partial update of a signature task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignatureTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for a signature task"
        description: "Retrieve information from a Signature task.
        NB: the #signature in the url is only here to clarify the documentation
        so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation.
            If `signature_zone` appears in the `embed` query string value,
            its id `signature_zone_id` will be removed from the payload and
            replaced with its `SignatureZone` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
              - "signature_zone"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SignatureTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /tasks/{id}#fill_form:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of a fill form task
        description: Partial update of a fill form task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillFormTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for a fill out a form task"
        description: "Retrieve information from a Fill out a form task.
        NB: the #fill_form in the url is only here to clarify the documentation
        so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillFormTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /tasks/{id}#fill_pdf:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of a fill PDF task
        description: Partial update of a fill PDF task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillPdfTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for a fill a PDF task"
        description: "Retrieve information from a Fill a PDF task.
        NB: the #fill_pdf in the url is only here to clarify the documentation
        so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/FillPdfTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /tasks/{id}#validation:
      patch:
        tags:
          - "People Assist: Tasks"
        summary: Partial update of a validation task
        description: Partial update of a validation task
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: "The task `ID`"
            required: true
            type: string
          - name: body
            in: body
            description: "Task updated fields payload"
            required: true
            schema:
              $ref: "#/definitions/PatchTaskPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ValidationTaskPayload"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get information for a validate a previous task"
        description: "Retrieve information from a Validation task.
        NB: the #validation in the url is only here to clarify the documentation
        so you don't have to use it."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "embed"
            in: "query"
            description: "If `completed_by` appears in the `embed` query string
            value, its uuid `completed_by_id` will be removed from the payload and
            replaced with its `EmployeeSimplified` representation."
            required: true
            type: "array"
            items:
              type: string
            collectionFormat: csv
            enum:
              - "completed_by"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/ValidationTaskPayload"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /tasks/{id}/files:
      post:
        tags:
          - "People Assist: Tasks"
        summary: "Attach file to a task"
        description: "Once a file is uploaded to a form, it is temporarily stored and referenced with an upload_id. Use this endpoint to attach this file to a task using upload_id."
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body to associate the uploaded file to the task"
            required: true
            schema:
              $ref: "#/definitions/TaskFilePostPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/TaskFileResource"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
    /tasks/{id}/files/{file_id}:
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Get file uploaded to a task"
        description: "Retrieve a file (task_file) uploaded in a `Fill out a form task`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "file_id"
            in: "path"
            description: "The task file `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/TaskFileResource"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      delete:
        tags:
          - "People Assist: Tasks"
        summary: "Delete file uploaded to a task"
        description: "Delete a file uploaded in form field. Please note that the task needs to have the to_do status to delete the file."
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "file_id"
            in: "path"
            description: "The task file `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      patch:
        tags:
          - "People Assist: Tasks"
        summary: "Partial update of a file uploaded to a task"
    
        description: "Modify a file uploaded in form field. Please note that the task needs to have the to_do status to patch the file."
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "file_id"
            in: "path"
            description: "The task file `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body to associate the uploaded file to the task"
            required: true
            schema:
              $ref: "#/definitions/TaskFilePatchPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/TaskFileResource"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /tasks/{id}/files/{file_id}/download:
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Download file previously uploaded to a task"
        description: "Download a file (task_file) uploaded in a `Fill out a form task`"
        produces:
          - "application/octet-stream"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "file_id"
            in: "path"
            description: "The task file `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /tasks/{id}/workingfiles/{file_id}:
      get:
        tags:
          - "People Assist: Tasks"
        summary: "Download files generated for a task"
        description: "Download files generated by the task."
        produces:
          - "application/octet-stream"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The task `ID`"
            required: true
            type: "string"
          -
            name: "file_id"
            in: "path"
            description: "The working file `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    # Fill form and fill PDF tasks
    /tasks/{id}/fill:
      post:
        tags:
                - "People Assist: Tasks"
        summary: "Fill a task form"
        description: 'Fills a form and saves it as a draft.
    
    
    For `fill_form` and `fill_pdf` tasks only, the `body` is an array of
    objects representing the form data sent.
    As its content will depend on the form definition, we can not predict the full
    request body.
    
    Remember the dataset field data must be surrounded by square brackets in the request payload.
    
    The task is not completed after the `POST`, the form is only saved as a draft.'
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: path
            description: "Task `ID`"
            type: "string"
            required: true
          - name: "body"
            in: body
            description: "Body to complete fill form and fill PDF tasks"
            required: true
            schema:
              $ref: "#/definitions/FillTaskPayload"
        responses:
          200:
              description: "OK"
              schema:
                $ref: "#/definitions/TaskFull"
          404:
              description: "Not Found"
              schema:
                  $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity, validation failed"
              schema:
                  $ref: "#/definitions/Error"




# EMPLOYEE_SETTINGS
# -----------------
    
    /employee_settings/{employee_id}/process_automation:
      get:
        summary: Get Digital Process Manager employee settings
        description: Get Digital Process Manager employee settings
        tags:
          - "Platform: Employee Settings"
        produces:
          - application/json
        consumes:
          - application/json
        parameters:
          -
            name: employee_id
            in: path
            description: "`ID` of the `Employee`"
            required: true
            type: string
            format: uuid
        responses:
          200:
            description: OK
            schema:
              $ref: "#/definitions/EmployeeSettingsProcessAutomation"
          404:
            description: Not Found
            schema:
              $ref: "#/definitions/BadRequest"
    
    /employee_settings/{employee_id}/process_automation/welcome_file:
      get:
        summary: Download employee welcome file
        description: Download employee welcome file
        tags:
          - "Platform: Employee Settings"
        produces:
          - "application/octet-stream"
        consumes:
          - application/json
        parameters:
          -
            name: employee_id
            in: path
            description: "`ID` of the `Employee`"
            required: true
            type: string
            format: uuid
        responses:
          200:
            description: OK
          404:
            description: Not Found
            schema:
              $ref: "#/definitions/BadRequest"


# CATEGORIES
# ---------

    /kb_categories:
      get:
        tags:
          - "People Assist: Categories"
        summary: "Categories listing (new KB)"
        description: |
          List and filter categories (new KB). Lists are always sorted by `order` attribute value.
        produces:
          - "application/json"
        parameters:
          - $ref: "#/parameters/PerPageParameter"
          - name: original_language_code
            in: "query"
            description: Filter categories by original language code
            required: false
            type: "string"
          - name: multilingual
            description: Filter only new categories (containing at least one language)
            in: query
            required: false
            type: boolean
          - name: icon_type
            description: Translate categories icons to corresponding icon type
            in: query
            type: string
            required: false
            enum: [pdui, ignite]
            default: pdui
        responses:
          200:
            description: "List of categories"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/KbCategoryFull"
    
    /kb_categories/{id}:
      get:
        tags:
          - "People Assist: Categories"
        summary: "Category details (new KB)"
        description: |
          Get the details of a category (new KB)
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The category `ID` (uuid)"
            required: true
            type: "string"
          - name: icon_type
            description: Translate category icon to corresponding icon type
            in: query
            type: string
            required: false
            enum: [pdui, ignite]
            default: pdui
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/KbCategoryFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "People Assist: Categories"
        summary: "Delete a category (new KB)"
        description: |
          Delete a category. The deletion is possible if the category has no linked entities: 
          articles, request_forms, open requests or default request forms with linked macros and/or trigger rules.
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The category `ID` (uuid)"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/KbCategoryDeletionError"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
    
      patch:
        tags:
          - "People Assist: Categories"
        summary: "Modify a category order (new KB)"
        description: |
          Modify a category order
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The category `ID` (uuid)"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body containing the json payload"
            required: true
            schema:
              $ref: "#/definitions/KbCategoryPatchOrderPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/KbCategoryFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
    
      put:
        tags:
          - "People Assist: Categories"
        summary: "Create or update category (new KB)"
        description: |
          Create or update category (new KB).
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The category `ID` (uuid)"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body containing the json payload"
            required: true
            schema:
              $ref: "#/definitions/KbCategoryUpdatePayload"
          - name: force_replicate
            description: Allows a replication of a category from one client to another
            in: query
            type: boolean
            required: false
        responses:
          200:
            description: "OK"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/KbCategoryFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
    


# ARTICLES
# ---------

    /article_resources/{id}:
      get:
        tags:
          - "People Assist: Articles"
        summary: "Download resource attached"
        description: |
          Get the resource linked in an article.
    
          It is usually an image embedded in an article.
        produces:
          - file
        parameters:
          -
            name: "id"
            in: "path"
            description: "The article resource `ID`, usually a UUID"
            required: true
            type: string
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /article_documents/{id}:
      get:
        tags:
          - "People Assist: Articles"
        description: |
          Download media file uploaded by the client, for example referenced in an article body or a form field description.
          These media files come from the "Media" page in People Assist/Knowledge Base.
        summary: "Download media file"
        produces:
          - file
        parameters:
          -
            name: "id"
            in: "path"
            description: "The article document `ID`, usually a slug"
            required: true
            type: string
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"


    /kb_articles:
      get:
        tags:
          - "People Assist: Articles"
        summary: Article listing
        description: |
          List articles. On employee scope and on user scope for users that are not allowed
          to manage articles, it lists the published articles.
    
          The versions' bodies are not embedded by default in the listing. If you want
          the bodies to be included in the payload, you need to add the query param
          `?embed=versions.body`. To be used with full knowledge of the fact that
          bodies can make the payload heavy.
        produces:
          - "application/json"
        parameters:
          - $ref: "#/parameters/PerPageParameter"
          - name: embed
            in: query
            description: List of embedded information
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - versions.body
          - name: featured_on_employee_homepage
            in: query
            description: |
              If `true`, returns only featured articles (articles that are displayed in
              the "featured articles" section on the home page of the employee portal).
              If `false`, returns non featured articles. If empty or not in the query, returns all articles.
            required: false
            type: boolean
          - name: permanent_on_employee_homepage
            in: query
            description: |
              If `true`, returns only permanent articles (articles that are permanently 
              displayed on the home page of the employee portal), if `false`, returns non 
              permanent articles. If empty or not in the query, returns all articles
            required: false
            type: boolean
          - name: once_on_employee_homepage
            in: query
            description: |
              If `true`, returns the oldest article that has to be displayed at least once 
              on the employee home page and that has not been dismissed. If set, all other 
              filters are ignored. The article body is included in the payload.
            required: false
            type: boolean
            enum:
              - true
          - name: categories_ids
            in: query
            description: |
              Filter articles by category. It can be a comma separated list, 
              e.g. `?categories_ids=id-1,id-2`. Category ids must be UUIDs.
            required: false
            type: string
          - name: tags
            in: query
            description: Filter articles by tag. It can be a comma separated list, e.g. `?tags=tag_a,tag_b`.
            required: false
            type: string
          - name: tags_language_code
            in: query
            description: Language code used to filter by tags.
            required: false
            type: string
          - name: version_language_code
            in: query
            description: |
              Filter articles by version's language code.
              Articles will be returned if they have at least one version with the given version_language_code.
              Versions will contain all languages including desired version_language_code.
            required: false
            type: string
          - name: organization_id
            in: query
            description: |
              Filter articles by organization id.
            required: false
            type: string
          - name: organization_group_id
            in: query
            description: |
              Filter articles by organization group id.
            required: false
            type: string
          - name: author_id
            in: query
            description: |
              Filter articles by author id.
            required: false
            type: string
          - name: q
            in: query
            description: |
              Fulltext case-insensitive search on articles. Must be at least 3 characters.
    
              For HR users that are not allowed to manage articles, it has to be used
              with `category_original_language_code` query param. If `q` is present,
              results will always be sorted by search score regardless of the sort param.
            required: false
            type: string
          - name: category_original_language_code
            in: query
            description: |
              It is used to filter articles by category's original language code.
              For HR users that are not allowed to manage articles, it has to be
              used with `q` query param.
            required: false
            type: string
          - name: status
            in: query
            description: |
              Filter articles on their status.
            required: false
            type: string
            enum:
              - draft
              - published
              - scheduled
          - name: with_expiration_date
            in: query
            description: |
              Use this query param with `true` value to only get articles with
              an expiration date set. All other values, including `false`, will be
              ignored and will not filter anything.
            required: false
            type: boolean
            enum:
              - true
          - name: employee_id
            in: query
            description: Return only the articles accessible to this specific employee
            required: false
            type: string
          - name: sort
            in: query
            description: |
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: string
            enum:
              - +last_hits
              - -last_hits
              - +updated_at
              - -updated_at
              - +title
              - -title
              - +created_at
              - -created_at
              - +expiration_date
              - -expiration_date
        responses:
          200:
            description: List of articles
            schema:
              type: array
              items:
                $ref: "#/definitions/KbArticleFull"
          400:
            description: Bad Request
            schema:
              $ref: "#/definitions/BadRequest"
    
    /kb_articles/images:
      post:
        tags:
          - "People Assist: Articles"
        summary: "Upload an image"
        description: |
          Upload an image, you can use the returned url in an article body
        produces:
          - "application/json"
        consumes:
          - "multipart/form-data"
        parameters:
          - name: image
            in: formData
            description: The image to upload, must be 20Mo max and have an image content/type.
            required: true
            type: file
        responses:
          200:
            description: OK
            schema:
              $ref: "#/definitions/KbArticleImage"
          422:
            description: Unprocessable Entity
            schema:
              $ref: "#/definitions/Error"
          413:
            description: Request Entity Too Large
            schema:
              $ref: "#/definitions/Error"
    

    /kb_articles/{id}:
      get:
        tags:
          - "People Assist: Articles"
        summary: Article details
        description: |
          Get the details of an article.
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: The article `ID`
            required: true
            type: string
        responses:
          200:
            description: OK
            schema:
              $ref: "#/definitions/KbArticleFull"
          400:
            description: Bad Request
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Articles"
        summary: Create or update article (new KB)
        description: |
          Create or update article (new KB).
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: The article `ID`
            required: true
            type: string
          - name: body
            in: body
            description: Body containing the json payload
            required: true
            schema:
              $ref: "#/definitions/KbArticleUpdatePayload"
        responses:
          201:
            description: OK
            schema:
              $ref: "#/definitions/KbArticleFull"
          200:
            description: OK
            schema:
              $ref: "#/definitions/KbArticleFull"
          400:
            description: Bad Request
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: Unprocessable Entity
            schema:
              $ref: "#/definitions/Error"
          403:
            description: Permission denied
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "People Assist: Articles"
        summary: Delete an article
        description: |
          Delete an article. This action is irreversible, the article can not be retrieved after.
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: The article `ID`
            required: true
            type: string
        responses:
          204:
            description: OK
          404:
            description: Not Found
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: Permission denied
            schema:
              $ref: "#/definitions/BadRequest"
    
      patch:
        summary: Article partial update
        description: |
          Patch article to change its publication status.
        tags:
          - "People Assist: Articles"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - name: id
            in: path
            description: The article `ID`
            required: true
            type: string
          - in: body
            name: body
            description: Article payload
            required: true
            schema:
              $ref: "#/definitions/KbArticlePatchPayload"
        responses:
          200:
            description: OK
            schema:
              $ref: "#/definitions/KbArticleFull"
          400:
            description: Bad Request
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: Unprocessable Entity
            schema:
              $ref: "#/definitions/Error"
    
    
    

    /kb_tags:
      get:
        tags:
          - "People Assist: Articles"
        summary: Tag listing
        description: |
          List tags. Tags are used to add a user generated classification on articles,
          different from the fixed number of categories.
          The listing will provide a list in alphabetic order.
          The endpoint is used to search tags in a specified languages.
          So the `language_code` parameter is mandatory.
          The `q` parameter expects at least 3 characters.
        produces:
          - "application/json"
        parameters:
          - $ref: "#/parameters/PerPageParameter"
          - name: q
            in: query
            description: |
              Fulltext case-insensitive search on tags. Must be at least 3 characters.
            required: false
            type: string
          - name: language_code
            in: query
            description: |
              It is used to filter tags by language code.
            required: false
            type: string
        responses:
          200:
            description: List of tags
            schema:
              type: array
              items:
                $ref: "#/definitions/KbTag"
          400:
            description: Bad Request
            schema:
              $ref: "#/definitions/BadRequest"





# KB PERMISSIONS
# ---------

# REQUESTS
# ---------
    /requests:
      get:
        tags:
          - "People Assist: Requests"
        summary: "List & search requests"
        description: >
          Lists requests sorted by their update date, sorted by their updated status (`-last_updated_at`).
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "status"
            in: "query"
            type: array
            items:
              type: string
            collectionFormat: csv
            required: false
            description: >
              Filter requests by their status, that can be one or several comma separated values amongst:
                - `created`
                - `opened`
                - `pending`
                - `closed`
                - `archived`
            enum:
              - 'created'
              - 'opened'
              - 'pending'
              - 'closed'
              - 'archived'
          -
            name: "sort"
            in: "query"
            type: string
            required: false
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            enum:
              - "+request_number"
              - "-request_number"
              - "+name"
              - "-name"
              - "+status"
              - "-status"
              - "+priority"
              - "-priority"
              - "+created_at"
              - "-created_at"
              - "+updated_at"
              - "-updated_at"
          -
            name: embed
            in: query
            description: >
              Adds additional information on users related to the request:
                - `creator`: removes `creator_id` from the payload and replace it with its `UserSimplified` representation with `creator` key
                - `employee`: removes `employee_id` from the payload and replace it with its `EmployeeSimplified` representation with `employee` key
                - `closed_by`: removes `closed_by_id` from the payload and replace it with its `UserSimplified` representation with `closed_by` key
                - `feedback`: embed the feedback of the request if it exists
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - creator
              - employee
              - closed_by
          -
            name: "organization_id"
            in: query
            description: "Filter requests list according to the organization IDs (codes) the request is created for"
            required: false
            type: array
            items:
              type: string
          -
            name: "form_id"
            in: query
            description: "Filter requests list according to the form IDs (slugs) that was used to create"
            required: false
            type: array
            items:
              type: string
          -
            name: "categories_ids"
            in: query
            description: "Filter requests list according to the category the request is attached to"
            required: false
            type: string
          -
            name: "employee_id"
            in: query
            description: "Filter requests list according to the employee uuid the request is created for"
            required: false
            type: string
          -
            name: "employee_external_id"
            in: query
            description: "Filter requests list according to the customer employee external id the request is created for"
            required: false
            type: string
          -
            name: "creator_id"
            in: query
            description: "Filter requests list according to the creator uuid (creator can be a HR User, a manager or an employee)"
            required: false
            type: string
          - name: "priority"
            in: "query"
            type: array
            items:
              type: string
            required: false
            description: >
              Filter requests by their priority:
                - `1 (LOW)`
                - `2 (NORMAL)`
                - `3 (URGENT)`
            enum:
              - '1'
              - '2'
              - '3'
          -
            name: "creator_external_id"
            in: query
            description: "Filter requests list according to the creator customer external id (creator can be a HR User, a manager or an employee)"
            required: false
            type: string
          -
            name: "assignee_id"
            in: query
            description: "Filter requests list according to the assignee uuid (assignee can be a HR User, a manager or an employee)"
            required: false
            type: string
            format: "uuid"
          -
            name: "custom_status_id"
            in: query
            description: "Filter requests list by id of custom_status, or by list of comma separated ids."
            required: false
            type: string
          -
            name: "created_at_since"
            in: "query"
            description: "Filter requests list according to the requests creation dates"
            required: false
            type: "string"
            format: date
          -
            name: "created_at_until"
            in: "query"
            description: "Filter requests list according to the requests creation dates"
            required: false
            type: "string"
            format: date
          -
            name: "updated_at_since"
            in: "query"
            description: "Filter requests list according to the requests update dates"
            required: false
            type: "string"
            format: date
          -
            name: "updated_at_until"
            in: "query"
            description: "Filter requests list according to the requests update dates"
            required: false
            type: "string"
            format: date
          -
            name: "closed_at_since"
            in: "query"
            description: "Filter requests list according to the requests closure dates"
            required: false
            type: "string"
            format: date
          -
            name: "closed_at_until"
            in: "query"
            description: "Filter requests list according to the requests closure dates"
            required: false
            type: "string"
            format: date
          -
            name: "archived_at_since"
            in: "query"
            description: "Filter requests list according to the requests archiving dates"
            required: false
            type: "string"
            format: date
          - name: "archived_at_until"
            in: "query"
            description: "Filter requests list according to the requests archiving dates"
            required: false
            type: "string"
            format: date
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in subject, body, custom counter and matricules"
            required: false
            type: "string"
        responses:
          200:
            description: "List of requests"
            schema:
              title: "ArrayOfRequests"
              type: "array"
              items:
                $ref: "#/definitions/RequestFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      post:
        tags:
          - "People Assist: Requests"
        summary: "Create a request"
        description: >
          Create a new request
    
          Note: Datasets should include the id, name and code.
        produces:
          - "application/json"
        parameters:
          - name: "body"
            in: body
            description: "Values and files associated to the current request."
            required: true
            schema:
              $ref: "#/definitions/RequestPostCreatePayload"
        responses:
          201:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFullWithAttachments"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
    
    

    /requests/{id}/comments:
      get:
        tags:
          - "People Assist: Requests"
        summary: "List all comments of a request"
        description: "List all comments attached to a request, sorted by decreasing creation date"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: embed
            in: query
            description: >
              Adds additional information on users related to the comment:
                - `creator`: removes `creator_id` from the payload and replaces it with its `UserSimplified` representation with `creator` key
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - creator
        responses:
          200:
            description: "OK"
            schema:
              title: "array of RequestComment"
              type: "array"
              items:
                $ref: "#/definitions/RequestComment"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      post:
        tags:
          - "People Assist: Requests"
        summary: "Create a new comment for a request"
        description: "Add a new comment to the request."
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body containing the comment to send"
            required: true
            schema:
              $ref: "#/definitions/RequestPostComment"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestComment"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/comments/{comment_id}/attachments/{attachment_id}/preview:
      head:
        tags:
          - "People Assist: Requests"
        summary: "Get the page count of a comment attachment"
        description: "Request comment attachment preview headers."
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "comment_id"
            in: "path"
            description: "The comment `ID`"
            required: true
            type: "string"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
            headers:
              Page-Count:
                description: "The total number of pages of the document"
                type: "integer"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/comments/{comment_id}/attachments/{attachment_id}/preview/{page}:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get the preview of a page"
        description: "Download the preview of a page of a comment attachment"
        produces:
          - "image/png"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "comment_id"
            in: "path"
            description: "The comment `ID`"
            required: true
            type: "string"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
          -
            name: "page"
            in: "path"
            description: "The number of the page to preview"
            required: true
            type: "integer"
            default : 1
          -
            name: "size"
            in: "query"
            description: "Size of the preview"
            required: false
            type: "string"
            enum: ["small", "normal", "large"]
            default: "normal"
          -
            name: "crop_rate"
            in: "query"
            description: "Percentage of the height of the file"
            required: false
            type: "number"
            format: double
            minimum: 0
            maximum: 1
            default: 1
        responses:
          200:
            description: "Comment attachment preview of the page"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /requests/{id}:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get details of a request"
        description: "Retrieve a previously created `Request`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          -
            name: embed
            in: query
            description: >
              Adds additional information on users related to the request:
                - `creator`: removes `creator_id` from the payload and replace it with its `UserSimplified` representation with `creator` key
                - `employee`: removes `employee_id` from the payload and replace it with its `EmployeeSimplified` representation with `employee` key
                - `closed_by`: removes `closed_by_id` from the payload and replace it with its `UserSimplified` representation with `closed_by` key
                - `feedback`: embed the feedback of the request if it exists
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - creator
              - employee
              - closed_by
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFullWithAttachments"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      delete:
        tags:
          - "People Assist: Requests"
        summary: "Delete a request & it's attachments"
        description: "Delete a request permanently. It will also delete all attachments, comments and links related to this request. It won't be able to retrieve any of these items."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `UUID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    
      patch:
        tags:
          - "People Assist: Requests"
        summary: "Partial update of a request"
        description: >
          Patch request to:
            - send modified form values if the request is editable
            - add one or more files to a request's form. If you want to replace a previously added file you must delete it first.
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Body to set new values"
            required: true
            schema:
              $ref: "#/definitions/RequestPatchPayload"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFullWithAttachments"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          403:
            description: "Forbidden"
            schema:
              $ref: "#/definitions/Forbidden"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
    
    /requests/{id}/files/{file_id}:
      delete:
        tags:
          - "People Assist: Requests"
        summary: "Delete files attached to a request form"
        description: "Delete permanently a file attached to a request's form."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "file_id"
            in: "path"
            description: "The file `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/files/{file_id}/download:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get files from a request form"
        description: "Download files from file field in request's form."
        produces:
          - "application/octet-stream"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "file_id"
            in: "path"
            description: "The file `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/files/{file_id}/preview:
      head:
        tags:
          - "People Assist: Requests"
        summary: "Get the page count of a request file"
        description: "Request file preview headers"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "file_id"
            in: "path"
            description: "The file `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "Request file preview headers"
            headers:
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/files/{file_id}/preview/{page}:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Download the preview of a page"
        description: "Download the preview of a page of a request file"
        produces:
          - "image/png"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "file_id"
            in: "path"
            description: "The file `ID`"
            required: true
            type: "string"
          -
            name: "page"
            in: "path"
            description: "The number of the page to preview"
            required: true
            type: "integer"
            default : 1
          -
            name: "size"
            in: "query"
            description: "Size of the preview"
            required: false
            type: "string"
            enum: ["small", "normal", "large"]
            default: "normal"
          -
            name: "crop_rate"
            in: "query"
            description: "Percentage of the height of the file"
            required: false
            type: "number"
            format: double
            minimum: 0
            maximum: 1
            default: 1
        responses:
          200:
            description: "Request file preview"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    

    /requests/{id}/attachments/{attachment_id}:
    
      delete:
        tags:
          - "People Assist: Requests"
        summary: "Delete files attached to a request"
        description: "Delete permanently a file attached to a request."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/attachments/{attachment_id}/download:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get files attached to a request"
        description: "Download a file attached to the specify request."
        produces:
          - "application/octet-stream"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/attachments/{attachment_id}/preview:
      head:
        tags:
          - "People Assist: Requests"
        summary: "Get the page count of a request attachment"
        description: "Request attachment preview headers"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "Request attachment preview headers"
            headers:
              Page-Count:
                description: "The total number of pages of the document"
                type: "integer"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
    /requests/{id}/attachments/{attachment_id}/preview/{page}:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get the preview of a request attachment"
        description: "Request attachment preview"
        produces:
          - "image/png"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "attachment_id"
            in: "path"
            description: "The attachment `ID`"
            required: true
            type: "string"
          -
            name: "page"
            in: "path"
            description: "The number of the page to preview"
            required: true
            type: "integer"
            default : 1
          -
            name: "size"
            in: "query"
            description: "Size of the preview"
            required: false
            type: "string"
            enum: ["small", "normal", "large"]
            default: "normal"
          -
            name: "crop_rate"
            in: "query"
            description: "Percentage of the height of the file"
            required: false
            type: "number"
            format: double
            minimum: 0
            maximum: 1
            default: 1
        responses:
          200:
            description: "Request attachment preview"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"


    /requests/{id}/pdf:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get request snapshot"
        description: "Download a request snapshot as a PDF file."
        produces:
          - "application/pdf"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /requests/{id}/assignees:
      get:
        tags:
          - "People Assist: Requests"
        description: "List all HR users and managers assigned to the request"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: "offset"
            in: "query"
            type: integer
            default: 0
            description: "page offset"
          - name: "length"
            in: "query"
            default: 10
            type: integer
            description: "page length"
        responses:
          200:
            description: "List of `Users`"
            schema:
              type: "array"
              title: "ArrayOfUsers"
              items:
                $ref: "#/definitions/UserSimplified"
            headers:
              link:
                description: "Pagination links"
                type: "string"

    /requests/{id}/macros:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get list of available macros for the request"
        description: "Given a request, this endpoint will return the list of available macros that could be executed on the request based on the role of the user, the custom form of the ticket and the custom status of the ticket."
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              title: "array of Macros"
              type: "array"
              items:
                $ref: "#/definitions/MacroList"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      post:
        tags:
          - "People Assist: Requests"
        summary: "Execute a macro on the request"
        description: "Given a request, this endpoint will execute a macro on the ticket."
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Macro ID to be executed."
            required: true
            schema:
              $ref: "#/definitions/RequestMacroPayload"
        responses:
          200:
            description: "OK"
          403:
            description: "Forbidden"
            schema:
              $ref: "#/definitions/Forbidden"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /requests/{id}/linked_requests:
      get:
        tags:
          - "People Assist: Requests"
        description: "List all requests linked to a request sorted by decreasing creation date."
        produces:
          - "application/json"
        parameters:
          - $ref: "#/parameters/PerPageParameter"
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "List of requests"
            schema:
              title: "ArrayOfRequests"
              type: "array"
              items:
                $ref: "#/definitions/RequestFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      post:
        tags:
          - "People Assist: Requests"
        description: "Link a request to another existing request."
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "The request `ID`"
            required: true
            type: "string"
          - name: "body"
            in: "body"
            description: "The request UUID you want to link to the request."
            required: true
            schema:
              required:
                - uuid
              properties:
                uuid:
                  type: array
                  items:
                    type: string
                  description: "The request UUID you want to link to the request."
                  example: ["634766dc-4742-4e6e-9708-e27bf0273749"]
        responses:
          204:
            description: "No Content"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /request_forms:
      head:
        tags:
          - "People Assist: Requests"
        summary: "Get the total count of custom forms"
        description: "The custom forms list headers"
        responses:
          200:
            description: "The custom forms list headers"
            headers:
              X-Total-Count:
                description: "The total count of custom forms"
                type: "integer"
      get:
        tags:
          - "People Assist: Requests"
        summary: "List & search request forms"
        description: >
          Lists request forms, ordered by default by `title` ascending.
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: category_id
            in: query
            type: integer
            required: false
            description: >
              Filter request forms by category (given its slug)
          -
            name: is_default
            in: query
            type: boolean
            required: false
            description: Filter request forms by `is_default` attribute
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "string"
            collectionFormat: csv
            enum:
              - "+title"
              - "-title"
              - "+last_hits"
              - "-last_hits"
          -
            name: "language_code"
            in: "query"
            description: "Filter request forms by language"
            required: false
            type: "string"
          -
            name: featured
            in: "query"
            description: Filter request forms by `featured` attribute
            required: false
            type: "boolean"
          -
            name: "q"
            in: "query"
            description: "Full text search on request forms. Filtering by language_code is mandatory in this case, otherwise an error 400 will be returned."
            required: false
            type: "string"
          -
            name: "employee_id"
            in: "query"
            description: "Filter request forms that can be seen by a specific employee"
            required: false
            type: "string"
        responses:
          200:
            description: "List of request forms"
            schema:
              title: "ArrayOfRequestForms"
              type: "array"
              items:
                $ref: "#/definitions/RequestForm"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"

    /request_forms/{id}:
      get:
        tags:
          - "People Assist: Requests"
        summary: "Get details of a request form"
        description: >
          Get details of a request form.
        produces:
          - "application/json"
        parameters:
          -
            name: id
            in: path
            type: integer
            required: true
            description: Unique  ID of the form used in the request (slug ID)
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFormFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
      patch:
        tags:
          - "People Assist: Requests"
        summary: "Partial update of a request form"
        description: >
          Patch request form to:
            - change keywords
            - change message displayed on creation success
            - tell if employee got it in the featured list
            - tell if employee can see or modify it
            - tell if HR user can see or modify it
            - tell if HR user can link a request to an employee, an organization or both
            - tell if linking to an employee or an organization is mandatory
            - tell if the due date is visible by the employee
            - tell if the custom status are visible by the employee
            - toggle the employee feedback feature
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            type: integer
            required: true
            description: Unique ID of the form used in the request (slug ID)
          - name: "body"
            in: body
            description: "Body to set new values"
            required: true
            schema:
              $ref: "#/definitions/RequestFormPatch"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFormPatch"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"
      put:
        tags:
          - "People Assist: Requests"
        summary: "Full update or create of a request form"
        description: >
          Full update or create of a request form:
            - 'form_definition' property is contextualized for an employee and readonly
            - 'formidable' property (internal and client scope) is the formidable object as JSON without any modifications, allowing
              GET and PUT with the same payload, making duplication of conf by PeopleCare possible
        produces:
          - "application/json"
        parameters:
          - name: id
            in: path
            type: integer
            required: true
            description: Unique  ID of the form used in the request (slug ID)
          - name: "body"
            in: body
            description: "Body to set/create a new request form"
            required: true
            schema:
              $ref: "#/definitions/RequestFormPut"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/RequestFormPut"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
              description: "Unprocessable Entity"
              schema:
                  $ref: "#/definitions/Error"



# CHATBOT
# ---------


# RULES
# ---------


# Formidable
# ---------



# Looker API
# ---------



# CLIENTS
# ---------

    /client:
      get:
        tags:
          - "Platform: Clients"
        summary: "Client details"
        description: "Returns the details of the Client's platform"
        produces:
          - "application/json"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/CoreClientFull"





# PLATFORM CREATIONS
# ---------


# PLATFORM UPDATES
# ---------

    /platform_updates:
      post:
        summary: "Update an existing platform"
        description: |
            Update an existing UKG HR Service Delivery `Platform`.
    
            This Platform will be updated according to the `config_update_id` parameter.
        tags:
          - "Platform: Platform Updates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Platform update description"
            required: true
            schema:
              $ref: "#/definitions/PlatformUpdatePayload"
        responses:
          204:
            description: "Platform updated"
          400:
            description: "Bad Request (invalid JSON...)"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"



# DISTRIBUTIONS
# ---------

    /distribution_projects:
      post:
        tags:
          - "Document Manager: Distribution Projects"
        summary: "Distribution project creation"
        description: |
          Create a distribution project
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Distribution Project object and options"
            required: true
            schema:
              $ref: "#/definitions/DistributionProjectBase"
        responses:
          200:
            description: "The Distribution Project details"
            schema:
              $ref: "#/definitions/DistributionProjectFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Document Manager: Distribution Projects"
        summary: "Distribution projects listing"
        description: "List all Distribution Projects"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "status"
            in: "query"
            description: "Search based on the status of the distribution projects. Can be one of: `new`, `preparing_documents`,
            `integrating_documents`, `waiting_for_validation`, `validated`, `building_campaigns`,
            `sending_notifications`, `sending_to_mypeopledoc`, `completed`, `error`"
            required: false
            type: "string"
        responses:
          200:
            description: "List of Distribution Projects"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DistributionProjectFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"

    /distribution_projects/{id}:
      get:
        tags:
          - "Document Manager: Distribution Projects"
        summary: "Distribution project details"
        description: "Returns the details of a Distribution Project"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Distribution Project `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "The Distribution Project details"
            schema:
              $ref: "#/definitions/DistributionProjectFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /distributions:
      post:
        tags:
          - "Document Manager: Distributions"
        summary: "Create distribution to project"
        description: |
          Create and attach a distribution to a distribution project
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Distribution object and options"
            required: true
            schema:
              $ref: "#/definitions/DistributionBase"
        responses:
          200:
            description: "The Distribution details"
            schema:
              $ref: "#/definitions/DistributionFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      get:
        tags:
          - "Document Manager: Distributions"
        summary: "List all distributions"
        description: "Lists the Distributions"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "distribution_project_id"
            in: "query"
            description: "Returns the Distributions created under the same
            Distribution Project"
            required: false
            type: "string"
        responses:
          200:
            description: "List of Distributions"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DistributionFull"

    /distributions/{id}:
      get:
        tags:
          - "Document Manager: Distributions"
        summary: "Get distribution details"
        description: "Returns the details of a Distribution"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Distribution `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "The Distribution details"
            schema:
              $ref: "#/definitions/DistributionFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"

    /distributions/{id}/report:
      get:
        tags:
          - "Document Manager: Distributions"
        summary: "Get distribution error report"
        description: "Get a report with the results of the Distribution"
        produces:
          - "text/csv"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Distribution `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "The Distribution report in csv format"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# TOKENS
# ---------

    /tokens:
      post:
        summary: "Get OAuth access token"
        description:  |
          Retrieve Access Tokens to access the other endpoints. This call requires application credentials (application_id and application_secret) passed through basic authentication.
        tags:
          - "Platform: OAuth - Tokens"
        produces:
          - "application/json"
        consumes:
          - "application/x-www-form-urlencoded"
        security:
         - oauth_application_basic_auth: []
        parameters:
          # Authorization
          -
            name: "Authorization"
            in: header
            description: "Basic `b64(oauth_application_id:oauth_application_secret)`"
            type: "string"
            required: true
          # Grant type
          -
            name: grant_type
            in: formData
            description: "`client_credentials`"
            type: string
            required: true
          # Client ID
          -
            name: client_id
            in: formData
            description: "ID of the client for which a token is requested. Required if the requested scope is `client`."
            type: string
            required: false
          # Scope
          -
            name: scope
            in: formData
            description: "`client`"
            type: string
            required: true
          # Application ID, Username and Password
        responses:
          200:
            description: "Token delivered"
            schema:
              $ref: "#/definitions/TokenFull"
            headers:
              Cache-Control:
                description: "`no-store`"
                type: "string"
              Pragma:
                description: "`no-cache`"
                type: "string"
          400:
            description: "Bad Request. `error` can be one of `invalid_request`, `unsupported_grant_type`"
            schema:
              $ref: "#/definitions/OAuthError"
          401:
            description: "Unauthorized. `error` can be one of `invalid_client`, `invalid_grant`, `unauthorized_client`, `invalid_scope`"
            schema:
              $ref: "#/definitions/OAuthError"

    /revoke_token:
      post:
        summary: "Revoke access token"
        description:  |
          Revoke the access_token passed in the `token` parameter. This call requires application credentials (`application_id` and `application_secret`) passed through basic authentication. This call requires application credentials (application_id and application_secret) passed through basic authentication.
        tags:
          - "Platform: OAuth - Tokens"
        produces:
          - "application/json"
        consumes:
          - "application/x-www-form-urlencoded"
        security:
         - oauth_application_basic_auth: []
        parameters:
          -
            name: "Authorization"
            in: header
            description: "Basic `b64(oauth_application_id:oauth_application_secret)`"
            type: "string"
            required: true
          -
            name: token
            in: formData
            description: "The token to revoke"
            type: string
            required: true
        responses:
          200:
            description: "Token revoked"
          400:
            description: "Bad Request. `error` can be `unsupported_token_type` if the authorization server does not support
               the revocation of the presented token type"
            schema:
              $ref: "#/definitions/OAuthError"



# DOCUMENT GENERATION
# -------------------

    /document_generations:
      post:
        summary: "Generate document from file"
        description: "Generate a document from a template referenced by its id and values from a json dataset. The generation is permissive, if fields are missing in the template or the dataset, the document will be generated successfully but the placeholders for the missing fields will still be present. <br> The generated document can be sent by email up to 5 recipients using the email_recipients property. <br><br> Note : Even if the API can handle any timezone, dates for a generated document will be converted to UTC (if needed)."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Document generation request object"
            required: true
            schema:
              $ref: "#/definitions/DocGenRequestPayload"
          - in: "query"
            name: strict
            type: "boolean"
            description: "Enable strict mode where payload must be an exact match with the template used"
            default: false
        responses:
          201:
            description: "The generated document metadata"
            schema:
              $ref: "#/definitions/DocGenFullWithErrors"
          400:
            description: "Bad request"
          403:
            description: "Forbidden: Unable to generate a document from a disabled or not active template or template version"
          424:
            description: "External dependency error: one dependency service (sae, formidable, mailcast...) has failed, more details in the response body."
    
    
    /document_generations/async:
      post:
        summary: "Generate document asynchronously"
        description: |
          "This endpoint acts the same as the `POST /document_generations/`.
          The generation will happen asynchronously and you will be able to ask for generation status following the `Location` header"
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Document generation request object"
            required: true
            schema:
              $ref: "#/definitions/DocGenRequestPayload"
          - in: "query"
            name: strict
            type: "boolean"
            description: "Enable strict mode where payload must be an exact match with the template used"
            default: false
        responses:
          202:
            description: "Accepted"
            headers:
              Location:
                type: string
                description: the location to follow to get status of generation request
          400:
            description: "Bad request"
          403:
            description: "Forbidden: Unable to generate a document from a disabled or not active template or template version"

    /document_generations/{id}:
      delete:
        summary: "Remove generated document"
        description: "Remove an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          204:
            description: "The generated document is removed"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Get generated document metadata"
        description: "Get metadata from an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The generated document metadata"
            schema:
              $ref: "#/definitions/DocGenFull"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generations/{id}/file:
      head:
        summary: "Get information about a generated document"
        description: "Get information as headers about an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The generated document headers"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Download the generated document"
        description: "Download an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/octet-stream"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The generated document"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generations/{id}/preview:
      get:
        summary: "Preview the first page of the generated document"
        description: "Preview the first page of an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "Preview of the first page in the generated document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generations/{id}/preview/{page}:
      get:
        summary: "Preview the generated document"
        description: "Preview an existing generated document."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            name: "page"
            in: "path"
            description: "Page to be displayed"
            required: true
            type: "integer"
        responses:
          200:
            description: "Preview of the generated document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    /document_generations/{id}/archive:
      post:
        summary: "Archive a document"
        description: "Archive a document. Document must have been generated asynchronously with `employee_id` and 
        `document_type_id` set."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The document was archived"
          400:
            description: "Bad request"
          424:
            description: "External dependency error: one dependency service (sae, formidable, mailcast...) has failed, more details in the response body."

    /document_generations/{id}/email:
      post:
        summary: "Send email"
        description: "Send an email with a generated document to the given recipients."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "body"
            name: "body"
            description: "Contains up to 5 recipients data if we want to send the generated document by email"
            required: true
            schema:
              type: array
              items:
                $ref: "#/definitions/EmailRecipient"
        responses:
          200:
            description: "The generated document metadata"
            schema:
              $ref: "#/definitions/DocGenFullWithErrors"
          400:
            description: "Bad request"
          424:
            description: "External dependency error: one dependency service (sae, formidable, mailcast...) has failed, more details in the response body."

    /document_generations/{id}/vault:
      post:
        summary: "Send document to employee vault"
        description: "Send document to employee vault. Document must have been generated asynchronously with `employee_id` 
        and `document_type_id` set."
        tags:
          - "Document Manager: Document Generations"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generated document `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The document was sent to vault"
          400:
            description: "Bad request"
          424:
            description: "External dependency error: one dependency service (sae, formidable, mailcast...) has failed, more details in the response body."

    /document_generation_templates/{id}/versions/{number}/doc_fields:
      get:
        summary: "List all placeholder fields in a template document for a given version"
        description: "List all placeholder fields found in the template document and information about their type if available.."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
          - in: "query"
            name: "includeFragments"
            description: "If true, fields of all the linked fragments of the template will be returned as well."
            required: false
            type: "boolean"
            default: "false"
        responses:
          200:
            description: "The placeholder fields found in the template document and information about their type if available."
            schema:
              $ref: "#/definitions/FormidableCreatePayload"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      put:
        summary: "Associate typing information to placeholder fields in a template document for a given version"
        description: "Associate typing information to placeholder fields in an existing template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
          - in: "body"
            name: "body"
            description: "Field typings object"
            required: true
            schema:
              $ref: "#/definitions/FormidableCreatePayload"
        responses:
          200:
            description: "The placeholder fields found in the template document and information about their type if available."
            schema:
              $ref: "#/definitions/FormidableCreatePayload"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_templates:
      get:
        summary: "List all the template definitions  of a client"
        description: "List all the template definitions of a client."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in title and description"
            required: false
            type: "string"
            minLength: 3
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/CursorParameter"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+locale"
              - "-locale"
              - "+created_at"
              - "-created_at"
              - "+title"
              - "-title"
              - "+updated_at"
              - "-updated_at"
              - "+format"
              - "-format"
            default: "-created_at"
          -
            name: "locale"
            in: "query"
            description: "Filter by locale"
            required: false
            type: "string"
          -
            name: "enabled"
            in: "query"
            description: "Filter by enabled status"
            required: false
            type: "boolean"
          -
            name: "is_injectable"
            in: "query"
            description: "Filter by is_injectable status"
            required: false
            type: "boolean"
          -
            name: "format"
            in: "query"
            description: "Filter by format"
            required: false
            type: "string"
          - 
            name: "has_active_version"
            in: "query"
            description: "Filter Templates that have an active_version defined"
            required: false
            type: "boolean"
          - 
            name: "is_in_valid_date_range"
            in: "query"
            description: "Filter Templates with current date between the validity start and end dates"
            required: false
            type: "boolean"
        responses:
          200:
            description: "The template definitions"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DocGenTemplate"
    
      post:
        summary: "Create a new template"
        description: "Create a new template by defining metadata in json format."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: "Template metadata object"
            required: true
            schema:
              $ref: "#/definitions/DocGenTemplatePayload"
        responses:
          201:
            description: "The template definition"
            schema:
              $ref: "#/definitions/DocGenTemplate"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"

    /document_generation_templates/{id}:
      delete:
        summary: "Remove a template"
        description: "Remove an existing template."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          204:
            description: "The template is removed"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Get template definition"
        description: "Get an existing template definition."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The template definition"
            schema:
              $ref: "#/definitions/DocGenTemplate"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      patch:
        summary: "Partial update template definition"
        description: "If the id exists, update the template definition."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "body"
            name: "body"
            description: "Metadata to use for patching"
            required: true
            schema:
              $ref: "#/definitions/DocGenTemplatePatchPayload"
        responses:
          200:
            description: "The template definition"
            schema:
              $ref: "#/definitions/DocGenTemplate"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      put:
        summary: "Create or update template definition"
        description: "If the id already does not exists yet, the template will be created. If the id exists, update the title and description by defining metadata in json format."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "body"
            name: "body"
            description: "Template metadata object"
            required: true
            schema:
              $ref: "#/definitions/DocGenTemplatePayload"
        responses:
          200:
            description: "The template definition"
            schema:
              $ref: "#/definitions/DocGenTemplate"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_templates/{id}/file:
      post:
        summary: "Upload template document"
        description: "Upload a template document and create a new template definition version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "multipart/form-data"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "formData"
            name: "template"
            description: "The template document"
            required: true
            type: "file"
          - in: "formData"
            name: "format"
            type: "string"
            description: "The template document format"
            enum:
              - DOCX
              - PDF
              - DOC
              - ODT
          - in: "formData"
            name: "syntax_version"
            description: "Specify which syntax version to use. The old syntax using mergefields is `V1`. New syntax is `V2`"
            type: "string"
            enum:
              - V1
              - V2
        responses:
          201:
            description: "The updated template version."
            schema:
              $ref: "#/definitions/DocGenTemplateVersion"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_templates/{id}/fragment_usages:
      get:
        summary: "List all templates using a fragment"
        description: "List all templates having at least one version using a given fragment."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The Template Fragment `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "Array of Ids of all Template using the Template Fragment"
            schema:
              type: "array"
              items:
                type: "string"
                format: "uuid"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_templates/{id}/versions:
      get:
        summary: "List all the version of a template"
        description: "List all the versions of a template."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          -
            $ref: "#/parameters/CursorParameter"
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+version"
              - "-version"
              - "+created_at"
              - "-created_at"
              - "+updated_at"
              - "-updated_at"
            default: "-created_at"
        responses:
          200:
            description: "The template versions"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DocGenTemplateVersion"

    /document_generation_templates/{id}/versions/{number}:
      delete:
        summary: "Remove a template version"
        description: "Remove an existing template version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
        responses:
          204:
            description: "The template version is removed"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Get template version definition"
        description: "Get an existing template version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
        responses:
          200:
            description: "The template version"
            schema:
              $ref: "#/definitions/DocGenTemplateVersion"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      put:
        summary: "Update an existing template version"
        description: "Update an existing template version by defining metadata in json format."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
          - in: "body"
            name: "body"
            description: "Template version metadata object"
            required: true
            schema:
              $ref: "#/definitions/DocGenTemplateVersionUpdatePayload"
        responses:
          201:
            description: "The template version"
            schema:
              $ref: "#/definitions/DocGenTemplateVersion"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
    
      patch:
        summary: "Update an existing template version"
        description: "Update an existing template version by defining metadata in json format."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "string"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
          - in: "body"
            name: "body"
            description: "Template version metadata object"
            required: true
            schema:
              $ref: "#/definitions/DocgenTemplateVersionPatchPayload"
        responses:
          200:
            description: "The template version"
            schema:
              $ref: "#/definitions/DocGenTemplateVersionFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"

    /document_generation_templates/{id}/versions/{number}/file:
      head:
        summary: "Get information about a template document for a given version"
        description: "Get information as headers from an existing template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
        responses:
          200:
            description: "The template document headers"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Download template document for a given version"
        description: "Download an existing template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/octet-stream"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
        responses:
          200:
            description: "The template document"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/active/file:
      head:
        summary: "Get information about the active template document"
        description: "Get information as headers from the active template document."
        tags:
          - "Document Manager: Document Generation Templates"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The template document headers"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Download the active template document"
        description: "Download the active template document."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/octet-stream"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The template document"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/latest/file:
      head:
        summary: "Get information about the latest template document"
        description: "Get information as headers from the latest template document."
        tags:
          - "Document Manager: Document Generation Templates"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The template document headers"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
      get:
        summary: "Download the latest template document"
        description: "Download the latest template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/octet-stream"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The template document"
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
              Page-Count:
                description: "The total number of page of the document"
                type: "integer"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_templates/{id}/versions/{number}/fields:
      get:
        deprecated: true
        summary: "List all placeholder fields in a template document for a given version"
        description: "Please use the '/document_generation_templates/{id}/versions/{number}/doc_fields' endpoint instead."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "The template version number"
            required: true
            type: "integer"
        responses:
          200:
            description: "The placeholder fields found in the template document"
            schema:
              $ref: "#/definitions/FieldSet"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/active/fields:
      get:
        deprecated: true
        summary: "List all placeholder fields in a template document for its active version"
        description: "Please use the '/document_generation_templates/{id}/versions/{number}/doc_fields' endpoint instead."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The placeholder fields found in the template document"
            schema:
              $ref: "#/definitions/FieldSet"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/latest/fields:
      get:
        deprecated: true
        summary: "List all placeholder fields in a template document for a given version"
        description: "Please use the '/document_generation_templates/{id}/versions/{number}/doc_fields' endpoint instead."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "The placeholder fields found in the template document"
            schema:
              $ref: "#/definitions/FieldSet"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    /document_generation_templates/{id}/versions/{number}/preview:
      get:
        summary: "Preview the first page of a template document for a given version"
        description: "Preview the first page of an existing template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "Template version number"
            required: true
            type: "integer"
        responses:
          200:
            description: "Preview of the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/active/preview:
      get:
        summary: "Preview the first page of the active template document"
        description: "Preview the first page of the active template document."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "Preview of the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/latest/preview:
      get:
        summary: "Preview the first page of the latest template document"
        description: "Preview the first page of the latest template document."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "Preview of the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    /document_generation_templates/{id}/versions/{number}/preview/{page}:
      get:
        summary: "Preview a page of a template document for a given version"
        description: "Preview a page of an existing template document for a given version."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "number"
            description: "Template version number"
            required: true
            type: "integer"
          - in: "path"
            name: "page"
            description: "Page number"
            required: true
            type: "integer"
        responses:
          200:
            description: "Preview of the selected page in the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    
    /document_generation_templates/{id}/versions/active/preview/{page}:
      get:
        summary: "Preview a page of the active template document"
        description: "Preview a page of the active template document."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "page"
            description: "Page number"
            required: true
            type: "integer"
        responses:
          200:
            description: "Preview of the selected page in the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    /document_generation_templates/{id}/versions/latest/preview/{page}:
      get:
        summary: "Preview a page of the latest template document"
        description: "Preview a page of the latest template document."
        tags:
          - "Document Manager: Document Generation Templates"
        produces:
          - "image/png"
        parameters:
          - in: "path"
            name: "id"
            description: "Template `ID`"
            required: true
            type: "string"
            format: "uuid"
          - in: "path"
            name: "page"
            description: "Page number"
            required: true
            type: "integer"
        responses:
          200:
            description: "Preview of the selected page in the template document"
            schema:
              type: "string"
              format: "binary"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"

    /document_generations/syntax_migration/status:
      get:
        summary: "Get the status of the syntax migration of a client's templates"
        description: "Return the status of the syntax V1 -> V2 migration. The migration can also automatically be started by using the auto_start parameter. Only eligible templates are migrated. Eligible means they have an active version of syntax V1 OR no active version and a latest version of syntax V1."
        tags:
          - "Document Manager: Document Generation Templates Syntax Migration"
        produces:
          - "application/json"
        parameters:
          - in: "query"
            name: "auto_start"
            description: "Automatically start the migration if it has not been started yet."
            required: false
            type: "boolean"
            default: false
        responses:
          200:
            description: "The syntax migration status."
            schema:
              $ref: "#/definitions/DocGenMigrationCampaign"
      
      put:
        summary: "Update the status of the syntax migration in order to start it."
        description: "The status can only be changed from not_started to in_progress."
        tags:
          - "Document Manager: Document Generation Templates Syntax Migration"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "status"
            description: "The status to set for the syntax migration."
            required: true
            schema:
              $ref: "#/definitions/DocGenMigrationCampaign"
        responses:
          200:
            description: "The syntax migration status."
            schema:
              $ref: "#/definitions/DocGenMigrationCampaign"
    
    /document_generations/syntax_migration/restart:
      post:
        summary: "Relaunch a new migration process"
        description: "Start a new migration process for all eligible templates of the client. Eligible means they have an active version of syntax V1 OR no active version and a latest version of syntax V1.\nNo body parameters are required."
        tags:
          - "Document Manager: Document Generation Templates Syntax Migration"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        responses:
          200:
            description: "The syntax migration status."
            schema:
              $ref: "#/definitions/DocGenMigrationCampaign"
          403:
            description: "Forbidden"
            schema:
              $ref: "#/definitions/BaseError"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
    
    
    /document_generations/syntax_migration/list:
      get:
        summary: "List all the template definitions of a client for which an action is required regarding syntax migration."
        description: "This endpoint basically returns all the templates for which the `latest_version_syntax` is V1."
        tags:
          - "Document Manager: Document Generation Templates Syntax Migration"
        produces:
          - "application/json"
        parameters:
          - name: "q"
            in: "query"
            description: "Full text query string, search in title"
            required: false
            type: "string"
            minLength: 3
          - $ref: "#/parameters/PerPageParameter"
          - $ref: "#/parameters/CursorParameter"
          - name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+title"
              - "-title"
              - "+created_at"
              - "-created_at"
            default: "+title"
          - name: "locale"
            in: "query"
            description: "Filter by locale"
            required: false
            type: "string"
          - name: "format"
            in: "query"
            description: "Filter by format"
            required: false
            type: "string"
        responses:
          200:
            description: "List of all the templates for which an action is required."
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DocGenMigrationTemplate"
    
    
    /document_generations/syntax_migration/{id}:
      post:
        summary: "Convert a syntax V1 template into a syntax V2 template"
        description: "Create a new version of a template by converting a specific version that uses V1 syntax into a new file using V2 syntax."
        tags:
          - "Document Manager: Document Generation Templates Syntax Migration"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            required: true
            type: "string"
            format: "uuid"
            description: "ID of the template to migrate"
        responses:
          201:
            description: "The updated template version."
            schema:
              $ref: "#/definitions/DocGenTemplateVersionFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          404:
            description: "Not found"
            schema:
              $ref: "#/definitions/BaseError"
          500:
            description: "An internal error occurred while migrating the template."
            schema:
              $ref: "#/definitions/BaseError"
          503:
            description: "One of the services used for the migration is not available. Please try again later."
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_campaigns:
      post:
        summary: "Create and start a generation campaign."
        description: "The generation campaign will asynchronously start the generation of all the documents listed in the campaign."
        tags:
          - "Document Manager: Document Generation Campaigns"
        produces:
          - "application/json"
        parameters:
          - in: "body"
            name: "body"
            description: ""
            required: true
            schema:
              $ref: "#/definitions/DocGenCampaignPayload"
        responses:
          201:
            description: "The campaign was successfully created."
            schema:
              $ref: "#/definitions/DocGenCampaignResponse"
          500:
            description: "An internal server error occurred."
    
      get:
        summary: "Get all the campaigns"
        description: "Return all the campaigns."
        tags:
          - "Document Manager: Document Generation Campaigns"
        produces:
          - "application/json"
        parameters:
          - in: "query"
            name: "q"
            type: "string"
            description: "Filter on campaign names."
            required: false
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/CursorParameter"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+created_at"
              - "-created_at"
              - "+started_at"
              - "-started_at"
              - "+ended_at"
              - "-ended_at"
              - "+title"
              - "-title"
              - "+updated_at"
              - "-updated_at"
            default: "-created_at"
          -
            name: "status"
            in: "query"
            description: "Filter by status."
            required: false
            type: "string"
          -
            name: "creator_ref"
            in: "query"
            description: "Filter by creator reference."
            required: false
            type: "string"
        responses:
          200:
            description: "List of campaigns."
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DocGenCampaignResponse"

    /document_generation_campaigns/csv:
      post:
        summary: "Upload a CSV containing all the required information to generate a campaign and parse it. -- ENDPOINT NOT AVAILABLE FOR NOW --"
        description: "The CSV will be parsed and the endpoint will return a payload that can be sent to the `/document_generation_campaigns`
        endpoint in order to create a new campaign.\n
    
        Note that this endpoint does not create a new campaign, but simply parses a file and returns the content of the file
        in a format that can be used in the `/document_generation_campaigns` endpoint."
        tags:
          - "Document Manager: Document Generation Campaigns"
        produces:
          - "application/json"
        consumes:
          - "multipart/form-data"
        parameters:
          - in: "formData"
            name: "csv"
            description: "CSV file containing all the fields to put in the template"
            type: "file"
            required: true
          - in: "formData"
            name: "template_id"
            description: "ID of the template"
            type: "string"
            required: true
          - in: "formData"
            name: "template_version"
            type: integer
            description: "Version of the template to use. If not set, the active version will be used."
            required: false
        responses:
          200:
            description: "The file was successfully parsed."
            schema:
              $ref: "#/definitions/CsvCampaign"
          400:
            description: "An error occurred while reading the CSV file."
            schema:
              $ref: "#/definitions/BaseError"
          403:
            description: "Forbidden: Unable to generate a document from the selected template."
            schema:
              $ref: "#/definitions/BaseError"
          404:
            description: "Template or version not found."
          500:
            description: "An internal server error occurred."
            schema:
              $ref: "#/definitions/BaseError"

    /document_generation_campaigns/{id}:
      get:
        summary: "Get information about a campaign."
        description: ""
        tags:
          - "Document Manager: Document Generation Campaigns"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "ID of the campaign."
            required: true
            type: string
            format: "uuid"
        responses:
          200:
            description: "All the information about the campaign."
            schema:
              $ref: "#/definitions/DocGenCampaignResponse"
          404:
            description: "The campaign does not exists."
    
    /document_generation_campaigns/{id}/file:
      get:
        summary: "Download the resulting file of the campaign."
        description: "Download the resulting file containing all the documents generated by the campaign.\n
        Depending on the campaign properties, this file can either be a `zip` file containing all the generated documents,
        or one single `pdf` file which concatenates all the generated documents."
        tags:
          - "Document Manager: Document Generation Campaigns"
        produces:
          - "application/octet-stream"
        parameters:
          - in: "path"
            name: "id"
            description: "ID of the campaign."
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "A file containing all the documents generated by the campaign."
            headers:
              Content-Disposition:
                description: "Standard header containing the document file name"
                type: "string"
              Content-Type:
                description: "The actual mime type of the document, which is either `application/zip` or `application/pdf`"
                type: "string"
              Crc-32:
                description: "Cyclic redundancy check of the document"
                type: "string"
          404:
            description: "Campaign not found."
            schema:
              $ref: "#/definitions/BaseError"
          400:
            description: "Bad request. For example when the campaign is not completed yet."
            schema:
              $ref: "#/definitions/BaseError"
    /document_generation_requests/{id}/status:
      get:
        summary: "Get status information about an async document generation request"
        description: "Once the document generation has been triggered asynchronously, this API can be used to check the status of the generation request."
        tags:
          - "Document Manager: Document Generation Requests"
        produces:
          - "application/json"
        parameters:
          - in: "path"
            name: "id"
            description: "The generation request `ID`"
            required: true
            type: "string"
            format: "uuid"
        responses:
          200:
            description: "A success response returns the status of generation request in the location header"
            schema:
              $ref: "#/definitions/DocGenRequestStatusResponse"
          404:
            description: "The generation request doesn't exist"
          500:
            description: "An internal server error occurred."
    
    /document_generation_requests:
      get:
        summary: "Gets list of document generation requests"
        description: "Returns the list of document generation requests made with same {client, user, app} "
        tags:
          - "Document Manager: Document Generation Requests"
        produces:
          - "application/json"
        parameters:
          - $ref: "#/parameters/PerPageParameter"
          - $ref: "#/parameters/CursorParameter"
          - in: "query"
            name: "sort"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+created_at"
              - "-created_at"
              - "+status"
              - "-status"
              - "+employee_id"
              - "-employee_id"
            default: "-created_at"
          - name: "status"
            in: "query"
            description: "Filter by status."
            type: "string"
            required: false
            enum:
              - processed
              - not_processed
              - received_async
              - sent_async
              - failed
        responses:
          200:
            description: "List of generation requests"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/RequestListingDto"
              example:
                - "id": "60e0c179-f1b5-4f2e-8ff4-998bb64b5cba"
                  "status": "processed"
                  "title": "Simple_Template"
                  "created_at": "2024-04-23T09:46:40.784401+02:00"
                  "generated_document_id": "45d392ef-30ba-46b4-a6e1-6ec4c438bb40"
                  "employee_id": "d1c3be1d-36c7-44a9-adc5-64fec271cf98"
                  "employee_document_type_id": "empty"
                  "upload_id": "00b7dd43-2c4d-43e9-a8d6-c0e9c6bc423f"
    
    


# MARK
# -------------------

# FEATURE FLAGS
# -------------

    



# ARCHIVES
# --------



# ACCOUNTS
# -------------



# SAML
# -------------

    /saml/identity_providers:
      post:
        tags:
          - "Platform: Saml Identity Providers"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        description: "Create a new `Saml Identity Providers` for a client on UKG HR Service Delivery"
        summary: "Saml Identity Provider Creation"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Saml Identity Provider properties"
            required: true
            schema:
              $ref: "#/definitions/SamlIdentityProviderCreatePayload"
        responses:
          201:
            description: "The created `Saml Identity Provider`"
            schema:
              $ref: "#/definitions/SamlIdentityProviderFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          409:
            description: "Conflict, an active saml identity provider with the same scope and/or name already exists"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
      get:
        tags:
          - "Platform: Saml Identity Providers"
        description: "Search `Saml Identity Providers` on UKG HR Service Delivery"
        summary: "Saml Identity Provider Search"
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "activated"
            in: "query"
            description: "Search only activated Saml Identity Providers (true) or non activated Saml Identity Providers (false). By default both activated and non activated Saml Identity Providers are returned"
            required: false
            type: "boolean"
          -
            name: "entity_id"
            in: "query"
            description: "Entity ID associated with the Saml Identity Provider"
            required: false
            type: "string"
          -
            name: "scope"
            in: "query"
            description: "Scope associated with the Saml Identity Provider. Case-insensitive. When no Saml Identity Providers were found for the provided scope, Saml Providers with unset scope (scope with values 'none' or 'null') will be returned"
            required: false
            type: "string"
        responses:
          200:
            description: "List of Saml Identity Providers"
            schema:
              title: "ArrayOfSamlIdentityProviders"
              type: "array"
              items:
                $ref: "#/definitions/SamlIdentityProviderFull"

    /saml/identity_providers/{id}:
      get:
        tags:
          - "Platform: Saml Identity Providers"
        summary: "Saml Identity Provider Details"
        description: "Returns the details of a `Saml Identity Provider`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Saml Identity Provider `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/SamlIdentityProviderFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      head:
        tags:
          - "Platform: Saml Identity Providers"
        summary: "Saml Identity Provider Information"
        description: "Get information about a `Saml Identity Provider`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Saml Identity Provider `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
    
      patch:
        tags:
          - "Platform: Saml Identity Providers"
        description: "Partially update the `Saml Identity Provider` of a client based on its `ID`, all parameters are optional"
        summary: "Saml Identity Provider Partial Update"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Saml Identity Provider `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Saml Identity Provider properties"
            required: true
            schema:
              $ref: "#/definitions/SamlIdentityProviderUpdatePayload"
        responses:
          200:
            description: "The updated `Saml Identity Provider`"
            schema:
              $ref: "#/definitions/SamlIdentityProviderFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      put:
        tags:
          - "Platform: Saml Identity Providers"
        description: "Update or create a `Saml Identity Provider` for a client"
        summary: "Saml Identity Provider Creation or Update"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Saml Identity Provider `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Saml Identity Provider properties"
            required: true
            schema:
              $ref: "#/definitions/SamlIdentityProviderCreatePayload"
        responses:
          200:
            description: "The updated `Saml Identity Provider`"
            schema:
              $ref: "#/definitions/SamlIdentityProviderFull"
          201:
            description: "The created `Saml Identity Provider`"
            schema:
              $ref: "#/definitions/SamlIdentityProviderFull"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      delete:
        tags:
          - "Platform: Saml Identity Providers"
        description: "Delete a `Saml Identity Provider` for a client"
        summary: "Saml Identity Provider Deletion"
        parameters:
          -
            name: "id"
            in: "path"
            description: "Saml Identity Provider `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "`Saml Identity Provider` deleted"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"



# DELIVERY CAMPAIGN
# -------------------


# DELIVERY BILLING
# -------------------


# ORCHESTRATIONS
# --------------


# AMNESIA
# -------------------

# Person search

# Privacy requests

# Deletion requests

# Retention policies

# AUDIT
# -------------------

# List events
    /events:
      get:
        tags:
          - "Platform: Events"
        summary: "List & search events"
        description: |
          List events
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            name: "resource_type"
            in: "query"
            description: "Filter by resource type"
            required: false
            type: "string"
          -
            name: "action"
            in: "query"
            description: "Filter by action"
            required: false
            type: "string"
          -
            name: "resource_id"
            in: "query"
            description: "Filter by resource ID"
            required: false
            type: "string"
          -
            name: "actor_type"
            in: "query"
            description: "Filter by actor type"
            required: false
            type: "string"
          -
            name: "actor_id"
            in: "query"
            description: "Filter by actor ID"
            required: false
            type: "string"
          -
            name: "created_at_since"
            in: "query"
            description: "Filter by event date (returns only events after this date)"
            required: false
            type: "string"
          -
            name: "created_at_until"
            in: "query"
            description: "Filter by event date (returns only events before this date)"
            required: false
            type: "string"
        responses:
          200:
            description: "List of `Events`\n"
            schema:
              type: "array"
              title: "ArrayOfEvents"
              items:
                $ref: "#/definitions/EventBase"
            headers:
              Next-Cursor:
                description: "Next cursor for pagination"
                type: "string"
              Previous-Cursor:
                description: "Previous cursor for pagination"
                type: "string"


# List events resource/actor

# Permissions
    /roles/{role_id}/permissions/audit:
      get:
        tags:
          - "Platform: Roles"
        summary: "Get audit permissions by role"
        description: "List Audit permissions for the Role"
        produces:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
        responses:
          200:
            description: "Permissions for the Role"
            schema:
              $ref: "#/definitions/AuditPermissionsFull"
    
      put:
        summary: "Create or update audit permissions for a role"
        description: |
          Add/Update Audit permissions for the Role
        tags:
          - "Platform: Roles"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Permissions for the Role"
            required: true
            schema:
              $ref: "#/definitions/AuditPermissionsBase"
        responses:
          200:
            description: "The updated permissions for the Role"
            schema:
              $ref: "#/definitions/AuditPermissionsFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


# Get event id
    /events/{id}:
      get:
        tags:
          - "Platform: Events"
        summary: "Get details of an event"
        description: |
          Get the details of an event
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The event `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/EventBase"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"


# Export events
    /events/export:
      get:
        tags:
          - "Platform: Events"
        summary: "Export events"
        description: |
          Export events.
        produces:
          - "application/json"
          - "text/csv"
        parameters:
          -
            name: "resource_type"
            in: "query"
            description: "Filter by resource type"
            required: false
            type: "string"
          -
            name: "action"
            in: "query"
            description: "Filter by action"
            required: false
            type: "string"
          -
            name: "resource_id"
            in: "query"
            description: "Filter by resource ID"
            required: false
            type: "string"
          -
            name: "actor_type"
            in: "query"
            description: "Filter by actor type"
            required: false
            type: "string"
          -
            name: "actor_id"
            in: "query"
            description: "Filter by actor ID"
            required: false
            type: "string"
          -
            name: "created_at_since"
            in: "query"
            description: "Filter by event date (returns only events after this date)"
            required: false
            type: "string"
          -
            name: "created_at_until"
            in: "query"
            description: "Filter by event date (returns only events before this date)"
            required: false
            type: "string"
        responses:
          200:
            description: "List of `Events`\n"
            schema:
              type: "array"
              title: "ArrayOfEvents"
              items:
                $ref: "#/definitions/EventExportFields"


# Get action filters
    /events/filters/actions:
      get:
        tags:
          - "Platform: Events"
        summary: "List all actions"
        description: |
          List all actions available per resource type. Used for instance to populate filters in the search page.
        produces:
          - "application/json"
        responses:
          200:
            description: "List of `Actions/Resources`\n"
            schema:
              type: "array"
              title: "ArrayOfActionFilters"
              items:
                $ref: "#/definitions/EventActionFilterComputedFields"
    



# WEBHOOKS
# -------------------

    /webhooks:
      get:
        tags:
          - "Platform: Webhooks"
        summary: "List all webhooks"
        description: |
          List of webhooks
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
        responses:
          200:
            description: "List of Webhooks"
            schema:
              type: "array"
              title: "ArrayOfWebhooks"
              items:
                $ref: "#/definitions/WebhookFull"
            headers:
              Next-Cursor:
                description: "Next cursor for pagination"
                type: "string"
              Previous-Cursor:
                description: "Previous cursor for pagination"
                type: "string"
    
    
      post:
        summary: "Create a webhook"
        description: |
          Create a webhook to be notified about events that happen on your UKG HR Service Delivery instance.
        tags:
          - "Platform: Webhooks"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            in: "body"
            name: "body"
            description: "Webhook description"
            required: true
            schema:
              $ref: "#/definitions/WebhookCreatePayload"
        responses:
          201:
            description: "The created Webhook"
            schema:
              $ref: "#/definitions/WebhookFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /webhooks/{id}:
      get:
        tags:
          - "Platform: Webhooks"
        summary: "Get details of a webhook"
        description: "Return the details of a `Webhook`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Webhook `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/WebhookFull"
    
      delete:
        tags:
          - "Platform: Webhooks"
        summary: "Delete a webhook"
        description: "Delete a `Webhook`"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Webhook `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
    
      put:
        summary: "Update a webhook"
        description: |
          Update a `Webhook`
        tags:
          - "Platform: Webhooks"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Webhook `ID`"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Webhook description"
            required: true
            schema:
              $ref: "#/definitions/WebhookCreatePayload"
        responses:
          200:
            description: "The updated `Webhook`"
            schema:
              $ref: "#/definitions/WebhookFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"

    /webhooks/{id}/refresh_signature_key:
      post:
        tags:
          - "Platform: Webhooks"
        summary: "Refresh signature key"
        description: "Refresh the signature_key of a webhook"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Webhook `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/WebhookFull"

    /webhooks/{id}/tests:
      post:
        tags:
          - "Platform: Webhooks"
        summary: "Send test callback"
        description: "Send a test callback to the callback_url of the webhook"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "The Webhook `ID`"
            required: true
            type: "string"
        responses:
          204:
            description: "OK"
            schema:
              $ref: "#/definitions/WebhookFull"


# Permissions
    /roles/{role_id}/permissions/webhook:
      get:
        tags:
          - "Platform: Roles"
        summary: "Get webhook permissions by role"
        description: "List Webhook permissions for the Role"
        produces:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
        responses:
          200:
            description: "Permissions for the Role"
            schema:
              $ref: "#/definitions/WebhookPermissionsFull"
    
      put:
        summary: "Create or update webhook permissions for a role"
        description: |
          Add/Update Webhook permissions for the Role
        tags:
          - "Platform: Roles"
        produces:
          - "application/json"
        consumes:
          - "application/json"
        parameters:
          -
            name: "role_id"
            in: "path"
            description: "`ID` of the Role"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Permissions for the Role"
            required: true
            schema:
              $ref: "#/definitions/WebhookPermissionsBase"
        responses:
          200:
            description: "The updated permissions for the Role"
            schema:
              $ref: "#/definitions/WebhookPermissionsFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


#Stats

# BLACKLISTED EMAIL ADDRRESSES
# ---------------------------------




# MESSAGES (delivery internal apis)
# ---------------------------------





# WORKERS MESSAGING SERVICES
# ---------------------------------


# SFTP ACCOUNT MANAGEMENT
# ---------------------------------


# ADMIN WORKER SERVICE
# ---------------------------------


# ERROR QUEUE SERVICE
# ---------------------------------


# DOCUMENT INFO SERVICE
# ---------------------------------

# BACKUP INTEGRITY SERVICE
# ---------------------------------


# COMPOSITION RESOURCE
# ---------------------------------


# CONFIG RESOURCE
# ---------------------------------


# DISTRIBUTION RESOURCE
# ---------------------------------


# INTEGRATION RESOURCE
# ---------------------------------


# MAPPING RESOURCE
# ---------------------------------


# EXTRACTION-MAP RESOURCE
# ---------------------------------


# LAYOUT RESOURCE
# ---------------------------------


# MESSAGE PUBLISHER SERVICE
# ---------------------------------


# TEMPLATED EMAILS
# -------------------



# SETTINGS
# -------------------

    /settings/core:
      get:
        tags:
          - "Platform: Settings"
        summary: "Get core settings"
        description: "Get core client settings"
        produces:
          - "application/json"
        responses:
          200:
            description: "Core client settings"
            schema:
              $ref: "#/definitions/CoreSettingsFull"
    


# Themes can only be updated by internal teams
# (and not needed on other public namespaces)

# Mail settings can only be updated by internal teams
# (and not needed on other public namespaces)

# Assets

# Audit trail settings can only be updated by internal teams
# (and not needed on other public namespaces)


# Document Manager settings


# Process management settings
    /settings/process_automation:
      get:
        tags:
          - "Platform: Settings"
        summary: "Get Digital Process Manager settings"
        description:
          "List settings related to the Digital Process Manager module."
        produces:
          - "application/json"
        responses:
          200:
            description: "Settings related to the Digital Process Manager module."
            schema:
              $ref: "#/definitions/ProcessAutomationSettingsFull"
    



# knowledge base settings
    /settings/knowledge_base:
      get:
        tags:
          - "Platform: Settings"
        summary: "Get knowledge base settings"
        description:
          "List settings related to the Knowledge Base module."
        produces:
          - "application/json"
        responses:
          200:
            description: "Settings related to the Knowledge Base module."
            schema:
              $ref: "#/definitions/KnowledgeBaseSettings"



# case management settings
    /settings/case_management:
      get:
        tags:
          - "Platform: Settings"
        summary: "Get request management settings"
        description:
          "List settings related to the request management module."
        produces:
          - "application/json"
        responses:
          200:
            description: "Settings related to the request management module."
            schema:
              $ref: "#/definitions/CaseManagementSettings"


# chatbot settings

# Synapps settings


# DATASETS
# -------------------


    /datasets:
      get:
        tags:
          - "Platform: Datasets"
        summary: "Datasets listing"
        description: |
          Get all the Datasets
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/CursorParameter"
          -
            name: "last_import_status"
            in: "query"
            description: "Search data sets according to the status of their last import"
            enum: ["null", "queued", "in_progress", "finished"]
            required: false
            type: "string"
          -
            name: "last_import_result"
            in: "query"
            description: "Search data sets according to the result of their last import"
            enum: ["null", "error", "success"]
            required: false
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Filter data sets based on its name (query mininum length: 2)"
            required: false
            type: "string"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "string"
            enum:
              - "+name"
              - "-name"
              - "+created_at"
              - "-created_at"
              - "+updated_at"
              - "-updated_at"
            default: "+created_at"
        responses:
          200:
            description: "OK"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DatasetFull"
            headers:
              Next-Cursor:
                description: "Next cursor for pagination"
                type: "string"
              Previous-Cursor:
                description: "Previous cursor for pagination"
                type: "string"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /datasets/{id}:
      get:
        tags:
          - "Platform: Datasets"
        summary: "Dataset details"
        description: "Get the details of a Dataset.
        A Dataset represents a set of values organized hierarchically"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/DatasetFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "Platform: Datasets"
        summary: "Dataset creation or update"
        description: |
          Create or update a Dataset.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Dataset object"
            required: true
            schema:
              $ref: "#/definitions/DatasetCreatePayload"
        responses:
          200:
            description: "Dataset updated"
            schema:
              $ref: "#/definitions/DatasetFull"
          201:
            description: "Dataset created"
            schema:
              $ref: "#/definitions/DatasetFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    
    /datasets/{id}/values:
      get:
        tags:
          - "Platform: Datasets"
        summary: "Dataset values list"
        description: |
          Get the values of a Dataset
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the Dataset"
            required: true
            type: "string"
          -
            name: "q"
            in: "query"
            description: "Full text query string, search in values names & codes (all languages, query mininum length: 2)"
            required: false
            type: "string"
          -
            name: "dimension"
            in: "query"
            description: "Filter the values of the Dataset by a dimension `ID` (exact match)"
            required: false
            type: "string"
          -
            name: "parent_code"
            in: "query"
            description: "Filter the values that are under a given value `ID` (exact match)"
            required: false
            type: "string"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "string"
            enum:
              - "+name"
              - "-name"
            default: "+name"
          -
            name: "per_page"
            in: "query"
            description: "Number of results per page <br> (default: 20, maximum: 1000)"
            required: false
            type: "integer"
            default: 20
          -
            $ref: "#/parameters/CursorParameter"
        responses:
          200:
            description: "OK"
            schema:
              type: "array"
              items:
                $ref: "#/definitions/DatasetValueFull"
            headers:
              Next-Cursor:
                description: "Next cursor for pagination"
                type: "string"
              Previous-Cursor:
                description: "Previous cursor for pagination"
                type: "string"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    /datasets/{id}/values/{value_id}:
      get:
        tags:
          - "Platform: Datasets"
        summary: "Value details"
        description: |
          Get the details of a value in a dataset
        produces:
          - "application/json"
        parameters: &search_parameters
          -
            name: "id"
            in: "path"
            description: "`ID` of the dataset"
            required: true
            type: "string"
          -
            name: "value_id"
            in: "path"
            description: "`ID` of the value. The 'ID' of the value should exceptionally include
            the full path of the value with the parent code prefixed. E.g.: united_kingdom.greater_london to create greater_london"
            required: true
            type: "string"
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/DatasetValueFull"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      head:
        tags:
          - "Platform: Datasets"
        summary: "Value details"
        description: |
          Check that a value is present in the dataset
        produces:
          - "application/json"
        parameters: *search_parameters
        responses:
          200:
            description: "OK"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "Platform: Datasets"
        summary: "Dataset value creation or update"
        description: |
          Create or update a value in a dataset.
    
          For every field with a text content, if a break line is in the content sent, add a `\` to the `\n` character like this:  `\\n`.
        consumes:
          - "application/json"
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the dataset"
            required: true
            type: "string"
          -
            name: "value_id"
            in: "path"
            description: "`ID` of the value"
            required: true
            type: "string"
          -
            in: "body"
            name: "body"
            description: "Value object"
            required: true
            schema:
              $ref: "#/definitions/DatasetValueCreatePayload"
        responses:
          200:
            description: "Value updated"
            schema:
              $ref: "#/definitions/DatasetValueFull"
          201:
            description: "Value created"
            schema:
              $ref: "#/definitions/DatasetValueFull"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
      delete:
        tags:
          - "Platform: Datasets"
        summary: "Dataset deletion"
        description: |
          Remove a value from a Dataset
        produces:
          - "application/json"
        parameters:
          -
            name: "id"
            in: "path"
            description: "`ID` of the dataset"
            required: true
            type: "string"
          -
            name: "value_id"
            in: "path"
            description: "`ID` of the value"
            required: true
            type: "string"
        responses:
          204:
            description: "Value deleted"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"


# DOCUMENT CLASSIFICATION
# -----------------------

    /document_type_prediction_run:
      post:
        tags:
          - "Document Manager: Document Classification"
        summary: "Request a document type prediction"
        consumes:
          - "application/json"
        produces:
          - "application/json"
        description: |
          Schedule a document type prediction run for a given Document Manager document `ID`.
          The prediction process is asynchronous.
          Note: the run will be `SCHEDULED` right after this call,
          `guessed_document_types` will be empty,
          `started_at` and `completed_at` will be `null`.
        parameters:
          - in: "body"
            name: "body"
            schema:
              $ref: "#/definitions/DocumentTypePredictionClientPayload"
        responses:
          202:
            description: "Information about the document type prediction run"
            schema:
              $ref: "#/definitions/DocumentTypePredictionRun"
          400:
            description: "Bad Request"
            schema:
              $ref: "#/definitions/BadRequest"
          422:
            description: "Unprocessable Entity"
            schema:
              $ref: "#/definitions/Error"
    
    

    /document_type_prediction_run/{id}:
      get:
        tags:
          - "Document Manager: Document Classification"
        produces:
          - "application/json"
        description: |
          Retrieve a document type prediction run.
          If the prediction is `DONE`, `guessed_document_types` will contain
          the results.
          If the prediction `FAILED`, `error_code` will give the reason.
        summary: "Retrieve a document type prediction run"
        parameters:
          -
            name: "id"
            in: "path"
            type: "string"
            format: "uuid"
            required: true
            description: "Document type prediction run `id`"
        responses:
          200:
            description: "Document type prediction run"
            schema:
              $ref: "#/definitions/DocumentTypePredictionRun"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"


# MENU ENTRIES
# -------------------


# PEOPLE ASSIST USER



# MACROS
# -------------------
    /macros:
      head:
        tags:
          - "People Assist: Macros"
        summary: "Get the total count of macros"
        description: "The macro list headers"
        responses:
          200:
            description: "The macro list headers"
            headers:
              X-Total-Count:
                description: "The total count of macros"
                type: "integer"
      get:
        tags:
          - "People Assist: Macros"
        summary: "List of macros"
        description: >
          Lists macros sorted by decreasing creation date
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/PageParameter"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+name"
              - "-name"
              - "+created_at"
              - "-created_at"
              - "+updated_at"
              - "-updated_at"
            default: "-updated_at"
          -
            name: "q"
            in: "query"
            description: "Search macros by name, label or description."
            required: false
            type: "string"
            minLength: 3
    
        responses:
          200:
            description: "List of macros"
            schema:
              title: "ArrayOfMacros"
              type: "array"
              items:
                $ref: "#/definitions/MacroList"

    /macros/{id}:
      get:
        tags:
          - "People Assist: Macros"
        summary: "Get detail of a single `Macro`"
        description: "Retrieve a Macro"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "Macro `ID`"
            required: true
            type: "string"
          - name: embed
            in: query
            description: >
              Adds additional information on actions of the macro
            type: array
            items:
              type: string
            collectionFormat: csv
            enum:
              - action
        responses:
          200:
            description: "OK"
            schema:
              $ref: "#/definitions/MacroDetail"
          404:
            description: "Not Found"
            schema:
              $ref: "#/definitions/BadRequest"
    
      put:
        tags:
          - "People Assist: Macros"
        summary: "Create or Update a `Macro`"
        description: "Create or Update a `Macro`"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "Macro `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Values associated to the current macro."
            required: true
            schema:
              $ref: "#/definitions/MacroPutPayload"
        responses:
          200:
            description: "The updated `Macro`"
            schema:
              $ref: "#/definitions/MacroDetail"
          201:
            description: "The created `Macro`"
            schema:
              $ref: "#/definitions/MacroDetail"
          422:
            description: "Unprocessable Entity"
            schema:
                $ref: "#/definitions/Error"


# CUSTOM STATUS
# -------------------
    /custom_status:
      head:
        tags:
          - "People Assist: Custom Status"
        summary: "Get the total count of custom status"
        description: "The custom status list headers"
        responses:
          200:
            description: "The custom status list headers"
            headers:
              X-Total-Count:
                description: "The total count of custom status"
                type: "integer"
      get:
        tags:
          - "People Assist: Custom Status"
        summary: "List of custom status"
        description: >
          Lists custom status sorted by ID
        produces:
          - "application/json"
        parameters:
          -
            $ref: "#/parameters/PerPageParameter"
          -
            $ref: "#/parameters/PageParameter"
          -
            name: "sort"
            in: "query"
            description: >
              Sort order, each field is prefixed with:
               * `+` for ascending order
               * `-` for descending order
            required: false
            type: "array"
            items:
              type: "string"
            collectionFormat: csv
            enum:
              - "+name"
              - "-name"
              - "+created_at"
              - "-created_at"
              - "+updated_at"
              - "-updated_at"
            default: "-updated_at"
          -
            name: "q"
            in: "query"
            description: "Search custom status by name."
            required: false
            type: "string"
            minLength: 3
    
        responses:
          200:
            description: "List of custom status"
            schema:
              title: "ArrayOfCustomStatus"
              type: "array"
              items:
                $ref: "#/definitions/CustomStatusDetail"

    /custom_status/{id}:
      get:
        tags:
          - "People Assist: Custom Status"
        summary: "Get the details of a Custom Status"
        description: "Get the details of a `Custom Status`"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "Custom Status `ID`"
            required: true
            type: "string"
        responses:
          200:
            description: "The `Custom Status`"
            schema:
              $ref: "#/definitions/CustomStatusDetail"
          404:
            description: "Not Found"
            schema:
                $ref: "#/definitions/BadRequest"
      put:
        tags:
          - "People Assist: Custom Status"
        summary: "Create or Update a Custom Status"
        description: "Create or Update a `Custom Status`"
        produces:
          - "application/json"
        parameters:
          - name: "id"
            in: "path"
            description: "Custom Status `ID`"
            required: true
            type: "string"
          - name: "body"
            in: body
            description: "Values associated to the current Custom Status."
            required: true
            schema:
              $ref: "#/definitions/CustomStatusPutPayload"
        responses:
          200:
            description: "The updated `Custom Status`"
            schema:
              $ref: "#/definitions/CustomStatusDetail"
          201:
            description: "The created `Custom Status`"
            schema:
              $ref: "#/definitions/CustomStatusDetail"
          422:
            description: "Unprocessable Entity"
            schema:
                $ref: "#/definitions/Error"



# Django messages

# External app



  definitions:

############################
## DEFINITIONS
############################

# Redirections urls Objects
    RedirectionUrls:
      type: "object"
      properties:
        employee_space/employee_root_folder_url:
          type: string
          description: |
            Redirect to the folder of the current employee.
          example: "/employee/folder/"
        document/employee_document_upload:
          type: "string"
          description: |
            Redirect to the employee document upload page (for a manager).
          example: "/company/document/employee/upload/"
        account/employee_root_folder_url:
          description: |
            If an employee technical id is provided, this field contains the url to the employee's folder.
          type: "string"
          example: "/company/employee/164/folder/"
        employee_space/employee_folder:
          description: |
            If a doctype id is provided, contains the url to the folder of the current employee, in the destination folder of the given doctype
          type: "string"
          example: "/employee/folder/103-folder-0/"
        document/enterprise_document_upload:
          description: |
            If a doctype id of an enterprise doctype is provided, this field contains the url to the enterprise document upload page (for a manager), with a doc_type query parameter corresponding to the given doctype.
          type: "string"
          example: "/company/document/enterprise/upload/?doc_type=58"


# OAuth application Objects
    ApplicationBase:
      type: object
      required:
        - expiration_delay
        - name
      properties:
        client_ids:
          description: 'List of client `IDs` the Application can deliver'
          type: array
          items:
            type: string
        description:
          description: 'Description of the Application'
          type: string
        expiration_delay:
          description: 'Expiration delay (in seconds) before a token expires and is no longer valid'
          type: integer
        name:
          description: 'Name of the Application'
          type: string
        scope:
          description: 'List of scopes the Application can deliver'
          type: array
          items:
            type: string
    
    ApplicationComputedFields:
      properties:
        id:
          description: 'Autogenerated ID (UUID) of the Application'
          type: string
    
    ApplicationCreatePayload:
      allOf:
        - $ref: "#/definitions/ApplicationBase"
      type: object
    
    ApplicationFull:
      allOf:
        - $ref: "#/definitions/ApplicationBase"
        - $ref: "#/definitions/ApplicationComputedFields"
      type: object
    
    ApplicationAddClientIdPayload:
      required:
        - client_id
      properties:
        client_id:
          description: 'Client Id to add to the client_ids list'
          type: string
      type: object


# Base Shared Objects
    Timestamps:
      type: "object"
      required:
        - created_at
        - updated_at
      properties:
        created_at:
          type: "string"
          format: "date-time"
        updated_at:
          type: "string"
          format: "date-time"
    
    CreationTimestamp:
      type: "object"
      required:
        - created_at
      properties:
        created_at:
          type: "string"
          format: "date-time"
    
    UpdateTimestamp:
      type: "object"
      required:
        - updated_at
      properties:
        updated_at:
          type: "string"
          format: "date-time"
    
    LocalizedString:
      required:
        - language_code
        - value
      properties:
        language_code:
          type: "string"
        value:
          type: "string"


# Site related Objects
    RequestPostSite:
      type: "object"
      required:
        - login
        - password
        - email
        - site_uuid
        - domain
      properties:
        login:
          type: "string"
          description: "login for site admin"
          example: "Admin Test"
        password:
          type: "string"
          description: "password for site admin"
        email:
          type: "string"
          description: "email for site admin"
          example: "admin+test@ukg.com"
        site_uuid:
          type: "string"
          description: "site id for existing site on platform"
          format: "uuid"
        coreuuid:
          type: "string"
          description:
            'site admin uuid (also can be auto, it means the coreuuid will set for created admin user,
             it also can be empty so that uuid will be generated from ECM side)'
        domain:
          type: "string"
          description: "domain for new site"
          example: "recette-peopleask.hrsd.dev.gcp.int"


# Organizations related Objects
    OrganizationBase:
      type: "object"
      required:
        - name
      properties:
        name:
          type: "string"
          maxLength: 255
        description:
          type: "string"
          maxLength: 255
        parent_organization_id:
          type: "string"
        corporate_name:
          type: "string"
        address1:
          type: "string"
        address2:
          type: "string"
        zip_code:
          type: "string"
        city:
          type: "string"
        country:
          description: "ISO country code recommended"
          type: "string"
        contact_firstname:
          type: "string"
        contact_lastname:
          type: "string"
        contact_email:
          type: "string"
        contact_phone_number:
          type: "string"
    
    OrganizationComputedFields:
      required:
        - id
      properties:
        id:
          type: "string"
        has_children:
          type: boolean
          description: "Are there any organizations attached to this Organization (`true`) or not (`false`)?"
    
    OrganizationFull:
      allOf:
        -
          $ref: "#/definitions/OrganizationBase"
        -
          $ref: "#/definitions/OrganizationComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrganizationCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/OrganizationBase"
    
    
    OrganizationGroupBase:
      type: "object"
      required:
        - name
      properties:
        name:
          type: "string"
          maxLength: 255
        organizations_ids:
          type: "array"
          description: "List of the Organization IDs in the Organization Group"
          items:
            type: string
    
    OrganizationGroupComputedFields:
      required:
        - id
      properties:
        id:
          type: "string"
    
    OrganizationGroupFull:
      allOf:
        -
          $ref: "#/definitions/OrganizationGroupBase"
        -
          $ref: "#/definitions/OrganizationGroupComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrganizationGroupCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/OrganizationGroupBase"
    
    RequestEmbededOrganization:
      type: "object"
      properties:
        id:
          type: "string"
          description: "Organization code"
        name:
          type: "string"

# Django messages
    MessageUserBase:
      type: "object"
      properties:
        level:
          type: "string"
          description: "Message levels allow you to group messages by type so they can be displayed differently in views."
          example: "25"
        message:
          type: "string"
          description: "notification about some action"
          example: "Request closed: #1234"
        tags:
          type: "string"
          description: "string representation of the message level"
          example: "info"

# Employee related Objects
    CustomField:
      type: "object"
      required:
        - code
        - value
      properties:
        code:
          type: "string"
          description: "Custom Field `ID`"
          example: "department"
        value:
          type: "string"
          description: "Custom Field value"
          example: "it"
    
    CustomFieldComputedFieldsForEmployee:
      properties:
        label:
          type: "string"
          description: "Label of the custom field value"
          example: "IT Department"
    
    RegistrationReferenceBase:
      type: "object"
      required:
         - organization_id
         - employee_number
      properties:
        organization_id:
          type: "string"
          description: "ID of the organization the Employee belongs to"
          example: "org-x"
        employee_number:
          type: "string"
          description: "Employee number in the organization"
          example: "EID678Y8"
        active:
          type: "boolean"
          description: "`true` if the Employee is currently in the organization. `false` else. Default: `true`"
          example: false
        departure_date:
          type: "string"
          format: "date"
          description: "Departure date of the employee from the organization. If set to `null` and if `active` is set to `false`, `departure_date` is set to the current date."
          example: "2015-03-23"
    
    
    RegistrationReferenceFull:
      allOf:
        -
          $ref: "#/definitions/RegistrationReferenceBase"
        -
          $ref: "#/definitions/Timestamps"
    
    EmployeeExternalId:
      type: "object"
      properties:
        external_id:
          type: string
          description: |
            Unique identifier of the employee as defined in the client HRIS.
          example: "GYI7878YG"
    
    EmployeeLanguage:
      type: "object"
      properties:
        language:
          type: "string"
          description: |
            Language set for the employee. IETF BCP 47 language code,
            see https://tools.ietf.org/html/bcp47.
            Only a subset of the languages supported by UKG HR Service Delivery might be available
            on your platform depending on your configuration.
            If you don't provide a language code, and no language was previously set for the Employee,
            the default language activated on the client's platform will be applied
          example: "en-us"
    
    EmployeeBaseSimplified:
      type: "object"
      required:
        - firstname
        - lastname
      properties:
        firstname:
          type: "string"
          example: "Natalie"
        lastname:
          type: "string"
          example: "Barth"
        email:
          type: "string"
          description: "Professional email of the Employee in the company.
          Mandatory if the address is not complete OR if there is no saml_token.
          ASCII characters only."
          example: "nb@example.com"
    
    EmployeeBaseProfile:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/EmployeeBaseSimplified"
          -
            $ref: "#/definitions/EmployeeLanguage"
          -
            type: "object"
            required:
              - country
            properties:
              maidenname:
                type: "string"
                example: "Doe"
              middlename:
                type: "string"
                example: "Victoria"
              country:
                description: |
                  ISO 3166-1 alpha-2 (https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code. Mandatory if the email is not provided
                type: "string"
                example: "FR"
              starting_date:
                type: "string"
                format: "date"
                description: |
                  Starting date of the Employee in the company
                example: "2019-02-04"
    
    EmployeeBase:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/EmployeeBaseSimplified"
          -
            $ref: "#/definitions/EmployeeBaseProfile"
          -
            type: "object"
            required:
              - address1
              - zip_code
              - city
              - registration_references
            properties:
              mobile_phone_number:
                type: "string"
                description: |
                  Mobile phone number in the international format with the full country code (e.g.: 0033)
                example: "0033674564532"
              birth_date:
                type: "string"
                format: "date"
                example: "1970-02-04"
              address1:
                type: "string"
                description: |
                  Home address of the Employee. Mandatory if the email is not provided
                example: "32 rue de paradis"
              address2:
                type: "string"
                example: ""
              address3:
                type: "string"
                example: ""
              zip_code:
                type: "string"
                description: |
                  Home address of the Employee. Mandatory if the email is not provided
                example: "75010"
              city:
                type: "string"
                description: |
                  Home address of the Employee. Mandatory if the email is not provided
                example: "Paris"
              state:
                description: |
                  State or province
                type: "string"
                example: ""
              registration_references:
                type: "array"
                items:
                  $ref: "#/definitions/RegistrationReferenceBase"
              custom_fields:
                description: "List of custom fields."
                type: "array"
                items:
                  $ref: "#/definitions/CustomField"
    
    EmployeeComputedFieldsSimplified:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          description: "ID of the Employee"
          example: "c03d1eb1-6bae-4b1f-8fd5-1dcb2d7dbaa4"
    
    EmployeeComputedFieldsProfile:
      type: "object"
      properties:
        status:
          description: |
              Status of the Employee:
              - `pre_hired` if the actual person hasn't joined the company yet.
              - `active` if he or she is.
              - `terminated` if the employee has left.
    
              The field is computed from `terminated` and `starting_date` fields:
              - If `terminated` field is set to true, then `status` is `terminated`.
              - Otherwise, if `starting_date` is in the future, `status` is `pre_hired`.
              - Finally, if `starting_date` is anterior to today, `status` is `active`.
          type: "string"
          enum: ["pre_hired", "active", "terminated"]
          default: "active"
          example: "terminated"
    
    EmployeeComputedFields:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/EmployeeComputedFieldsProfile"
          -
            $ref: "#/definitions/EmployeeComputedFieldsSimplified"
          -
            type: "object"
            required:
              - terminated
            properties:
              terminated:
                type: "boolean"
                description: "Are all the registration references not active (`true`)?
                or is there at least one registration reference active (`false`)?"
                example: false
              registration_references:
                type: "array"
                items:
                  $ref: "#/definitions/RegistrationReferenceFull"
              custom_fields:
                type: "array"
                items:
                  $ref: "#/definitions/CustomFieldComputedFieldsForEmployee"
              departure_date:
                description: |
                  Departure date of the employee.
    
                  The field is computed from the most recent departure date of the employee's registration references.
                  This field is null when the employee is not terminated.
                type: "string"
                format: "date"
                example: "2015-03-23"
    
    EmployeeCreateOptions:
      type: "object"
      properties:
        saml_token:
          type: "string"
          description: |
            SAML token of the employee. Only use if you intend to allow
            employees to connect via SSO.
            If an empty value is passed explicitly (`"saml_token": ""` or
            `"saml_token": null`), the SAML Token of the employee will be cleared.
          example: "samltoken123456789"
    
    
    EmployeeCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeeExternalId"
        -
          $ref: "#/definitions/EmployeeBase"
        -
          $ref: "#/definitions/EmployeeCreateOptions"
        -
          type: "object"
          properties:
            custom_fields:
              description: |
                List of custom fields.
                You can omit the key, or provide a partial list of custom field values.
                Any missing custom field will be initialized to its default value.
              type: "array"
              items:
                $ref: "#/definitions/CustomField"
    
    
    EmployeeUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeeExternalId"
        -
          $ref: "#/definitions/EmployeeBase"
        -
          $ref: "#/definitions/EmployeeCreateOptions"
        -
          type: "object"
          properties:
            custom_fields:
              description: |
                List of custom fields
                You can omit the key, or provide a partial list of custom field values.
                If provided, any missing custom field will be reset to its default value.
              type: "array"
              items:
                $ref: "#/definitions/CustomField"
    
    
    EmployeePartialUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeeExternalId"
        -
          $ref: "#/definitions/EmployeeBase"
        -
          $ref: "#/definitions/EmployeeCreateOptions"
        -
          type: "object"
          properties:
            custom_fields:
              description: |
                List of custom fields.
                You can omit the key, or provide a partial list of custom field values.
                Only the provided custom field values will be updated.
              type: "array"
              items:
                $ref: "#/definitions/CustomField"
    
    
    EmployeeCreateOrUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeeBase"
        -
          $ref: "#/definitions/EmployeeCreateOptions"
        -
          type: "object"
          properties:
            custom_fields:
              description: |
                List of custom fields.
                You can omit the key, or provide a partial list of custom field values.
                If the employee doesn't exist yet, any missing custom field will be initialized to its default value.
                If the employee already exists and the key is provided, any missing custom field will be reset to its default value.
              type: "array"
              items:
                $ref: "#/definitions/CustomField"
    
    EmployeeFull:
      allOf:
        -
          $ref: "#/definitions/EmployeeExternalId"
        -
          $ref: "#/definitions/EmployeeBase"
        -
          $ref: "#/definitions/EmployeeComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    EmployeeSimplified:
      allOf:
        -
          $ref: "#/definitions/EmployeeExternalId"
        -
          $ref: "#/definitions/EmployeeBaseSimplified"
        -
          $ref: "#/definitions/EmployeeComputedFieldsSimplified"
    
    EmployeeProfile:
        allOf:
          -
            $ref: "#/definitions/EmployeeComputedFieldsProfile"
          -
            $ref: "#/definitions/EmployeeBaseProfile"
    
    EmployeeProfileUpdatePayload:
        allOf:
          -
            $ref: "#/definitions/EmployeeLanguage"
    
    EmployeeVaultAccountStatus:
      type: "object"
      properties:
        vault_account_status:
          type: string
          description: |
            New vault account status code.
          example: "active"
    
    EmployeeBulkUpdatePayload:
      type: array
      items:
        type: object
        required:
          - employee_id
          - data
        properties:
          employee_id:
            type: string
            format: uuid
            description: "ID of the employee to update"
            example: "f461926d-1da4-4d8a-9a0e-4edbfcfa8ece"
          data:
            $ref: "#/definitions/EmployeeUpdatePayload"
    
    EmployeeBulkPatchPayload:
      type: array
      items:
        type: object
        required:
          - employee_id
          - data
        properties:
          employee_id:
            type: string
            format: uuid
            description: "ID of the employee to update"
            example: "f461926d-1da4-4d8a-9a0e-4edbfcfa8ece"
          data:
            $ref: "#/definitions/EmployeePartialUpdatePayload"
    
    EmployeeBulkCreatePayload:
      type: "array"
      items:
        $ref: "#/definitions/EmployeeCreatePayload"
    
    EmployeeBulkOperationResult:
      type: "object"
      properties:
        request_id:
          type: "string"
          format: "uuid"
          description: "Unique identifier for the bulk operation request."
          example: "c03d1eb1-6bae-4b1f-8fd5-1dcb2d7dbaa4"
    
    EmployeeBulkOperationStatus:
      type: object
      properties:
        summary:
          type: object
          properties:
            total:
              type: integer
              example: 1
            processed:
              type: integer
              example: 1
            success:
              type: integer
              example: 1
            failed:
              type: integer
              example: 0
            status:
              type: string
              example: "completed"
        results:
          type: array
          items:
            type: object
            properties:
              index:
                type: integer
                example: 0
              status:
                type: string
                example: "success"
              message:
                type: string
                example: "Employee record created successfully."
              Result:
                $ref: "#/definitions/EmployeeFull"

    AuthorizedValue:
      required:
        - "value"
        - "label"
      properties:
        value:
          type: "string"
          description: "Value of the option. If `type` is set to `list`, the value can contain spaces and special characters, except comma. Note that values are slugified during comparison to detect duplicates."
          example: "42"
        label:
          type: "string"
          description: "Label for the value as displayed under the Employee's profile"
          example: "Payroll Department"
        code:
          type: "string"
          description: "Code read from employee creation/update API or employee CSV imports that maps to this value when the custom field's type is `int`"
          example: "payroll-department"
    
    
    CustomFieldUpdatableFields:
      properties:
        default_value:
          type: "string"
          description: "Default value for the Custom Field if not provided for the Employee. If `type` is set to `list` or `integer`, the `default_value` must be in the list of authorized_values"
          example: "42"
        localized_labels:
          type: "array"
          items:
            $ref: "#/definitions/LocalizedString"
          example: [
            { "language_code": "en-us", "value": "Department" },
            { "language_code": "fr-fr", "value": "Dpartement" }
          ]
        visible:
          type: boolean
          description: "If set to `true`, the Custom Field will be visible from everyone. If set to `false`, the Custom Field is private, meaning it will only be visible to users having the permission View private custom fields activated. "
          example: true
        allow_access_restrictions:
          type: boolean
          description: "If set to `true`, the Custom Field can be used in a filter
          to restrict access to certain employees in a user's profile"
          default: false
          example: true
    
    CustomFieldBase:
      required:
        - "type"
      properties:
        type:
          type: "string"
          enum: ["bool", "string", "list", "int"]
          description: "Custom Field type"
          example: "int"
        authorized_values:
          type: "array"
          description: "List of authorized values. Mandatory if `type` is set to `list` or `integer`"
          items:
            $ref: "#/definitions/AuthorizedValue"
        hierarchical:
          type: boolean
          description: "Only available if `type` is set to `integer`. Is the list of integer values available ordered (`true`) and can be queried as such? or not (`false`)"
          example: false
    
    
    CustomFieldComputedFields:
      required:
        - "id"
        - "label"
      properties:
        id:
          type: "string"
          description: "Custom Field ID"
          example: "department"
        label:
          type: "string"
          description: "Custom Field label as displayed under the Employee's profile"
          example: "Department"
    
    
    CustomFieldCreatePayload:
      type: "object"
      allOf:
        - $ref: "#/definitions/CustomFieldBase"
        - $ref: "#/definitions/CustomFieldUpdatableFields"
    
    
    CustomFieldFull:
      type: "object"
      allOf:
        - $ref: "#/definitions/CustomFieldComputedFields"
        - $ref: "#/definitions/CustomFieldBase"
        - $ref: "#/definitions/CustomFieldUpdatableFields"
        - $ref: "#/definitions/Timestamps"


# Employee vault related Objects
    ElectronicVaultOptionsBase:
        type: object
        properties:
          electronic_vault_subscription_enabled:
            type: "boolean"
            description: "Is the Employee eligible
            to benefit an electronic vault account (`true`, default)? or not (`false`).
            If the Employee is not eligible, they won't be able to open an electronic vault"
          paper_documents_distribution_enabled:
            type: "boolean"
            description: "Is the Employee eligible to
            receive documents by mail (`true`, default)? or not (`false`)"
          electronic_documents_distribution_enabled:
            type: "boolean"
            description: "If `electronic_vault_subscription_enabled` is set to `true`,
            can the Employee receive electronic documents in his/her electronic vault
            (`true`, default)? or not (`false`)"
          electronic_payslips_opted_out:
            type: "boolean"
            description: "Did the Employee make the choice to opt out from receiving their payslips digitally (`true`)?
            Or on the contrary, did they choose to receive them digitally (`false`)?
            If the employee did not communicate any choice, `false` is returned"
    
    ElectronicVaultOptionsComputedFields:
      type: "object"
      properties:
        id:
          type: "string"
          description: "`ID` of the Employee to whom the options refer to"
        electronic_vault_id:
          type: "string"
          description: "`ID` of the Electronic Vault"
        electronic_vault_state:
          description: "Every new employee has to activate their electronic vault.
          Therefore the state is first described as `not_activated`.
          Then, when an employee opens their electronic vault, it is reported as `activated`.
          However the owner of an electronic vault can request its deletion.
          When it is the case, the state of the Electronic Vault is updated to `pending_deletion`.
          When the deletion is effective, the state of the Electronic Vault is then `deleted`.
          At last, when `electronic_vault_subscription_enabled` is set to `false`, the employee can not open
          an electronic vault, its state is then `not_available`"
          type: "string"
          enum:
            - activated
            - not_activated
            - not_available
            - pending_deletion
            - deleted
        electronic_payslips_choice_updated_at:
          type: "string"
          format: "date-time"
          description: "Date of the last update regarding the choice of the Employee
          to receive their payslips digitally or not"
        electronic_payslips_choice_origin:
          type: "string"
          description: "Origin of the Employee choice regarding the distribution of
          their payslips digitally.
          `mypeopledoc` if the Employee did their choice from their electronic vault.
          `peopledoc` if the choice has been executed on behalf of the Employee in UKG HR Service Delivery"
          enum:
            - mypeopledoc
            - peopledoc
    
    ElectronicVaultOptionsUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ElectronicVaultOptionsBase"
    
    ElectronicVaultFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ElectronicVaultOptionsBase"
        -
          $ref: "#/definitions/ElectronicVaultOptionsComputedFields"

    EmployeeElectronicVaultDocuments:
      type: "object"
      required:
        - upload_id
        - document_type_id
        - document_title
      properties:
        upload_id:
          description: |
            ID of the uploaded document to drop in the employee vault.
            The document must have been uploaded first using the /uploads endpoint"
          type: "string"
          format: "uuid"
        document_type_id:
          type: "string"
          description: |
            Document Type ID. The label of the document type in the employee
            language will be fetch to be used as a tag in the employee's vault
        document_title:
          type: "string"
          description: "Document Title"
        document_date:
          type: "string"
          format: "date"
          description: |
            Date of the document. Corresponds to the date used to order the
            documents by date in the employee vault. If this date is not specified,
            the filing date used will be the date the document was
            uploaded (i.e. the API method call date)
        send_notification:
          type: "boolean"
          description: |
            Does MyPeopleDoc have to send an email notification to the employee
            (true, default) or not (false) to inform of the new document available
            in the vault?

    ElectronicVaultDeletionBase:
        type: object
        required:
          - requested_at
        properties:
          requested_at:
            type: "string"
            format: "date-time"
            description: "Deletion request date"
          locked_at:
            type: "string"
            format: "date-time"
            description: "Lock request date"
          planned_at:
            type: "string"
            format: "date-time"
            description: "Expected date of deletion"
          deleted_at:
            type: "string"
            format: "date-time"
            description: "Effective date of deletion"
    
    ElectronicVaultDeletionComputedFields:
      type: "object"
      properties:
        id:
          type: "string"
          description: "`ID` of the Employee to whom the options refer to"
    
    ElectronicVaultDeletionUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ElectronicVaultDeletionBase"
    
    ElectronicVaultDeletionFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ElectronicVaultDeletionBase"
        -
          $ref: "#/definitions/ElectronicVaultDeletionComputedFields"



# Employees perimeters related Objects
    CustomFieldFilterRule:
      type: "object"
      required:
        - "custom_field_id"
        - "operator"
        - "value"
      properties:
        custom_field_id:
          type: "string"
          description: "`ID` of the Custom Field used in the Filter"
        operator:
          type: "string"
          description: |
            Operator used to filter the values of the Custom Field:
            "=" and "!=" can be used for any type of custom fields;
            "<=", "<", ">" and ">=" are only allowed for custom fields of type `integer`
            for which the hierarchical attribute has been set to `true`
          enum:
            - "="
            - "!="
            - "<="
            - "<"
            - ">="
            - ">"
        value:
          type: "string"
          description: "Value to compare with the value of the custom field.
           This attribute is always a string, but can represent a string, an integer or a boolean depending on the type of the custom field"
    
    EmployeesPerimeterBase:
      type: "object"
      required:
        - "operator"
        - "custom_field_filters"
      properties:
        operator:
          type: "string"
          description: |
            Defines the organizations to include in the perimeter.
            If an `organization_id` is specified, can be one of "=" or "<=".
            Otherwise if an `organization_group_id` is specified, it must be set to "="
          enum:
            - "="
            - "<="
        organization_id:
          type: "string"
          description: "The User will have access to employees associated to this
          organization, or its children organizations depending on the operator"
        organization_group_id:
          type: "string"
          description: "The User will have access to employees associated to the
          organizations included in this group of organizations"
        custom_field_filters:
          type: "array"
          description: |
            From the employees the User has access to, filters can further restrict the list of employees
            visible to the User based on custom fields. Two filters based on the same
            custom field will be combined with the `OR` operator.
            Conversely, two filters based on different custom fields will be
            combined with the `AND` operator
          items:
            $ref: "#/definitions/CustomFieldFilterRule"
    
    EmployeesPerimeterComputedFields:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          description: "`ID` of the Employees Perimeter"
    
    EmployeesPerimeterFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeesPerimeterBase"
        -
          $ref: "#/definitions/EmployeesPerimeterComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    EmployeesPerimeterCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeesPerimeterBase"
        -
          type: "object"
          properties:
            options:
              type: "object"



# Employees subscriptions
    SubscriptionBase:
      type: "object"
      required:
         - employee_document_type_id
         - employee_choice
      properties:
        employee_document_type_id:
          type: "string"
          description: "`ID` of the Document Type the subscription is associated with"
        employee_choice :
          type: "string"
          description: "Choice of the Employee to receive from their employer a document
          of this Document Type. This choice can originate from the choice of the employee
          to opt out (see `electronic_payslips_opted_out`), from the decision to open
          or not his or her vault (see `electronic_vault_activated`) or from the choice
          made the employee in his or her electronic vault to receive a document of this type
          in an `electronic`or `paper` format. Can be one of: `electronic`, `paper`, `null`"
    
    SubscriptionComputedFields:
      type: "object"
      required:
         - calculated_employee_choice
      properties:
        calculated_employee_choice:
          type: "string"
          description: "Some settings in the employee profile defined by his or her
          employer can introduce a different behavior for an employee to receive
          their documents.
          If `electronic_documents_distribution_enabled` is set to `false`
          in the Employee profile and if `employee_choice` is set to `electronic` then this field will be set to `null`.
          Likewise if the employer set `paper_documents_distribution_enabled`
          to `false` in the Employee profile and if `employee_choice` is set to `paper`
          then this field will be set to `null`.
          Otherwise `calculated_employee_choice` will equal to `employee_choice`"
    
    SubscriptionFull:
      allOf:
        -
          $ref: "#/definitions/SubscriptionBase"
        -
          $ref: "#/definitions/SubscriptionComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    EmployeeSubscriptionFull:
      allOf:
        -
          $ref: "#/definitions/EmployeeSimplified"
        -
          $ref: "#/definitions/ElectronicVaultOptionsBase"
        # Legacy
        -
          type: "object"
          required:
           - electronic_vault_activated
          properties:
            electronic_vault_activated:
              type: "boolean"
              description: "Did the Employee activate their electronic vault (true) or not (false, default)?"
        -
          type: "object"
          required:
           - subscriptions
          properties:
            subscriptions:
              type: "array"
              items:
                $ref: "#/definitions/SubscriptionFull"



# Role related Objects
    RoleBase:
      required:
        - "id"
        - "name"
      properties:
        id:
          type: string
          description: "`ID` of the role. Please only use letters, numbers, underscores or hyphens"
          example: "payroll-manager"
        name:
          type: "string"
          description: "Name of the `Role`"
          example: "Payroll Manager"
        description:
          type: "string"
          description: "Description of the `Role`"
          example: "Payroll Manager, gives access to documents and requests related to payroll"
    
    RoleCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/RoleBase"
    
    RoleFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/RoleBase"
        -
          $ref: "#/definitions/Timestamps"
    
    
    #################################
    # PeopleCore related permissions
    #################################
    CorePermissionsBase:
      type: "object"
      required:
        - view_employees
        - view_former_employees
        - view_employees_without_registration_reference
        - manage_employees
        - manage_employees_saml_token
        - delete_employees
        - export_employee_csv
        - manage_employee_imports
        - manage_custom_fields
        - manage_users
        - manage_roles
        - manage_organizations
        - manage_datasets
        - view_advanced_analytics
        - manage_advanced_analytics
        - view_audit_trail
        - view_private_custom_fields
      properties:
        view_employees: # permission_consult_employees
          type: "boolean"
          description: "Allow to list and view Employee details"
          example: true
        view_former_employees:
          type: "boolean"
          description: "Allow to list and view details of an Employee with only inactive registration references in the scope of the HR User (needs view_employees)"
          example: true
        view_employees_without_registration_reference: # permission_consult_pending_employees
          type: "boolean"
          description: "Allow to list and view Employee details"
          example: true
        manage_employees: # permission_manage_employees
          type: "boolean"
          description: "Allow Employee management (needs view_employees)"
          example: true
        manage_employees_saml_token:
          type: "boolean"
          description: "Allow to manage employees SAML tokens"
          example: true
        delete_employees: # permission_delete_employees
          type: "boolean"
          description: "Allow Employee deletion"
          example: true
        export_employee_csv: # permission_export_employee_csv
          type: "boolean"
          description: "Allow exporting employees in a CSV file (needs view_employees)"
          example: true
        manage_employee_imports: # permission_manage_employee_imports
          type: "boolean"
          description: "Allow to manage employee imports (needs view_employees)"
          example: true
        manage_organization_imports: # permission_manage_organization_imports
          type: "boolean"
          description: "Allow to manage organization imports (needs manage_organizations)"
          example: true
        manage_custom_fields:
          type: "boolean"
          description: "Allow Custom Field management"
          example: true
        manage_users: # permission_manage_managers
          type: "boolean"
          description: "Allow User management"
          example: true
        manage_roles: # permission_manage_roles
          type: "boolean"
          description: "Allow Role management"
          example: true
        manage_organizations: # permission_manage_orgs
          type: "boolean"
          description: "Allow Organization and Organization Group management"
          example: true
        manage_datasets:
          type: "boolean"
          description: "Allow Data Sets management"
          example: true
        view_advanced_analytics:
          type: "boolean"
          description: "Allow access to Advanced Analytics (read only)"
          example: true
        manage_advanced_analytics:
          type: "boolean"
          description: "Allow Advanced Analytics management (read & write) (needs view_advanced_analytics)"
          example: true
        view_audit_trail:
          type: "boolean"
          description: "Allow access to Audit Trail"
          example: true
        view_private_custom_fields: # permission_view_private_custom_fields
          type: "boolean"
          description: "Allow access to private custom fields"
          example: true
        # TODO: Move on Document Manager permissions when created
        # employee_document_type_access_permissions:
        #   type: "array"
        #   items:
        #     $ref: "#/definitions/EmployeeDocumentTypeAccessPermissions"
        # company_document_type_access_permissions:
        #   type: "array"
        #   items:
        #     $ref: "#/definitions/CompanyDocumentTypeAccessPermissions"
    
    CorePermissionsComputed:
      type: "object"
      required:
        - role_id
      properties:
        role_id:
          type: "string"
          description: "ID of the role"
          example: "payroll-manager"
    
    CorePermissionsFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CorePermissionsBase"
        -
          $ref: "#/definitions/CorePermissionsComputed"
    
    CorePermissionsGet:
      type: "object"
      properties:
        manage_retention_policies:
          type: "boolean"
          description: "Allow to manage the Process and Request retentions policies.
          This permission is visible only if the Request Manager and/or the Digital Process Manager are activated."
          example: true
      allOf:
        -
          $ref: "#/definitions/CorePermissionsFull"
    
    CorePermissionsPut:
      type: "object"
      properties:
        manage_retention_policies:
          type: "boolean"
          description: "Allow to manage the Process and Request retentions policies.
          This permission can be attributed only if the Request Manager and/or the Digital Process Manager are activated."
          example: true
      allOf:
        -
          $ref: "#/definitions/CorePermissionsBase"
    
    
    ########################################
    # Knowledge Base related permissions
    ########################################
    KnowledgeBasePermission:
      type: "object"
      required:
        - code
        - enabled
      properties:
        "code":
          type: "string"
          description: "Full code (unique identifier) of the permission ('app_label.codename')."
          example: "people.can_manage_files"
        "enabled":
          type: "boolean"
          description: "True if this permission is enabled for this role."
          example: true
        "category":
          type: "string"
          description: "The translated permission category name."
          readOnly: true
          example: "Knowledge Base"
        "label":
          type: "string"
          description: "The translated permission label."
          readOnly: true
          example: "Can Manage Files"
    
    KnowledgeBasePermissions:
      type: "array"
      items:
        $ref: "#/definitions/KnowledgeBasePermission"
    
    
    ########################################
    # Process Automation related permissions
    ########################################
    
    ProcessAutomationPermission:
      type: "object"
      required:
        - code
        - enabled
      properties:
        code:
          type: "string"
          description: "Full code (unique identifier) of the permission ('app_label.codename')."
          example: "people.can_access_process"
        enabled:
          type: "boolean"
          description: "True if this permission is enabled for this role."
          example: true
        label:
          type: "string"
          description: "The translated permission label."
          readOnly: true
          example: "Access all tasks assigned to me"
        category:
          type: "string"
          description: "The translated permission category name."
          readOnly: true
          example: "Processes"
    
    ProcessAutomationPermissions:
      type: "array"
      items:
        $ref: "#/definitions/ProcessAutomationPermission"
    
    RequestManagementPermission:
      type: "object"
      required:
        - code
        - enabled
      properties:
        "code":
          type: "string"
          description: "Full code (unique identifier) of the permission ('app_label.codename')."
          example: "people.can_access_ticket"
        "enabled":
          type: "boolean"
          description: "True if this permission is enabled for this role."
          example: true
        "category":
          type: "string"
          description: "The translated permission category name."
          readOnly: true
          example: "Requests"
        "label":
          type: "string"
          description: "The translated permission label."
          readOnly: true
          example: "View requests"
    
    RequestManagementPermissions:
      type: "array"
      items:
        $ref: "#/definitions/RequestManagementPermission"
    
    ######################################
    # Document Manager related permissions
    ######################################
    EmployeeDocumentTypeAccessPermissions:
      type: "object"
      properties:
        employee_document_type_id:
          type: "string"
          description: "EmployeeDocumentType `ID`"
          example: "employment-contract"
        permissions:
          type: "array"
          example: ["preview", "dl_duplicate"]
          items:
            description: "Permission, possibles values are: `preview`, `dl_original`, `dl_duplicate`, `upload`, `update`, `share`, `delete`, `view_expired`"
            type: "string"
    
    CompanyDocumentTypeAccessPermissions:
      type: "object"
      properties:
        company_document_type_id:
          type: "string"
          description: "CompanyDocumentType `ID`"
          example: "company-holiday-policy"
        permissions:
          type: "array"
          example: ["preview", "dl_original"]
          items:
            description: "Permission, possibles values are: `preview`, `dl_original`, `dl_duplicate`, `upload`, `update`, `share`, `delete`, `view_expired`"
            type: "string"
    
    EFMPermissionsBase:
        type: "object"
        properties:
          manage_settings:
            type: "boolean"
            description: "Allow to edit application settings at the client platform level"
            example: true
          view_statistics:
            type: "boolean"
            description: "Access statistics about electronic payslips,
            documents and esignatures"
            example: true
          manage_document_types_and_folder:
            type: "boolean"
            description: "Allow to edit folders and document types"
            example: true
          create_distribution:
            type: "boolean"
            description: "Allow to create and edit distributions created by the user themself"
            example: true
          manage_distributions:
            type: "boolean"
            description: "Allow to manage all distributions created on the platform"
            example: true
          manage_mass_mailings:
            type: "boolean"
            description: "Allow to manage all mass mailings created on the platform"
            example: true
          manage_document_deposit:
            type: "boolean"
            description: "Gives the possibility to upload documents.
            The permissions set at the document type level will effectively authorize
            a HR user will this role to upload a document"
            example: true
          view_employee_documents:
            type: "boolean"
            description: "Gives the possibility to access employee documents.
            The permissions set at the document type level will effectively authorize
            a HR user will this role to see a document"
            example: true
          view_company_documents:
            type: "boolean"
            description: "Gives the possibility to access company documents.
            The permissions set at the document type level will effectively authorize
            a HR user will this role to see a document"
            example: true
          manage_document_deletion:
            type: "boolean"
            description: "Gives the possibility to delete documents.
            The permissions set at the document type level will effectively authorize
            a HR user will this role to delete a document"
            example: true
          manage_expired_deletion:
            type: "boolean"
            description: "Gives the possibility to edit the expiry date of documents.
            The permissions set at the document type level will effectively authorize
            a HR user will this role to change the expiry date for a document"
            example: true
          generate_documents:
            type: "boolean"
            description: "Allow to generate documents"
            example: true
          manage_document_templates:
            type: "boolean"
            description: "Allow to manage all the document templates"
            example: true
          manage_shared_folders:
            type: "boolean"
            description: "Allow to create and manage all the shared folders"
            example: true
          create_signatures:
            type: "boolean"
            description: "Allow to send a document for signature"
            example: true
          manage_signatures:
            type: "boolean"
            description: "Allow to manage all the documents sent for signatures
            according to the perimeter granted by the role"
            example: true
          manage_legal_holds:
            type: "boolean"
            description: "Allow to manage all the legal holds"
            example: true
          manage_third_party_apps:
            type: "boolean"
            description: "Allow to manage third party apps"
            example: true
          manage_export_invitation_codes:
            type: "boolean"
            description: "Allow to export invitation codes for eligible employees"
            example: true
          manage_rpa:
            type: "boolean"
            description: "Allow to access Robotic Process Automation.
            This permission is displayed only if at least one template in RPA is configured for the client."
            example: true
    
    EFMPermissionsFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EFMPermissionsBase"
    
    #################################
    # Audit related permissions
    #################################
    AuditPermissionsBase:
      type: "object"
      required:
        - view_events
      properties:
        view_events:
          type: "boolean"
          description: "Allow to view audit events"
          example: true
    
    AuditPermissionsFull:
      type: "object"
      required:
        - role_id
      properties:
        role_id:
          type: "string"
          description: "`ID` of the role"
          example: "hr"
      allOf:
        -
          $ref: "#/definitions/AuditPermissionsBase"
    
    #################################
    # Webhook related permissions
    #################################
    WebhookPermissionsBase:
      type: "object"
      required:
        - manage_webhooks
      properties:
        manage_webhooks:
          type: "boolean"
          description: "Allow to manage webhooks"
          example: true
    
    WebhookPermissionsFull:
      type: "object"
      required:
        - role_id
      properties:
        role_id:
          type: "string"
          description: "`ID` of the role"
          example: "hr"
      allOf:
        -
          $ref: "#/definitions/WebhookPermissionsBase"



# Manager related Objects
    UserBase:
      type: "object"
      required:
        - "firstname"
        - "lastname"
        - "email"
      properties:
        external_id:
          type: "string"
          maxLength: 50
        firstname:
          type: "string"
          maxLength: 70
        lastname:
          type: "string"
          maxLength: 70
        middlename:
          type: "string"
          maxLength: 70
        email:
          type: "string"
          description: "Professional email of the User in the company. ASCII characters only"
          maxLength: 254
        language:
          type: "string"
          description: "Language chosen by the user in the platform. IETF BCP 47 language code,
          see https://tools.ietf.org/html/bcp47.
          Only a subset of the languages supported by UKG HR Service Delivery might be available
          on your platform depending on your configuration."
        timezone:
          type: "string"
          description: "Timezone in the form Area/Location, e.g. America/New_York.
          List of values available in the IANA Time Zone Database, see https://www.iana.org/time-zones."
        mobile_phone_number:
          type: "string"
          description: "Mobile phone number of the User. No formatting is enforced
          but we recommend to prefix the number with the country code (e.g.: 0033 for France)
          before the rest of the number without any separator between the characters"
        profiles:
          type: "array"
          description: "A profile attaches a role (set of permissions)
          to a perimeter (set of employees). A User can have different profiles"
          items:
            $ref: "#/definitions/ProfileBase"
    
    UserComputedFields:
      type: "object"
      required:
        - "id"
      properties:
        id:
          type: "string"
          description: "`ID` of the User"
    
    UserFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/UserBase"
        -
          $ref: "#/definitions/UserComputedFields"
        -
          $ref: "#/definitions/Timestamps"
        -
          # Override the profiles property to use the ProfileFull
          # to return the profile ids
          type: object
          required:
            - "profiles"
          properties:
            profiles:
              type: "array"
              description: "A profile attaches a role (set of permissions)
              to a perimeter (set of employees). A User can have different profiles"
              items:
                $ref: "#/definitions/ProfileFull"
    
    UserCreateParams:
      type: "object"
      properties:
        saml_token:
          type: "string"
          description: "SAML token of the HR user. Only use if you intend to allow
          HR users to connect to UKG HR Service Delivery via SSO"
    
    UserCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/UserBase"
        -
          $ref: "#/definitions/UserCreateParams"
    
    UserPutPayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/UserBase"
        -
          $ref: "#/definitions/UserCreateParams"
        -
          # Override the profiles property to use the ProfileUpdateParams
          # to return the profile ids and make them optional (put)
          type: object
          required:
            - "profiles"
          properties:
            profiles:
              type: "array"
              description: "A profile attaches a role (set of permissions)
              to a perimeter (set of employees). A User can have different profiles.
              The current profiles of the user that are not passed in the call will be deleted"
              items:
                $ref: "#/definitions/ProfileUpdateParams"
    
    UserPatchPayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/UserBase"
        -
          $ref: "#/definitions/UserCreateParams"
        -
          # Override the profiles property to use the ProfileUpdateParams
          # to return the profile ids and make them optional (put)
          type: object
          required:
            - "profiles"
          properties:
            profiles:
              type: "array"
              description: "A profile attaches a role (set of permissions)
              to a perimeter (set of employees). A User can have different profiles"
              items:
                $ref: "#/definitions/ProfileUpdateParams"
    
    ProfileBase:
      type: "object"
      required:
        - "role_id"
        - "employees_perimeter"
      properties:
        role_id:
          type: "string"
          description: "`ID` of the role"
        employees_perimeter:
          type: "object"
          $ref: "#/definitions/EmployeesPerimeterBase"
    
    RequestProfileBase:
      type: "object"
      required:
        - "role_id"
        - "employees_perimeter"
      properties:
        role_id:
          type: "string"
          description: "`ID` of the role"
        role_code:
          type: "string"
          description: "`role_code` of the role"
        employees_perimeter:
          type: "object"
          $ref: "#/definitions/EmployeesPerimeterBase"
    
    ProfileUpdateParams:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ProfileBase"
        -
          type: "object"
          properties:
            id:
              type: "string"
              description: "`ID` of the Profile. `required` to keep and/or update an existing profile.
              `optional` to create a new profile"
    
    ProfileComputedFields:
      type: "object"
      required:
        - "id"
      properties:
        id:
          type: "string"
          description: "`ID` of the Profile"
    
    ProfileFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ProfileComputedFields"
        -
          $ref: "#/definitions/ProfileBase"
    
    UserSimplified:
      type: object
      required:
        - id
        - firstname
        - lastname
      properties:
        id:
          type: "string"
          description: "Unique ID of the User"
        firstname:
          type: "string"
          description: "First name of the User"
        lastname:
          type: "string"
          description: "Last name of the User"
        email:
          type: "string"
          description: "Email address of the User"
        external_id:
          type: "string"
          description: "Unique ID of the User defined in the HRIS"
    
    UserBulkUpdatePayload:
      type: array
      items:
        type: object
        required:
          - manager_id
          - data
        properties:
          manager_id:
            type: string
            format: uuid
            description: "ID of the user to update"
            example: "f461926d-1da4-4d8a-9a0e-4edbfcfa8ece"
          data:
            $ref: "#/definitions/UserPutPayload"
    
    UserBulkCreatePayload:
      type: "array"
      items:
        $ref: "#/definitions/UserCreatePayload"
    
    UserBulkOperationResult:
      type: "object"
      properties:
        request_id:
          type: "string"
          format: "uuid"
          description: "Unique identifier for the bulk operation request."
          example: "c03d1eb1-6bae-4b1f-8fd5-1dcb2d7dbaa4"
    
    UserBulkPatchPayload:
      type: array
      items:
        type: object
        required:
          - manager_id
          - data
        properties:
          manager_id:
            type: string
            format: uuid
            description: "ID of the employee to update"
            example: "f461926d-1da4-4d8a-9a0e-4edbfcfa8ece"
          data:
            $ref: "#/definitions/UserPatchPayload"
    
    UserBulkOperationStatus:
      type: object
      properties:
        summary:
          type: object
          properties:
            total:
              type: integer
              example: 1
            processed:
              type: integer
              example: 1
            success:
              type: integer
              example: 1
            failed:
              type: integer
              example: 0
            status:
              type: string
              example: "completed"
        results:
          type: array
          items:
            type: object
            properties:
              index:
                type: integer
                example: 0
              status:
                type: string
                example: "success"
              message:
                type: string
                example: "User record created successfully."
              Result:
                $ref: "#/definitions/UserFull"



# Document types & folders related Objects
    MetaDataDefinition:
      required:
        - code
        - localized_labels
        - type
        - is_required
      properties:
        code:
          type: "string"
          description: "Unique friendly ID of the Meta Data"
        type:
          type: "string"
          description: "Type of meta data: `int`, `date`, `text`, `list`"
        authorized_values:
          type: "array"
          description: "If the Meta Data type is `list`, the list of authorized values separated by a comma (`,`)"
          items:
            type: "string"
        label:
          type: "string"
          description: "The label of the Meta Data in site default language"
        localized_labels:
          type: "array"
          items:
            $ref: "#/definitions/LocalizedString"
        is_required:
          type: "boolean"
          default: "false"
          description: "Is the Meta Data mandatory when uploading a Document (true) or not (false)?"
    
    EmployeeDocumentTypeBase:
      required:
        - folder_id
        - localized_labels
        - update_documents_on_employee_transfer
      properties:
        label:
          type: "string"
          description: "Label of the Document Type in site default language"
        localized_labels:
          type: "array"
          items:
            $ref: "#/definitions/LocalizedString"
        folder_id:
          description: "ID of the Folder under which the Documents of this Document Type
          will be filed"
          type: "string"
        file_type_restrictions:
          type: "array"
          description: "Restrict the upload of documents based on the file extension (comma separated). Example: `pdf, docx`"
          items:
            type: "string"
        update_documents_on_employee_transfer:
          type: "string"
          description: "When the Employee transfers to a different organization,
          describe how their documents should be updated
          (remember that organizations are copied on documents):
          `add` to add the new organization to the employee documents (default),
          `replace` to remove the former organizations and copy the most recent one to the employee documents,
          `do_nothing` to keep the documents as they are."
          enum:
            - add
            - do_nothing
            - replace
        policies:
          type: "array"
          description: "List of the expiry policy IDs that are linked to the document type."
          items:
            type: "string"
          example: ["payslip_policy_fr", "id_card_policy_fr"]
        employee_access_permissions:
          type: "array"
          description: "Define the Employee access to the documents if
          the Employee has access to their Employee Folder.
          Can be one of: `preview`, `dl_original`, `dl_duplicate`, `upload`"
          items:
            type: "string"
        user_access_permissions:
          type: "array"
          items:
            $ref: "#/definitions/UserAccessPermissions"
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataDefinition"
        templates:
          type: "array"
          description: "List of Template IDs linked to the Document Type
          separated by a `,`. A template can then be used to generate a document"
          items:
            type: "string"
        synchronized_custom_fields:
          type: "array"
          description: "List of custom fields codes used for document access
          restriction that should be updated to match any changes in the employee profile"
          items:
            type: "string"
    
    EmployeeDocumentTypeComputedFields:
      required:
        - id
      properties:
        id:
          type: "string"
          description: "Document type `ID`"
    
    EmployeeDocumentTypeAddRemoveTemplates:
      type: "object"
      properties:
        add_templates:
          type: "array"
          description: "List of Template IDs to be added to the Document Type
          separated by a `,`."
          items:
            type: "string"
        remove_templates:
          type: "array"
          description: "List of Template IDs to be removed from the Document Type
          separated by a `,`."
          items:
            type: "string"
    
    EmployeeDocumentTypeFull:
      allOf:
        -
          $ref: "#/definitions/EmployeeDocumentTypeBase"
        -
          $ref: "#/definitions/EmployeeDocumentTypeComputedFields"
    
    EmployeeDocumentTypeCreatePayload:
      allOf:
        -
          $ref: "#/definitions/EmployeeDocumentTypeBase"
    
    EmployeeDocumentTypePatchPayload:
      allOf:
        -
          $ref: "#/definitions/EmployeeDocumentTypeCreatePayload"
        -
          $ref: "#/definitions/EmployeeDocumentTypeAddRemoveTemplates"
    
    CompanyDocumentTypeBase:
      required:
        - folder_id
        - localized_labels
      properties:
        label:
          type: "string"
          description: "Label of the Document Type in site default language"
        localized_labels:
          type: "array"
          items:
            $ref: "#/definitions/LocalizedString"
        folder_id:
          description: "ID of the Folder under which the Documents of this Document Type
          will be filed"
          type: "string"
        file_type_restrictions:
          type: "array"
          description: "Restrict the upload of documents based on the file extension (comma separated). Example: `pdf, docx`"
          items:
            type: "string"
        expiry_date_policy_type:
          type: "string"
          description: "Define the Expiry Policy applied by default to the Documents
           uploaded with this Document Type. Can be one of: `specific_date`,
           `document_upload_date`, `document_metadata`, `no_limit`"
        expiry_date_policy_options:
          description: "Specify in relation to the Expiry Policy, when the
          Documents should be marked as expired"
          $ref: "#/definitions/ExpiryDatePolicyOptions"
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataDefinition"
        user_access_permissions:
          type: "array"
          items:
            $ref: "#/definitions/UserAccessPermissions"
    
    CompanyDocumentTypeComputedFields:
      required:
        - id
      properties:
        id:
          type: "string"
          description: "Unique ID of the Document type"
    
    CompanyDocumentTypeFull:
      allOf:
        -
          $ref: "#/definitions/CompanyDocumentTypeBase"
        -
          $ref: "#/definitions/CompanyDocumentTypeComputedFields"
    
    CompanyDocumentTypeCreatePayload:
      allOf:
        -
          $ref: "#/definitions/CompanyDocumentTypeBase"
    
    UserAccessPermissions:
      type: "object"
      properties:
        role_id:
          type: "string"
        permissions:
          type: "array"
          description: "Permissions granted on the Document Type for the Role `ID`"
          enum: ["preview", "dl_original", "dl_duplicate", "upload_and_update", "update", "share", "delete", "view_expired"]
          items:
            type: "string"
    
    OverwriteExpiryDateWhenEmployeeLeavesOptions:
      type: "object"
      properties:
        years:
          type: "integer"
          description: "Number of years between 0 and 50 after when the Document will be marked
          as expired after the employee has left the company"
        months:
          type: "integer"
          description: "Number of months between 0 and 11 after when the Document will be marked
          as expired after the employee has left the company"
        days:
          type: "integer"
          description: "Number of days between 0 and 25 after when the document will be marked
          as expired after the employee has left the company"
    
    ExpiryDatePolicyOptions:
      type: "object"
      properties:
        metadata:
          type: "string"
          description: "Code of the metadata to use to compute the Expiry Date.
          Only available with the `document_metadata` Expiry Policy"
        years:
          type: "integer"
          description: "Number of years between 0 and 50 after when the Document will be marked
          as expired based on the Expiry Policy type. Only available with the
          `document_upload_date` and `document_metadata` types"
        months:
          type: "integer"
          description: "Number of months between 0 and 11 after when the Document will be marked
          as expired based on the Expiry Policy type. Only available with the
          `document_upload_date` and `document_metadata` types"
        days:
          type: "integer"
          description: "Number of days between 0 and 25 after when the Document will be marked
          as expired based on the Expiry Policy type. Only available with the
          `document_upload_date` and `document_metadata` types"
        date:
          type: "string"
          format: "date"
          description: "Date at when the Document uploaded under this Document Type
          will be marked as expired. Only available with the `specific_date` Expiry Policy type"

    FolderBase:
      required:
        - id
        - localized_labels
      properties:
        id:
          type: string
          description: "`ID` of the Folder"
          example: "certificates.employment-certificates"
        label:
          type: "string"
          description: "Name of the Folder in the current language"
          example: "Employment Certificates"
        localized_labels:
          type: "array"
          items:
            $ref: "#/definitions/LocalizedString"
        parent_folder_id:
          description: "Parent folder if any"
          type: "string"
          example: "certificates"


# Document related Objects
    DocumentOwnerCustomField:
      type: "object"
      required:
        - code
        - value
      properties:
        code:
          type: "string"
          description: "Custom Field `ID`"
          example: "department"
        value:
          type: "string"
          description: "Custom Field value"
          example: "it"
        label:
          type: "string"
          description: "Label of the custom field value"
          example: "IT Department"
    
    MetaDataWithLabels:
      properties:
        code:
          type: string
        label:
          type: string
        value:
          type: string
        value_label:
          type: string
    
    MetaDataBase:
      required:
        - code
        - value
      properties:
        code:
          type: string
        value:
          type: string
          description: The type depends on the type of the metadata. Can be one of integer, string or boolean.
    
    MetaDataList:
      properties:
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataBase"
    
    DocumentFileId:
      required:
        - filename
        - file_id
      properties:
        filename:
          type: string
          description: "Filename of the File"
        file_id:
          type: string
          description: "ID of the Uploaded File"
    
    DocumentExpirationDatePayload:
      type: "object"
      properties:
        expiration_date:
          type: "string"
          format: "date"
          description: "Real Expiration Date for the document.
          If the Expiration Date is set in the past then the document will be marked as expired and will no longer be valid.
          If the Expiration Date is set to `null`, it means document doesn't have expiration at all."
    
    DocumentExpiryDatePayload:
      type: "object"
      properties:
        expiry_date:
          type: "string"
          format: "date"
          description: "New Retention Period for the document.
          If the Retention Period is set in the past then the document will be marked as Past retention period.
          If the Retention Period is set to `null`, the Retention Period inherited from the document type will be used."
    
    EmployeeDocumentBase:
      type: "object"
      required:
        - document_type_id
      properties:
        employee_id:
          type: "string"
          description: "`ID` of the Employee for whom the Document is uploaded.
          Mandatory if `external_employee_id` is not provided"
        employee_external_id:
          type: "string"
          description: "External ID of the Employee for whom the Document is uploaded"
        document_type_id:
          type: "string"
          description: "Document Type ID, the document belongs to"
        title:
          type: "string"
          description: "Title of the Document"
        date:
          type: "string"
          format: "date"
          description: "Date explicitly passed at the Document upload via the API.
          If available, it will be used instead of the creation date to sort the Document"
        organization_ids:
          type: "array"
          description: "Organization IDs, inherited from the employee, the Document is attached to. When uploading a document, if this parameter is specified in the call,
          the document will be associated with all of the organizations passed.
          Note: the employee must belong to these organizations via an active or an inactive registration references.
          If this parameter is not specified, the document will be associated with all of the employees active organizations for current employees
          or with all of the employees inactive organizations for terminated employees"
          items:
            type: "string"
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataBase"
        external_reference:
          type: "string"
          description: "External document reference to help identify the Document in
           external tools or filing systems"
    
    EmployeeDocumentComputedFields:
      type: "object"
      required:
        - name
        - id
        - origin
        - origin_details
        - trashed
      properties:
        id:
          type: "string"
          description: "ID of the Document"
        origin:
          type: "string"
          description: "Origin of the Document"
          enum:
            - api
            - distribution
            - doc_management
            - mass_mailing
            - signature
            - web
        origin_details:
          type: "string"
          description: "Depending on the origin of the document and when suitable,
          provides more details on its origin. Otherwise its value is set to null"
          enum:
            - drop_in_vault
            - employee
            - mass_mailing
            - signature
            - user
        sender_id:
          type: "string"
          description: "ID of the user or employee who uploaded the document.
          Empty string if the user does not have an ID. Null if the user is unknown"
        name:
          type: "string"
          description: "Name of the Document"
        trashed:
          type: "boolean"
          description: "Has the Document been trashed (true)? or not (false)"
        expired:
          type: "boolean"
          description: "Is the Document past retention period (true)? or not (false)"
        expiry_date:
          type: "string"
          format: "date"
          description: "End of retention period after which the Document will be marked as Past retention period"
    
    EmployeeDocumentExternalRefUnique:
      type: "object"
      properties:
        external_reference_is_unique:
          type: "boolean"
          default: false
          description: "Is the External document reference for a site unique (true)? or not (false)"
    
    EmployeeDocumentFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmployeeDocumentBase"
        -
          $ref: "#/definitions/EmployeeDocumentComputedFields"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/DocumentOwnerCustomField"
    
    
    EmployeeDocumentCreatePayload:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/EmployeeDocumentBase"
          -
            $ref: "#/definitions/EmployeeDocumentExternalRefUnique"
          -
            type: object
            properties:
              uploaded_file:
                $ref: "#/definitions/DocumentFileId"
    
    EmployeeDocumentUpdatePayload:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/EmployeeDocumentBase"
          -
            $ref: "#/definitions/EmployeeDocumentExternalRefUnique"
    
    CompanyDocumentBase:
      type: "object"
      required:
        - document_type_id
        - organization_ids
      properties:
        document_type_id:
          type: "string"
          description: "Document Type ID, the document belongs to"
        title:
          type: "string"
          description: "Title of the Document"
        date:
          type: "string"
          format: "date"
          description: "Date explicitly passed at the Document upload via the API. If available, it will be used instead of the creation date to sort the Document"
        organization_ids:
          type: "array"
          description: "Organization IDs the Document is attached to"
          items:
            type: "string"
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataBase"
        external_reference:
          type: "string"
          description: "External document reference to help identify the Document in
           external tools or filing systems"
    
    CompanyDocumentComputedFields:
      type: "object"
      required:
        - name
        - id
        - origin
        - origin_details
        - trashed
      properties:
        id:
          type: "string"
          description: "ID of the Document"
        name:
          type: "string"
          description: "Name of the Document"
        origin:
          type: "string"
          description: "Origin of the Document"
          enum:
            - api
            - doc_management
            - mass_mailing
            - web
        origin_details:
          type: "string"
          description: "Depending on the origin of the document and when suitable, provides more details on its origin. Otherwise its value is set to null"
          enum:
            - mass_mailing
            - user
        sender_id:
          type: "string"
          description: "ID of the user or employee who uploaded the document"
        trashed:
          type: "boolean"
          description: "Has the Document been trashed (`true`)? or not (`false`)"
        expired:
          type: "boolean"
          description: "Is the Document expired (`true`)? or not (`false`)"
        expiry_date:
          type: "string"
          format: "date"
          description: "End of retention period after which the Document will be marked as Past retention period"
    
    CompanyDocumentFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CompanyDocumentBase"
        -
          $ref: "#/definitions/CompanyDocumentComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    CompanyDocumentCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CompanyDocumentBase"
        -
          type: object
          properties:
            uploaded_file:
              $ref: "#/definitions/DocumentFileId"
    
    CompanyDocumentUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CompanyDocumentBase"
    
    SignatureDocumentBase:
      type: "object"
      properties:
        signature_id:
          type: "string"
          description: "Signature ID, the document belongs to"
        document_type_id:
          type: "string"
          description: "Document Type ID, the document belongs to"
        title:
          type: "string"
          description: "Title of the Document"
        date:
          type: "string"
          format: "date-time"
          description: "Date explicitly passed at the Document upload via the API.
          If available, it will be used instead of the creation date to sort the Document"
        organization_ids:
          type: "array"
          description: "Organization IDs, inherited from the signature, the Document is attached to. When uploading a document, if this parameter is specified in the call,
          the document will be associated with all of the organizations passed.
          Note: the signature must belong to these organizations.
          If this parameter is not specified, the document will be associated with all of the signature active organizations"
          items:
            type: "string"
        metadata:
          type: "array"
          items:
            $ref: "#/definitions/MetaDataBase"
        external_reference:
          type: "string"
          description: "External document reference to help identify the Document in
           external tools or filing systems"
    
    SignatureDocumentWithRequiredFields:
      type: "object"
      required:
        - document_type_id
        - signature_id
      allOf:
        -
          $ref: "#/definitions/SignatureDocumentBase"
    
    SignatureDocumentComputedFields:
      type: "object"
      required:
        - name
        - id
        - origin
        - origin_details
        - trashed
      properties:
        id:
          type: "string"
          description: "ID of the Document"
        origin:
          type: "string"
          description: "Origin of the Document"
          enum:
            - api
            - distribution
            - doc_management
            - mass_mailing
            - signature
            - web
        origin_details:
          type: "string"
          description: "Depending on the origin of the document and when suitable,
          provides more details on its origin. Otherwise its value is set to null"
          enum:
            - drop_in_vault
            - employee
            - mass_mailing
            - signature
            - user
        sender_id:
          type: "string"
          description: "ID of the user or employee who uploaded the document.
          Empty string if the user does not have an ID. Null if the user is unknown"
        name:
          type: "string"
          description: "Name of the Document"
        trashed:
          type: "boolean"
          description: "Has the Document been trashed (true)? or not (false)"
        expired:
          type: "boolean"
          description: "Is the Document past retention period (true)? or not (false)"
        expiry_date:
          type: "string"
          format: "date"
          description: "End of retention period after which the Document will be marked as Past retention period"
    
    SignatureDocumentFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignatureDocumentWithRequiredFields"
        -
          $ref: "#/definitions/SignatureDocumentComputedFields"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/DocumentOwnerCustomField"
    
    
    SignatureDocumentCreatePayload:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/SignatureDocumentWithRequiredFields"
          -
            type: object
            properties:
              uploaded_file:
                $ref: "#/definitions/DocumentFileId"
    
    SignatureDocumentUpdatePayload:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/SignatureDocumentWithRequiredFields"
    
    SignatureDocumentPartialUpdatePayload:
        type: "object"
        allOf:
          -
            $ref: "#/definitions/SignatureDocumentBase"



# Inbox related Objects
    InboxItemBase:
      required:
        - title
        - type
      properties:
        title:
          type: string
          description: "Title of the item in the inbox"
        type:
          type: string
          description: "Type of the item. Defines which users will be able to process the item when in the inbox. Possible values: `private` (only the creator of the item will have access), `list` (all the users specified in the payload will have access) or `group` (all the users in the group specified in the payload will have access)"
        description:
          type: string
          description: "Additional message displayed to the users when processing the item"
        creator_email:
          type: string
          description: "Email of the creator. Can be used to send a confirmation email. See `send_confirmation_email_to_creator` option"
        # Recipients possibilities if type = list (of managers)
        to_users_ids:
          type: array
          description: (one of `to_users_...` required if type = `list`) Array of user ids who will have access to the item
          items:
            type: string
        # Recipients possibilities if type = group
        to_inbox_id:
          type: string
          description: (required if type = `group`) ID of a shared inbox. Every user attached to the shared inbox will have access to the item
    
    InboxItemCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/InboxItemBase"
        -
          type: object
          properties:
            options:
              type: object
              required:
                - send_confirmation_email_to_creator
              properties:
    
                send_confirmation_email_to_creator:
                  type: boolean
                  description: "Send a confirmation email to the email address passed in creator_email"
    
        -
          type: object
          properties:
            uploaded_files:
              type: array
              description: "File(s) previously uploaded to attach to the item"
              items:
                $ref: "#/definitions/DocumentFileId"
    
    InboxItemComputedFields:
      required:
        - id
        - state
        - documents_count
        - send_notification
      properties:
        id:
          type: string
          description: ID of the item
        state:
          type: string
        documents_count:
          type: integer
          description: Number of documents attached to the item
        creator_id:
          type: string
          description: ID of the user that has created the item if it has been created by a logged in user
        send_notification:
          type: boolean
          default: true
          description: "Users who will have access to the item will be notified by email (default: `true`)"
        origin:
          type: string
          description: "Origin of the item. Possible values: `api` (created by api), `web` (if created on the web interface) or `email` if created from an email. Defaults to 'api' if not present in the create payload."
    
    InboxItemFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/InboxItemBase"
        -
          $ref: "#/definitions/InboxItemComputedFields"
        -
          $ref: "#/definitions/Timestamps"

    SharedInboxBase:
      required:
        - title
        - users_ids
      properties:
        title:
          type: string
          description: Title of the Shared Inbox
        users_ids:
          type: "array"
          description: "User IDs associated to the Shared Inbox and who will have access
          to the items posted to the Inbox"
          items:
            type: string
    
    SharedInboxComputedFields:
      required:
        - id
        - external_id
        - email
      properties:
        id:
          type: string
          description : ID of the Shared Inbox
        external_id:
          type: string
          maxLength: 8
          description : "External ID of the Shared Inbox. The external ID is the ID
          found in the shared inbox email address. It is also used in the
          `to_inbox_id ` parameter to post an item"
        email:
          type: string
          description: "Email address of the Shared Inbox. By sending an email to this email
          address, an item will be created in the Inbox based on the message sent"
    
    SharedInboxFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SharedInboxBase"
        -
          $ref: "#/definitions/SharedInboxComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Signature related Objects
    SignatureTypePayload:
      type: "object"
      required:
        - id
        - backend_code
        - localized_title
        - localized_description
      properties:
        id:
          type: "string"
          description: "ID of the signature type"
          maxLength: 100
        backend_code:
          type: "string"
          description: "ID of the signature backend that is used for this signature type"
          enum: ["docusign", "docusign_protect_and_sign", "adobesign"]
        display_in_ui:
          type: "boolean"
          description: "Should the signature type be displayed in the interface (`true`) or invisible in the interface and only used by API (`false)`"
          default: true
        title:
          type: "string"
          description: "Title of the signature type in the client default language"
          readOnly: true
        localized_title:
          type: "array"
          description: "Localized title of the signature type in all the languages used by the client. The localized title for the site's default language is mandatory"
          items:
            $ref: "#/definitions/LocalizedString"
        description:
          type: "string"
          description: "Description of the signature type in the client default language"
          readOnly: true
        localized_description:
          type: "array"
          description: "Localized description of the signature type in all the languages used by the client. The localized description for the site's default language is mandatory"
          items:
            $ref: "#/definitions/LocalizedString"
        default_sms_notification:
          type: "object"
          description: "Activate notification via text message by default for a specific signer type. This value can be overriden on the individual signature level"
          $ref: "#/definitions/SmsNotificationSettings"
        two_factor_auth_settings:
          type: "object"
          description: "Selection of the authentication parameters for this signature type"
          $ref: "#/definitions/2FASettings"
        include_signer_link:
          type: "boolean"
          description: "Only available if `display_in_ui` is set to `false`. Should the link for the next signer to sign the document be returned in the details of a signature (`true`) or not (`false`). The link is inserted in the signer details under the `signer_link` key (on the APIv1). For security reasons, this must only be activated when agreed upon between the client and UKG"
          default: false
        storage_profile:
          type: "string"
          description: "Only available if `backend_code` is set to `docusign_protect_and_sign`. Should signed document (employee copy only) and the proof audit trail be archived in Document Manager internal archiving system only (``peopledoc_sae``) or also separately archived in other systems. Other system include CDC Arkhino (France): ``fr_cdc``. External storage can only be activated according to specific contract terms"
          enum: ["peopledoc-sae", "fr-cdc"]
          default: "peopledoc-sae"
        signer_can_reject:
          type: "boolean"
          description: "Only available if `backend_code` is set to `docusign_protect_and_sign`. Should the signer be able to reject a document"
          default: true
        delegation:
          type: "boolean"
          default: false
          description: "Only available if `backend_code` is set to `docusign_protect_and_sign`. Should the signature delegation be used"
        template_id:
          type: "string"
          description: "Only available if `backend_code` is set to `docusign`. DocuSign template ID. If set, the provided DocuSign template will be used instead of an uploaded document in the signature process"
          maxLength: 36
        external_authentication:
          type: "boolean"
          description: "Only available if `backend_code` is set to `docusign` and `display_in_ui` is set to `false`. Should the DocuSign authentication feature be enabled. An access code will be passed via API for each signer. DocuSign will then handle the double authentication with the passed code. UKG HR Service Delivery is not responsible to provide the code to the employee. Only use when made mandatory by the client"
          default: false
        docusign_settings:
          type: "object"
          $ref: "#/definitions/DocusignSettings"
          description: |
            "Only available (and required) if `backend_code` is set to `docusign`. Only used if Docusign is not activated as third party"
        docusign_provider:
          type: "string"
          description: "DocuSign signature provider code to use for Advanced Electronic Signature and/or Qualified Electronic Signature"
          maxLength: 100
        docusign_protect_and_sign_settings:
          type: "object"
          $ref: "#/definitions/DocusignProtectAndSignSettings"
          description: |
            "Only available (and required) if `backend_code` is set to `docusign_protect_and_sign`"
        display_terms_on_signature_portal:
          type: "boolean"
          description: "Should the terms & conditions be displayed on the signature portal"
          default: true
    
    
    SignatureTypeFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignatureTypePayload"
        -
          type: "object"
          properties:
            created_at:
              description: "This value can be null if the signature type was created before this attribute existed"
              type: "string"
              format: "date-time"
        -
          $ref: "#/definitions/UpdateTimestamp"
    
    2FASettings:
      type: "object"
      properties:
        mode:
          type: "string"
          description: "Selection of the two factor authentication (2FA) methods that the user will be able to choose for protecting signature processes linked to this signature type. If `sms` is set, only SMS will be available. If `email` is set, both SMS and email will be available. When email is available, it will always appear initially selected in the interface. The email 2FA method doesn't add the same level of protection and should only be activated on last resort, when the users can't access the signers phone number"
          enum: ["sms", "email"]
          default: "sms"
        value_user:
          type: "boolean"
          description: "Default value indicating whether the SMS 2FA will be initially selected or not in the signature process creation interface when adding a signer of type `user`. The final choice on whether or not to activate the SMS 2FA will always be made at signature process creation time"
          default: true
        value_employee:
          type: "boolean"
          description: "Default value indicating whether the SMS 2FA will be initially selected or not in the signature process creation interface when adding a signer of type `employee`. The final choice on whether or not to activate the SMS 2FA will always be made at signature process creation time"
          default: true
        value_guest:
          type: "boolean"
          description: "Default value indicating whether the SMS 2FA will be initially selected or not in the signature process creation interface when adding a signer of type `guest`. The final choice on whether or not to activate the SMS 2FA will always be made at signature process creation time"
          default: true
        # We expect this attribute to be used in the future
        # editable:
        #   type: "boolean"
        #   description: ""
    
    SmsNotificationSettings:
      properties:
        user:
          type: "boolean"
          description: "Enable default notifications for users"
          default: false
        employee:
          type: "boolean"
          description: "Enable default notifications for an employee"
          default: false
        guest:
          type: "boolean"
          description: "Enable default notifications for a guest"
          default: false
    
    DocusignProtectAndSignSettings:
      required:
        - app_id
        - server_id
        - spare_id
      properties:
        app_id:
          type: "string"
          description: "ID of the DocuSign Protect & Sign application"
          maxLength: 100
        server_id:
          type: "string"
          description: "ID of the DocuSign Protect & Sign server"
          maxLength: 100
        spare_id:
          type: "string"
          description: "Spare ID"
          maxLength: 14
    
    DocusignSettings:
      required:
        - root_url
        - username
        - password
        - integrator_key
        - account_id
      properties:
        root_url:
          type: "string"
          description: "URL of the DocuSign service"
          maxLength: 100
        username:
          type: "string"
          description: "Username of the DocuSign user"
          maxLength: 100
        password:
          type: "string"
          description: "Password of the DocuSign user"
          maxLength: 100
        integrator_key:
          type: "string"
          description: "DocuSign Integrator Key"
          maxLength: 100
        account_id:
          type: "string"
          description: "DocuSign Account ID"
          maxLength: 100

    SignatureProcessBase:
      required:
        - signature_type_id
        - title
        - reason
      properties:
        signature_type_id:
          type: string
          description: "ID of the signature type"
        title:
          type: string
          description: "Title of the signature process that will be displayed in the UI and the various e-mails (255 characters max)"
          maxLength: 255
        name:
          type: string
          description: "Name of the signature process generated from title or filename"
          maxLength: 255
          readOnly: true
        location:
          type: string
          description: "Location of the signature process, if applicable, will be embedded in the PDF digital signature details (255 characters max)"
          default: N/A
          maxLength: 255
        expiry_date:
          type: string
          format: date
          description: "Date after which the signature process will be expired. The expiration will occur at the end of the given day, UTC"
          default: Two weeks after the signature process is set to signing state
        notify_on_signature:
          type: "boolean"
          description: "Indicates if the sender should be notified when all signers have signed the document"
          default: false
        notify_on_refusal:
          type: "boolean"
          description: "Indicates if the sender should be notified when one of the signers has refused to sign the document"
          default: true
        document_type_id:
          type: string
          description: Document Type ID, the document the signature belongs to
        document_metadata:
          type: array
          description: "Metadata associated with the signature document"
          items:
            $ref: "#/definitions/MetaDataBase"
        document_date:
          type: string
          format: date
          description: "The date of the document"
        cancellation_comment:
          type: string
          description: "Optional comment when cancelling a signature"
          maxLength: 255
        file_number:
          type: string
          description: "File number of the document to sign. This file number is referenced in all the notifications sent to the signers"
          readOnly: true
        is_cancelable:
          type: "boolean"
          description: "Indicates if the signature process can be canceled"
          readOnly: true
        is_deletable:
          type: "boolean"
          description: "Indicates if the signature process can be deleted"
          readOnly: true
        message:
          type: string
          description: "General message that will be sent to all signers"
        notify_employee_ids:
          type: array
          description: "Ids of the employees to notify when all signers have signed the document or when someone has refused to sign the document"
          items:
            type: string
        external_id:
          type: string
          description: "Unique signature process identifier reported by your system"
        auto_send:
          type: string
          description: "Indicates if the signed document should be automatically sent to all signers at the end of the signature process (true). Or notify the creator of the signature at the end of the process to connect to the interface to send the document manually (false). If there is an employee signer on the signature then the signed document will be automatically archived in the employee folder."
          default: false
        callback_url:
          type: string
          description: "If provided, this URL will be called at the end of the signing process, when all signers have signed the document, when one of the signers has refused to sign, or when the `expiry_date` has expired."
        reason:
          type: string
          description: "Provides more context on the intent of the signature"
    
    SignatureProcessState:
      properties:
        state:
          type: string
          description: |
            Completion state of the signature process.
    
            - `draft`: signature process parameters not finalized and waiting for completion before being sent to the backend. In this state only, required fields will not be enforced. Signature processes will remain in this state until manually switched to `signing`
            - `signing`: waiting for all the signers to complete the signature process
            - `signed`: all signers have completed the signature process, waiting for user validation before starting to send and archive the document
            - `sending`: sending the document to all the signers and archiving it. Signature processes should not stay in this state for more than a few seconds
            - `sent`: The signed document has been sent to all the signers
            - `done`: the signature process has been completed. This state is final
            - `expired`: the signature process reached the expiration date before all signers completed it. This state is final
            - `rejected`: one of the signers rejected the signature process. This state is final
            - `error`: an error occurred during the signature process. This state is final
            - `canceled`: set the state to `canceled` on a signature process in `draft`, `signing` or `signed` to cancel it. This state is final
            - `id_check_failed`: one signer has failed the to verify its identity. This state is final
          enum: ["draft", "signing", "signed", "sending", "done", "expired", "rejected", "error", "canceled", "id_check_failed"]
          default: "draft"
    
    SignatureProcessSenderId:
      properties:
        sender_id:
          type: string
          description: ID of the user who created the signature process
    
    SignatureProcessUploadId:
      properties:
        upload_id:
          type: string
          description: EAS upload ID of the signature process document
    
    SignatureProcessNestedSender:
      type: "object"
      properties:
        sender:
          type: "object"
          properties:
            id:
              type: string
              description: ID of the user who created the signature process
            first_name:
              type: string
              description: First name of the user who created the signature process
            last_name:
              type: string
              description: Last name of the user who created the signature process
    
    SignatureProcessOrganizationIds:
      properties:
        document_organization_ids:
          type: array
          description: |
            Ids of the organizations used to restrict access to the document.
            If this parameter is specified in the call, the document is associated with all of the organizations.
    
            For signature processes involving an employee: the employee must belong to these organizations via an active or an inactive registration references.
    
            If this parameter is not specified, the document is associated with all of the employees active organizations for current employees or with all of the employees inactive organizations for terminated employees.
          items:
            type: string
    
    SignatureProcessOrganizations:
      properties:
        document_organizations:
            type: array
            description: "Organizations used to restrict access to the document"
            readOnly: true
            items:
              type: object
              properties:
                id:
                  type: string
                  description: "ID of the organization"
                name:
                  type: string
                  description: "Name of the organization"
    
    SignatureProcessCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignatureProcessBase"
        -
          $ref: "#/definitions/SignatureProcessSenderId"
        -
          $ref: "#/definitions/SignatureProcessOrganizationIds"
        -
          $ref: "#/definitions/SignatureProcessUploadId"
    
    SignatureProcessUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignatureProcessBase"
        -
          $ref: "#/definitions/SignatureProcessState"
        -
          $ref: "#/definitions/SignatureProcessSenderId"
        -
          $ref: "#/definitions/SignatureProcessOrganizationIds"
        -
          $ref: "#/definitions/SignatureProcessUploadId"
    
    SignatureProcessComputedFields:
      properties:
        id:
          type: string
    
    SignatureProcessSigners:
      properties:
        signers:
          type: array
          description: List of signers
          readOnly: true
          items:
            type: object
            properties:
              id:
                type: string
                description: "ID of the signer"
              first_name:
                type: string
                description: "First name of the signer"
              last_name:
                type: string
                description: "Last name of the signer"
              state:
                $ref: "#/definitions/SignerState"
    
    SignatureProcessFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignatureProcessBase"
        -
          $ref: "#/definitions/SignatureProcessComputedFields"
        -
          $ref: "#/definitions/SignatureProcessState"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/SignatureProcessNestedSender"
        -
          $ref: "#/definitions/SignatureProcessSigners"
        -
          $ref: "#/definitions/SignatureProcessOrganizations"
    
    
    SignatureProcessCancelPayload:
      properties:
        signature_ids:
          type: array
          description: "List of signature process ids to cancel"
          items:
            type: string
        cancellation_comment:
          type: string
          description: "Optional cancellation comment"
          maxLength: 255
    
    
    SignatureProcessArchivePayload:
      properties:
        employee_id:
          type: string
          description: "ID of the employee"

    TwoFactorAuthenticationMethod:
      type: "object"
      properties:
        sms:
          type: "boolean"
          description: "Enable two factor authentication by text message for this signer"
          default: false
        email:
          type: "boolean"
          description: "Enable two factor authentication by email for this signer"
          default: false
    
    
    SignerBase:
      required:
        - "signature_process_id"
        - "first_name"
        - "last_name"
      properties:
        type:
          type: string
          description: |
            Type of the signer
            - `organization`: this type represents the delegation seal. If the signature type has delegation activated, exactly one signer of this type must be defined on the signature process, otherwise this type is not allowed. This will materialize the position of the seal in the signed document
            - `user`: the signer is a user
            - `employee`: the signer is an employee already registered in the HRIS
            - `external`: the signer can be anyone with a valid e-mail address
          enum: ["organization", "user", "employee", "external"]
        signature_positions:
          type: "array"
          description: This attribute is only used with Protect & Sign
          items:
            $ref: "#/definitions/SignaturePosition"
        user_id:
          type: string
          description: "ID of the signer user, mandatory if the signer type is `user`, unused otherwise"
        employee_id:
          type: string
          description: "ID of the signer employee, mandatory if the signer type is `employee`, unused otherwise"
        first_name:
          type: string
          description: "First name of the signer. Only mandatory when `type` is `external`"
          maxLength: 70
        last_name:
          type: string
          description: "Last name of the signer. Only mandatory when `type` is `external`"
          maxLength: 70
        language:
          type: string
          description: "Language of the signer. Used only when `type` is `external`"
        email_address:
          type: string
          description: "Email address used for the signature process. Only mandatory when `type` is `external`. If the email address is not indicated and the `type` is `employee` or `user`, the email address registered under the user or employees profile will be used"
          maxLength: 254
        mobile_phone_number:
          type: string
          description: "Mobile phone number used for the signature process"
          maxLength: 50
        signature_process_id:
          type: string
          description: "ID of the signature process"
        signing_order:
          type: integer
          description: "The signers will be assigned in the order defined by this parameter"
        access_code:
          type: string
          description: "Access code to use by the signer when `external_authentication` is enabled on the signature type."
        sms_notification:
          type: boolean
          description: "Enable text notification for this signer"
        two_factor_auth:
          type: "object"
          $ref: "#/definitions/TwoFactorAuthenticationMethod"
          description: "Two factor authentication methods to use for this signer"
        message:
          type: string
          description: "Personal message that will be sent to the signer"
          maxLength: 550
        send_signed_document:
          type: boolean
          description: "Send the signed document to the signer once it's signed by all signers. Only used when the `type` is `user`"
        signing_url:
          type: string
          description: "Signing URL for this signer, only available when `include_signer_link` is enabled on the signature type and if the state of the signer is `in_progress`"
    
    SignaturePosition:
      properties:
        page:
          description: "Page of the document where the signature field will be displayed"
          type: integer
        unit:
          description: |
            Specifies the unit used for the `x`, `y`, `width` and `height` attributes
            When the server sends the resource, the unit is always `pt`
          type: string
          enum: ["cm", "inch", "pt"]
        x:
          description: Distance between the left edge of the document and the left border of the signer's seal
          type: number
          format: float
        y:
          description: Distance between the bottom edge of the document and the bottom edge of the signer's seal
          type: number
          format: float
        width:
          description: Width of the signer's seal
          type: number
          format: float
        height:
          description: Height of the signer's seal
          type: number
          format: float
    
    SignerState:
      type: string
      enum: ["pending", "in_progress", "signed", "rejected", "error", "done", "delivered", "delayed"]
      description: |
        Completion state of this signer's step in the signature process
    
        - `pending`: The signer is not requested to sign yet
        - `in_progress`: The signer is requested to sign (or reject) the signature process
        - `signed`: The signer has signed the signature process
        - `rejected`: The signer has rejected the signature process
        - `error`: There has been an error during the signature process. Please contact the support
        - `done`: Only used for signers with type `organization` after the delegation seal has been applied
        - `id_check_failed`: The signer has failed the identity verification process
        - `delivered`: The signer has viewed the document on the DocuSign signing web site. Only applies to DocuSign QES signatures.
        - `delayed`: The signer has selected to finish the signing process at a later time. Only applies to DocuSign QES signatures.
    
    
    SignerComputedFields:
      properties:
        id:
          type: string
          description: ID of the signer
        signed_at:
          type: string
          format: "date-time"
          readOnly: true
          description: "Timestamp by which the signer has signed the document"
        state:
          $ref: "#/definitions/SignerState"
    
    SignerFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SignerBase"
        -
          $ref: "#/definitions/SignerComputedFields"
    
    SignersFull:
      type: array
      description: "List of signers"
      items:
        $ref: "#/definitions/SignerFull"
    
    
    SignerRemindPayload:
      properties:
        signer_ids:
          type: array
          description: "List of signer IDs to send a reminder notification."
          items:
            type: string

    SignatureSettingsFull:
      properties:
        two_factor_authentication:
          type: "object"
          $ref: "#/definitions/TwoFactorAuthentication"
          description: "Two factor authentication settings"
        text_message_notifications:
          type: "object"
          $ref: "#/definitions/TextMessageNotifications"
          description: "Text message notification settings"
        mandatory_organizations:
          type: "boolean"
          description: "Indicates if an organization has to be specified when creating a `signature process` object. If not, users will be able to create `signature processes` without `organizations` which will be readable by all other users who have generic signature permissions."
          default: false
    
    TwoFactorAuthentication:
      type: "object"
      properties:
        user:
          type: "object"
          $ref: "#/definitions/TwoFactorAuthenticationSettings"
          description: "Settings related to a user"
        employee:
          type: "object"
          $ref: "#/definitions/TwoFactorAuthenticationSettings"
          description: "Settings related to an employee"
        guest:
          type: "object"
          $ref: "#/definitions/TwoFactorAuthenticationSettings"
          description: "Settings related to a guest"
        phone_message_content:
          type: "array"
          description: "Localized content of the text message or voice call that will be sent to the signer. Each translation must contain `$code` and may contain `$client_name`, `$client_title`, `$file_number`, all of which will be replaced with the contextualized value upon send"
          items:
            $ref: "#/definitions/LocalizedString"
    
    TwoFactorAuthenticationSettings:
      type: "object"
      properties:
        force_value:
          type: "string"
          description: "Indicates if the 2FA should be forced or not in the UI. `not_forced` means the 2FA is not mandatory, `on` means the 2FA is mandatory (phone and/or email), `off` means the 2FA is not available"
          enum: ["not_forced", "on", "off"]
          default: "not_forced"
        phone:
          type: "string"
          description: "Default value indicating whether the 2FA using a phone will be initially selected or not in the signature process creation interface when adding a signer. `disabled` means that this option is not available"
          enum: ["checked", "unchecked", "disabled"]
          default: "checked"
        email:
          type: "string"
          description: "Default value indicating whether the 2FA using an email will be initially selected or not in the signature process creation interface when adding a signer. `disabled` means that this option is not available. Using 2FA by email is significantly less secure than by phone, and should only be enabled when requested by the customer"
          enum: ["checked", "unchecked", "disabled"]
          default: "disabled"
    
    TextMessageNotifications:
      type: "object"
      properties:
        user:
          type: "boolean"
          description: "Enable notifications by default for a user"
          default: false
        employee:
          type: "boolean"
          description: "Enable notifications by default for an employee"
          default: false
        guest:
          type: "boolean"
          description: "Enable notifications by default for a guest"
          default: false
        phone_message_content:
          type: "array"
          description: "Localized content of the text message that will be sent to the signer to notify them that they have received a signature document for them to sign. Each translation may contain the following strings: `$client_name`, `$client_title`, `$email`, `$file_number`, which will be replaced with the contextualized value upon send"
          items:
            $ref: "#/definitions/LocalizedString"


# Docusign Providers related Objects
    DocusignProviderFullFields:
      properties:
        id:
          description: "Docusign signature provider id"
          type: string
        name:
          description: "Docusign signature provider display name"
          type: string
    
    DocusignProviderFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DocusignProviderFullFields"
    
    DocusignProvidersFull:
      type: array
      description: "List of docusign providers"
      items:
        $ref: "#/definitions/DocusignProviderFull"


# Imports related Objects
    ImportBase:
      required:
        - type
      properties:
        type:
          type: string
          description: "Type of import"
          enum:
            - employee
            - manager
            - organization
        creator:
          type: string
          description: "The `ID` of the user who created the import"
    
    ImportComputedFields:
      required:
        - id
        - status
        - rows_count
        - created_objects_count
        - updated_objects_count
        - deleted_objects_count
        - errors_count
      properties:
        id:
          type: string
        status:
          type: string
          description: "Status of the Import"
          enum:
            - created
            - failed
            - in_progress
            - partial_success
            - success
        origin:
          type: string
          description: "The origin of the request"
          enum:
            - api
            - sftp
            - web
          default: api
        rows_count:
          type: integer
          description: "Number of rows processed during import"
        created_objects_count:
          type: integer
          description: "Number of objects created during import"
        updated_objects_count:
          type: integer
          description: "Number of objects updated during import"
        deleted_objects_count:
          type: integer
          description: "Number of objects deleted during import"
        errors_count:
          type: integer
          description: "Number of errors encountered during import"
    
    ImportCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ImportBase"
        -
          type: object
          properties:
            uploaded_file:
              $ref: "#/definitions/DocumentFileId"
    ImportFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ImportBase"
        -
          $ref: "#/definitions/ImportComputedFields"
        -
          $ref: "#/definitions/Timestamps"

    DatasetImportBase:
      required:
        - dataset_id
      properties:
        dataset_id:
          type: string
          description: "`ID` of the Dataset in which the values are imported"
    
    DatasetImportComputedFields:
      required:
        - id
        - filename
        - status
        - result
        - total_dimensions_count
        - total_values_count
        - started_at
        - finished_at
      properties:
        id:
          type: string
        filename:
          type: string
          description: "Name and extension of the import file"
        status:
          type: string
          description: "Status of the Import"
          enum:
            - queued
            - in_progress
            - finished
        result:
          type: string
          description: "Result of the Import"
          enum:
            - success
            - partial_success
            - error
        origin:
          type: string
          description: "The origin of the request"
          enum:
            - api
            - sftp
            - web
          default: api
        creator_id:
          type: string
          description: "`ID` of the user who created the import"
        total_dimensions_count:
          type: integer
          description: "Total number of dimensions in the data set after the import"
        total_values_count:
          type: integer
          description: "Total number of values in the data set after the import"
        started_at:
          type: string
          format: "date-time"
          description: "Starting date of the Import"
        finished_at:
          type: string
          format: "date-time"
          description: "End date of the Import"
    
    DatasetImportCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DatasetImportBase"
        -
          type: object
          required:
            - upload_id
          properties:
            upload_id:
              type: string
              description: "ID of the file"
    
    DatasetImportFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DatasetImportBase"
        -
          $ref: "#/definitions/DatasetImportComputedFields"
        -
          type: "object"
          required:
            - stats
          properties:
            stats:
              $ref: "#/definitions/DatasetImportStats"
        -
          $ref: "#/definitions/Timestamps"
    
    DatasetImportStats:
      type: "object"
      required:
        - rows
        - global_errors
        - row_errors
        - warnings
        - internal_errors
        - dimensions_created
        - values_created
        - values_updated
        - values_deleted
      properties:
        rows:
          type: integer
          description: "Number of rows processed during the Import
          (the first row with the header is counted as 0)"
        global_errors:
          type: integer
          description: "Number of global errors. A global error is an error impacting all the rows,
          most of the time because of the file format (e.g.: wrong encoding)"
        row_errors:
          type: integer
          description: "Number of rows reported in error during the Import"
        warnings:
          type: integer
          description: "Number of warnings raised during the Import"
        internal_errors:
          type: integer
          description: "Number of internal errors encountered during the Import"
        dimensions_created:
          type: integer
          description: "Number of dimensions created by the Import"
        values_created:
          type: integer
          description: "Number of values added by the Import"
        values_updated:
          type: integer
          description: "Number of values updated by the Import"
        values_deleted:
          type: integer
          description: "Number of values deleted by the Import"
    
    DatasetImportErrorFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/FieldError"
        -
          type: "object"
          required:
            - type
            - line
          properties:
            type:
              type: string
              description: Type of errors
              enum:
                - global_error
                - internal_error
                - row_error
                - warning
            line:
              type: integer
              description: "Line where the error is reported.
              `null` if the type is `global`. 0 for the header. Otherwise row number"


# Processes related Objects
    ProcessBase:
      type: "object"
      required:
        - title
        - employee_id
        - creator_id
      properties:
        title:
          type: "string"
          description: "Title of the process"
        public_title:
          type: "string"
          readOnly: true
          description: "Employee-facing title of the process"
        reference:
          type: "string"
          description: "Reference of the process"
          pattern: '^proc-[0-9]+$'
        employee_id:
          description: "Unique ID of the employee assigned to the process"
          type: "string"
        creator_id:
          description: "Unique ID of the process creator"
          type: "string"
        process_template_id:
          description: "Unique ID of the template used to create this process (if applicable)"
          type: "string"
        description:
          description: "Optional text to describe the process"
          type: "string"
        publication_date:
          description: "Date on which the process was/will be published automatically by a cron"
          type: "string"
          format: "date"
        due_date:
          description: "Additional information to indicate that the process has to be completed before the specified date"
          type: "string"
          format: "date"
    
    ProcessTasks:
      type: "object"
      properties:
        tasks:
          description: "Related tasks (if the `embed=tasks` parameter is set). Sorted by creation date"
    
          type: "array"
          items:
            -
              $ref: "#/definitions/EmployeeTaskDetailBase"
        tasks_ids:
          description: "Related tasks ids (if the `embed=tasks` parameter is not set)"
          type: "array"
          items:
            type: "string"
    
    
    ProcessComputedFields:
      type: "object"
      required:
        - id
        - state
      properties:
        id:
          type: "string"
          description: "Unique ID of the process"
        state:
          description: >
            State of the process. Valid values: `draft`, `publishing`, `pending`, `done`, `cancelled`, `finalizing` or `error`.
    
            It can be:
    
            - `draft`: the process is not published,
            - `publishing`: publication started and is ongoing,
            - `pending`: tasks need to be completed,
            - `done`: all tasks have been completed,
            - `cancelled`: the process has been cancelled,
            - `finalizing`: post process actions are being executed,
            - `error`: errors have occurred during finalization.
          type: "string"
        employee_status:
          description: >
            Indicates if the Employee has completed all his tasks. Valid values: `pending`, `done`.
    
            It can be:
              - `pending`: Tasks assigned to the Employee need to be completed,
              - `done`: All tasks assigned to the Employee have been completed.
          type: "string"
        company_status:
          description: >
            Indicates if the Users have completed all their tasks. Valid values: `pending`, `done`.
    
            It can be:
              - `pending`: Tasks assigned to the Users need to be completed,
              - `done`: All tasks assigned to the Users have been completed.
          type: "string"
        employee_tasks_count:
          type: integer
          description: "Number of tasks assigned to the Employee in the process"
        company_tasks_count:
          type: integer
          description: "Number of tasks assigned to the Users in the process"
        done_employee_tasks_count:
          type: integer
          description: "Number of tasks that the Employee has completed in the process"
        done_company_tasks_count:
          type: integer
          description: "Number of tasks that the Users have completed in the process"
        published:
          description: "Indicate if the process has been published"
          type: "boolean"
    
    ProcessTimestamps:
      allOf:
        -
          $ref: "#/definitions/CreationTimestamp"
    
        -
          type: object
          properties:
            created_at:
              description: "Timestamp of the process creation"
              type: "string"
              format: "date-time"
        -
          type: object
          properties:
            updated_at:
              description: "Timestamp of the latest modification on the process"
              type: "string"
              format: "date-time"
    
        -
          type: object
          properties:
            completed_at:
              description: "Timestamp of the process completion"
              type: "string"
              format: "date-time"
    
    ProcessFull:
      allOf:
        -
          $ref: "#/definitions/ProcessBase"
        -
          $ref: "#/definitions/ProcessComputedFields"
        -
          $ref: "#/definitions/ProcessTimestamps"
    
    ProcessCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ProcessBase"
        -
          type: object
          required:
            - process_template_id
          properties:
            process_template_id:
              description: "Unique ID of the template used to create this process (if applicable)"
              type: "string"
        -
          type: object
          properties:
            employee_external_id:
              description: "External ID of the employee assigned to the process"
              type: "string"
        -
          type: object
          properties:
            creator_external_id:
              description: "External ID of the creator assigned to the process"
              type: "string"
        -
          type: object
          required:
            - publish
          properties:
            publish:
              description: "You have to provide it during the creation process, if set to true the process will be published as soon as it's created"
              type: "boolean"
    
    ProcessPostActionCommonPayload:
      type: "object"
      required:
        - id
        - type
      properties:
        id:
          type: "string"
          description: "Post process action id"
        type:
          type: "string"
          description: "Type of post process action"
    
    ProcessPostActionSharedBase:
      type: "object"
      required:
        - type
        - ids
      properties:
        type:
          type: "string"
          description: "Type of post process action"
          enum:
            - shared_inboxes
        ids:
          type: "array"
          description: "Array of shared inboxes ids"
          items:
            type: "string"
    
    ProcessPostActionUserBase:
      type: "object"
      required:
        - type
        - ids
      properties:
        type:
          type: "string"
          description: "Type of post process action"
          enum:
            - user_inboxes
        ids:
          type: "array"
          description: "Unique identifiers of the user"
          items:
            type: "string"
    
    ProcessPostActionSharedPayload:
      allOf:
        -
          $ref: "#/definitions/ProcessPostActionSharedBase"
      properties:
        id:
          type: "string"
          description: "Post process action id"
    
    ProcessPostActionUserPayload:
      allOf:
        -
          $ref: "#/definitions/ProcessPostActionUserBase"
      properties:
        id:
          type: "string"
          description: "Post process action id"

    Organization:
      type: "object"
      properties:
        id:
          description: "Unique ID of the organization"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
          readOnly: true
        operator:
          description: "Describe hierarchy of organization"
          type: "string"
          enum: ["=", "<="]
          readOnly: true
    
    ProcessTemplateRestriction:
      type: "object"
      description: "List of restrictions"
      properties:
        organizations:
          type: array
          description: "List of restricted organizations"
          items:
            $ref: "#/definitions/Organization"
    
    ProcessTemplate:
      type: "object"
      properties:
        id:
          description: "Unique ID of the process template"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
          readOnly: true
        title:
          type: "string"
          description: "Title of the process template"
        public_title:
          type: "string"
          description: "Employee-facing title of the process"
        description:
          description: "Optional text to describe the process"
          type: "string"
        created_at:
          description: "The process template creation date"
          type: "string"
          format: "date-time"
          readOnly: true
        created_by:
          type: "object"
          readOnly: true
          properties:
            origin:
              type: "string"
              description: "The origin of the process_template creation"
              enum:
                - application
                - user
            id:
              type: "string"
              description: 'The ID of the User who has created the process template (only applicable if origin is "user")'
        updated_at:
          description: "The last time the process template has been modified"
          type: "string"
          format: "date-time"
          readOnly: true
        updated_by:
          type: "object"
          readOnly: true
          properties:
            origin:
              type: "string"
              description: "The origin of the last update of the process template"
              enum:
                - application
                - user
            id:
              type: "string"
              description: 'The ID of the User who has updated the process template (only applicable if origin is "user")'
        automatic_archiving:
          description: "True is there is an employee archive post process action set on this template. False by default"
          type: "boolean"
        restrictions:
          type: array
          description: "Restrictions for the process template visibility"
          items:
            $ref: "#/definitions/ProcessTemplateRestriction"

    PdfTemplateMapping:
      type: "object"
      properties:
        pdf_field_name:
          description: "The name of the editable field into the pdf"
          type: "string"
        form_field_id:
          description: "The ID of the process form field"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
    
    SignatureZone:
      type: "object"
      properties:
        id:
          description: "ID of the signature zone"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
        name:
          description: "The name of the signature zone"
          type: "string"
        page:
          description: "The page number"
          type: "integer"
        x:
          description: "The X coordinate of the signature zone"
          type: "integer"
        y:
          description: "The Y coordinate of the signature zone"
          type: "integer"
    
    PdfTemplateList:
      type: "object"
      properties:
        id:
          description: "Unique ID of the pdf template"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
          readOnly: true
        name:
          description: "The name of the pdf template"
          type: "string"
        file_name:
          description: "The pdf file name of the pdf template"
          type: "string"
        document_type_id:
          description: "The document type ID, if the document is send to rh2"
          type: "string"
        process_form_id:
          description: "The ID of the process form associated to the pdf template"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
          readOnly: true
    
    PdfTemplateDetail:
      allOf:
        - $ref: "#/definitions/PdfTemplateList"
      properties:
        signature_zones:
          type: array
          description: "The list of the signature zones associated to the pdf"
          items:
            $ref: "#/definitions/SignatureZone"
        form_mapping:
          type: array
          description: "List of mapped fields between pdf file and the process form"
          items:
            $ref: "#/definitions/PdfTemplateMapping"
    
    PdfTemplateWrite:
      allOf:
        - $ref: "#/definitions/PdfTemplateDetail"
      properties:
        upload_id:
          type: "string"
          format: "uuid"
          description: "Upload ID of the uploaded file. If it's an update, the file will be erased."

    TaskTemplates:
      type: "object"
      properties:
        id:
          type: "string"
          description: "The ID of the task template"
          readOnly: true
          pattern: '^[a-z0-9\-\_]+$'
        type:
          type: "string"
          description: "The type of the task template. The type can't be modified"
          enum:
            - acknowledgment
            - basic
            - fill_form
            - fill_pdf
            - signature
            - validation
        name:
          type: "string"
          description: "The name of the task template"
        description:
          type: "string"
          description: "Optional text to describe the task template"
        process_template_id:
          type: "string"
          description: "Unique id of the associated process template"
          readOnly: true
          pattern: '^[a-z0-9\-\_]+$'
        assigned_to:
          type: "string"
          description: "Indicate who will complete the task"
          enum:
            - users
            - employee
        depends_on_id:
          type: "string"
          description: "The ID of the task template ran before"
          pattern: '^[a-z0-9\-\_]+$'
        fetch_previous_data:
          type: "boolean"
          description: "Share information with the parent task"
        role_id:
          type: "string"
          description: "ID of the role who will complete or monitor the task"
          pattern: '^[a-z0-9\-\_]+$'
    
    TaskTemplateNotification:
      type: "object"
      properties:
        subject:
          description: "The subject of the email"
          type: "string"
        body:
          description: "The body of the email"
          type: "string"
        role_ids:
          description: "The list of roles id's which receive the email"
          type: array
          items:
            type: string
    
    TaskTemplateDetail:
      allOf:
        - $ref: "#/definitions/TaskTemplates"
      properties:
        email_notifications:
          type: array
          description: "List of email notifications. Can't contain more than one element."
          items:
            $ref: "#/definitions/TaskTemplateNotification"
    
    AcknowledgmentTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
    
    AcknowledgmentTaskTemplatesWrite:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        upload_id:
          type: "string"
          format: "uuid"
          description: "Upload ID of the uploaded file"
    
    BasicTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        message:
          type: "string"
          description: "The message of the custom task template"
    
    FillFormTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        process_form_id:
          type: "string"
          description: "The ID of the process form"
          pattern: '^[a-z0-9\-\_]+$'
    
    FillPdfTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        pdf_template_id:
          type: "string"
          description: "The ID of the pdf template"
          pattern: '^[a-z0-9\-\_]+$'
    
    SignatureTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        pdf_template_id:
          type: "string"
          description: "The ID of the pdf template"
          pattern: '^[a-z0-9\-\_]+$'
        signature_zone_id:
          type: "string"
          description: "The ID of the signature field"
          pattern: '^[a-z0-9\-\_]+$'
    
    ValidationTaskTemplates:
      allOf:
        - $ref: "#/definitions/TaskTemplateDetail"
      properties:
        assigned_to:
          type: "string"
          description: "Indicate who will complete the task"
          enum:
            - users

    TaskTimestamps:
      type: "object"
      required:
        - created_at
        - updated_at
      properties:
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the task creation"
        updated_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the latest modification on the task"
    
    
    TaskFile:
      type: "object"
      required:
        - id
        - filename
      properties:
        id:
          type: "string"
          description: "Unique ID of the file"
        filename:
          type: "string"
          description: "Name of the file"
    
    
    FormDataFieldValue:
      type: "object"
      required:
        - value
      properties:
        value:
          type: "string"
          description: "Value of the field filled by the recipient. Can also be a boolean when the field is a checkbox"
    
    
    FillFormDataFieldValue:
      type: "object"
      required:
        - field_id
        - values
      properties:
        field_id:
          type: string
          description: "Unique ID of the form field"
        values:
          type: array
          description: "Answer given by the assignee in the form field"
          items:
            type: "string"
    
    
    FillFormTaskFile:
      type: "object"
      required:
        - id
        - filename
        - field_id
      properties:
        id:
          type: "string"
          description: "Unique ID of the file uploaded in the form"
        filename:
          type: "string"
          description: "Name of the file uploaded in the form"
        field_id:
          type: "string"
          description: "Unique ID of the form field used to upload the file"
    
    
    FormDataField:
      type: "object"
      required:
        - field_id
        - values
      properties:
        field_id:
          type: "string"
          description: "Unique identifier of the form field"
        values:
          type: "array"
          description: |
            Answer given by the assignee in the form field
          items:
              type: "string"
    
    
    EmployeeSignatureZoneField:
      type: "object"
      required:
        - id
        - position_x
        - position_y
        - width
        - height
        - page
      properties:
        id:
          type: "string"
          description: "Unique ID of the signature zone"
        position_x:
          type: "string"
          description: "Position of the signature zone in the document in the X axis"
        position_y:
          type: "string"
          description: "Position of the signature zone in the document in the Y axis"
        width:
          type: "string"
          description: "Width of the signature zone in the document"
        height:
          type: "string"
          description: "Height of the signature zone in the document"
        page:
          type: "string"
          description: "Page number where the signature will be placed"
    
    
    SignatureZoneField:
      type: "object"
      required:
        - pdf_template_id
      allOf:
        -
          $ref: "#/definitions/EmployeeSignatureZoneField"
      properties:
        pdf_template_id:
          type: "string"
          description: "Unique ID of the PDF template"
    
    
    TaskCommonBase:
      type: "object"
      required:
        - name
        - description
        - type
        - process_id
        - depends_on_id
        - assigned_to
        - due_date
      properties:
        name:
          type: "string"
          description: "Name of the task"
        description:
          type: "string"
          description: "Description of the task. You can add some HTML to customize the description"
        type:
          type: "string"
          description: | 
            Type of the task. Valid values: `basic`, `fill_form`, `fill_pdf`, `signature`, `acknowledgment` or `validation`
            It can be `basic` for a Basic task, `fill_form`, for a Fill out a form task, `fill_pdf` for a Fill out a PDF task, `signature` for a Signature task, `acknowledgment` for an Acknowledgment task or `validation` for a Validate a previous task.
          enum:
            - acknowledgment
            - basic
            - fill_form
            - fill_pdf
            - signature
            - validation
        process_id:
          type: "string"
          description: "Unique ID of the process. For example, in the URL https://people-doc.com/manager/processes/222522/ the process id is 222522"
        depends_on_id:
          type: "string"
          description: "Unique ID of the dependent task if applicable"
        assigned_to:
          type: "string"
          description: "Type of the assignee. Valid values: `employee` or `users`.
    
          It can be `employee` if the task is assigned to the employee assigned to the process or `users` if the task is assigned to one or several users"
          enum:
            - employee
            - users
        due_date:
          type: "string"
          format: "date"
          description: "The day by which the task must be completed, can be `null` if not defined"
        scheduled_reminder_at:
          type: "string"
          format: "date-time"
          description: >
            If the task has a due date and an reminder_offset, a scheduled reminder is calculated to send a reminder e-mail to the assignees.
            Its value will be:
              - `null` if there is no scheduled reminder defined
              - the datetime the reminder was sent if it already was
              - the expected send date if it is not sent yet
        reminder_offset:
          type: integer
          format: int32
          description: "Number of days which the scheduled reminder will be offset by"
        validation_events_ids:
          type: array
          items:
            type: integer
          description: "Ids of the associated validation events, from the latest to the oldest"
      allOf:
        -
          $ref: "#/definitions/TaskComputedFields"
        -
          $ref: "#/definitions/TaskTimestamps"
    
    
    TaskComputedFields:
      type: "object"
      required:
        - id
        - status
        - completed_at
      properties:
        id:
          type: "string"
          description: "Unique ID for the task. For example, in the URL https://people-doc.com/manager/processes/222522/task/710981/readonly/ the task id is 710981"
        status:
          description: "Status of the task. Valid values: `draft`, `to_do`, `completed`, `blocked`, `canceled`.
          It can be `draft`: the task is not published, `to_do`: the task need to be completed, `completed`: the task has been completed, `blocked`: the task depends on another and it is not available yet or `canceled`: the task has been canceled"
          enum:
            - blocked
            - canceled
            - completed
            - draft
            - to_do
          type: "string"
        completed_at:
          description: "Timestamp of the task completion"
          type: "string"
          format: "date-time"
    
    
    TaskListBase:
      required:
        - template_task_id
        - fetch_previous_data
      allOf:
        -
          $ref: "#/definitions/TaskCommonBase"
      properties:
        template_task_id:
          type: "string"
          description: "Unique ID of the task in a process template"
        fetch_previous_data:
          type: "boolean"
          description: "Prefill task with information from a parent task"
    
    
    TaskListPayload:
      required:
        - completed_by_id
      allOf:
        -
          $ref: "#/definitions/TaskListBase"
      properties:
        completed_by_id:
          type: "string"
          description: "Unique ID of the assignee who has completed the task"
    
    
    TaskFull:
      allOf:
        -
          $ref: "#/definitions/TaskListPayload"
    
    
    TaskDetailBase:
      required:
        - completed_by
      allOf:
        -
          $ref: "#/definitions/TaskListBase"
      properties:
        completed_by:
          type: "object"
          description: "User or Employee who has completed the task"
          $ref: "#/definitions/EmployeeSimplified"
    
    
    AckTaskPayload:
      allOf:
        -
          $ref: "#/definitions/TaskDetailBase"
      properties:
        files:
          type: array
          description: "Files that will be edited and then generated during the process"
          items:
            $ref: "#/definitions/TaskFile"
        uploaded_document:
          type: "string"
          description: "Document to acknowledge uploaded by the User"
    
    
    BasicTaskPayload:
      required:
        - message
      allOf:
        -
          $ref: "#/definitions/TaskDetailBase"
      properties:
        message:
          type: "string"
          description: "Message that will be displayed to the assignee in the task. Contains HTML."
    
    
    SignatureTaskPayload:
      required:
        - files
        - signature_zone
      allOf:
        -
          $ref: "#/definitions/TaskDetailBase"
      properties:
        files:
          type: array
          description: "Files that will be edited and then generated during the process"
          items:
            $ref: "#/definitions/TaskFile"
        signature_zone:
          type: object
          $ref: "#/definitions/SignatureZoneField"
    
    
    FillFormTaskPayload:
      required:
        - form_id
        - form_data
        - form_files
      allOf:
        -
          $ref: "#/definitions/TaskDetailBase"
      properties:
        form_id:
          type: "string"
          description: "Unique ID of the form used in the task"
        form_data:
          type: array
          description: "Answers given by the assignee in the form"
          items:
            type: object
            $ref: "#/definitions/FillFormDataFieldValue"
        form_files:
          type: array
          description: "Attached files uploaded in the form by the assignee"
          items:
            type: object
            $ref: "#/definitions/FillFormTaskFile"
    
    
    FillPdfTaskPayload:
      required:
        - pdf_template_id
        - files
      allOf:
        -
          $ref: "#/definitions/TaskDetailBase"
        -
          $ref: "#/definitions/FillFormTaskPayload"
      properties:
        pdf_template_id:
          type: "string"
          description: "Unique ID of the PDF Template"
        files:
          type: array
          description: "Files that will be edited and then generated during the process"
          items:
            type: object
            $ref: "#/definitions/TaskFile"
    
    
    ValidationTaskPayload:
      allOf:
        - $ref: "#/definitions/TaskDetailBase"
    
    
    PatchTaskPayload:
      type: object
      example:
        due_date: "2020-09-17"
        reminder_offset: 3
      properties:
        due_date:
          description: Task due date
          type: string
          format: date
        reminder_offset:
          description: Number of days which the scheduled reminder will be offset by
          type: integer
          format: int32
    
    
    #
    # Definitions for employee scope
    #
    
    EmployeeTaskListPayload:
      required:
        - completed_by_id
      allOf:
        -
          $ref: "#/definitions/TaskCommonBase"
      properties:
        completed_by_id:
          type: "string"
          description: "Unique ID of the assignee who has completed the task"
    
    
    EmployeeTaskDetailBase:
      required:
        - completed_by
      allOf:
        -
          $ref: "#/definitions/TaskCommonBase"
      properties:
        completed_by:
          type: "object"
          description: "User or Employee who has completed the task"
          $ref: "#/definitions/EmployeeSimplified"
    
    
    EmployeeAckTaskPayload:
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskDetailBase"
      properties:
        files:
          type: array
          description: "List of files generated from the task (applicable for a fill out a PDF, acknowledgment and signature task)"
          items:
            $ref: "#/definitions/TaskFile"
    
    
    EmployeeBasicTaskPayload:
      required:
        - message
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskDetailBase"
      properties:
        message:
          type: "string"
          description: "Message that will be displayed to the assignee in the task. Contains HTML."
    
    
    EmployeeSignatureTaskPayload:
      required:
        - files
        - signature_zone
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskDetailBase"
      properties:
        files:
          type: array
          description: "Files that will be edited and then generated during the process"
          items:
            $ref: "#/definitions/TaskFile"
        signature_zone:
          type: object
          $ref: "#/definitions/EmployeeSignatureZoneField"
    
    
    EmployeeFillFormTaskPayload:
      required:
        - form_id
        - form_data
        - form_files
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskDetailBase"
      properties:
        form_id:
          type: "string"
          description: "Unique ID of the form used in the task"
        form_data:
          type: array
          description: "Answers given by the assignee in the form"
          items:
            type: object
            $ref: "#/definitions/FillFormDataFieldValue"
        form_files:
          type: array
          description: "Attached files uploaded in the form by the assignee"
          items:
            type: object
            $ref: "#/definitions/FillFormTaskFile"
    
    
    EmployeeFillPdfTaskPayload:
      required:
        - files
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskDetailBase"
        -
          $ref: "#/definitions/EmployeeFillFormTaskPayload"
      properties:
        files:
          type: array
          description: "Files that will be edited and then generated during the process"
          items:
            type: object
            $ref: "#/definitions/TaskFile"
    
    EmployeeValidationTaskPayload:
      allOf:
        - $ref: "#/definitions/EmployeeTaskDetailBase"
    
    
    EmployeeTaskBase:
      type: "object"
      required:
        - name
        - description
        - type
        - process_id
        - depends_on_id
        - completed_at
      properties:
        name:
          type: "string"
          description: "Name of the task"
        description:
          type: "string"
          description: "Description of the task. Can contain HTML to customize the description"
        type:
          type: "string"
          description: "Type of the task. Valid values: `basic`, `fill_form`, `fill_pdf`, `signature`, `acknowledgment` or `validation`
    
          It can be `basic` for a Basic task, `fill_form`, for a Fill out a form task, `fill_pdf` for a Fill out a PDF task, `signature` for a Signature task or `acknowledgment` for an Acknowledgment task, `validation` for a Validate a previous task."
          enum:
            - acknowledgment
            - basic
            - fill_form
            - fill_pdf
            - signature
            - validation
        process_id:
          type: "string"
          description: "Unique ID of the process. For example, in the URL https://people-doc.com/manager/processes/222522/ the process id is 222522"
        depends_on_id:
          type: "string"
          description: "Unique ID of the dependent task if applicable"
        completed_at:
          description: "Timestamp of the task completion"
          type: "string"
          format: "date-time"
    
    
    EmployeeTaskDetail:
      allOf:
        -
          $ref: "#/definitions/EmployeeTaskBase"
        -
          $ref: "#/definitions/TaskComputedFields"
        -
          $ref: "#/definitions/TaskTimestamps"
      properties:
        form_id:
          type: "string"
          description: "ID of the form. Only for task of type `fill-form`"
        pdf_template_id:
          type: "string"
          description: "ID of the PDF template. Only for task of type `fill-pdf`"
    
    
    # Tasks completion payloads
    ValidationTaskPostPayload:
      example:
        state: "retried"
        reason: "The document is too old."
      properties:
        state:
          type: "string"
          description: "Target state for the task to validate"
          enum:
            - accepted
            - retried
            - refused
        reason:
          type: "string"
          description: "Human readable sentence"
    
    
    SignatureTaskPostPayload:
      example:
        signature: "Marc Sudistant"
        img: "/9j/2wCEAAgGB...qbffP1pK47sk/9k="
      properties:
        signature:
          type: "string"
          description: "The string used to generate the img attribute."
        img:
          type: "string"
          description: "image of signature (JPG or PNG) encoded in base 64 that will be merged into document"
    
    
    FillTaskPayload:
      properties:
          form_data:
            type: "array"
            description: 'Answers given by the assignee in the form.'
            items:
              $ref: "#/definitions/FormDataField"
    
      example:
        form_data:
            -
              field_id: "firstname"
              values: ["John"]
            -
              field_id: "lastname"
              values: ["Doe"]
            -
              field_id: "birth"
              values: ["1970-01-01"]
            -
              field_id: "requested_at"
              values: ["2018-01-29T12:15:59.189457Z"]
            -
              field_id: "nb_children"
              values: [2]
            -
              field_id: "hobbies"
              values: ["programming", "billiard"]
            -
              field_id: "has_pets"
              values: [false]
            -
              field_id: "dataset_field"
              values: [
                [
                  {
                    "dataset_id": "your dataset ID must be valid",
                    "name": "an example dataset",
                    "id": "your dataset must be surrounded by square brackets",
                    "code": "an example code",
                    "dimension_id": "a example dimension id",
                    "localized_names": []
                  }
                ]
              ]
    
    
    TaskFilePostPayload:
      type: "object"
      required:
        - upload_id
        - task_id
        - field_id
      properties:
        upload_id:
          type: "string"
          description: "Unique ID of the temporary file"
        task_id:
          type: "string"
          description: "Unique ID of the task in a process"
        field_id:
          type: "string"
          description: "Unique ID of the form field used to upload the file"
    
    
    TaskFilePatchPayload:
      type: "object"
      required:
        - upload_id
      properties:
        upload_id:
          type: "string"
          description: "Unique ID of the uploaded file"
    
    
    TaskFileResource:
      type: "object"
      required:
        - id
        - task_id
        - filename
        - field_id
      properties:
        id:
          type: "string"
          description: "Unique ID of the file"
        task_id:
          type: "string"
          description: "Unique ID of the task in a process"
        filename:
          type: "string"
          description: "Name of the file uploaded in the form"
        field_id:
          type: "string"
          description: "Unique ID of the form field used to upload the file"

    TaskValidationEvent:
      type: object
      description: Describes the result of a validation task
      properties:
        id:
          type: integer
          description: id of the validation event
        emitter:
          type: integer
          description: id of the validation task that emitted the event
        receiver:
          type: integer
          description: id of the task that received the event
        created_at:
          type: string
          format: date-time
        completed_by:
          type: "object"
          $ref: "#/definitions/EmployeeSimplified"
        reason:
          type: string
          description: Message left by the user who reviewed the validation task.
        state:
          type: string
          description: |
           Validation state, can be one of:
           - `accepted`: task has been validated
           - `retried`: something is wrong with the task, and the user has to do it again
           - `refused`: task has been refused
          enum:
            - accepted
            - retried
            - refused

    NumberOfAssignedTasks:
      properties:
        number_of_assigned_tasks:
          type: "integer"
          description: "Number of pending tasks assigned to a user"
          example: 42

    FormDefinitionConditionTest:
      type: object
      description: Condition
      properties:
        field_id:
          type: string
          description: Reference field for the comparison
        operator:
          type: string
          enum:
            - eq
        values:
          type: array
          items:
            type: string
    
    
    FormDefinitionCondition:
        type: object
        properties:
          name:
            type: string
          field_ids:
            type: array
            items:
              type: string
          action:
            type: string
            enum:
              - display_iff
          tests:
            type: array
            items:
              $ref: '#/definitions/FormDefinitionConditionTest'
    
    
    FormDefinitionItem:
      type: object
      description: Describe an item in a list
      required:
        - label
        - value
      properties:
        label:
          type: string
          description: Label of the item
        description:
          type: string
          description: Description of the item
        value:
          type: string
          description: Value which defined the item
    
    
    FormDefinitionFieldValidation:
      type: object
      description: This validation can only be performed on a single field
      required:
        - type
        - value
      properties:
        type:
          type: string
          description: Type of validation
        value:
          type: string
          description: Value of the validation
        message:
          type: string
          description: Error message if the validation is not verified
    
    
    FormDefinitionContextField:
      type: object
      description: A formidable form field
      required:
        - slug
        - label
        - type_id
        - description
        - disabled
        - required
      properties:
        slug:
          type: string
          description: Slug of the field (us as uniq identifier of the field on the form)
        label:
          type: string
          description: Label of the field
        type_id:
          type: string
          description: Type of field
          enum:
            - checkbox
            - checkboxes
            - date
            - dropdown
            - email
            - file
            - help_text
            - number
            - paragraph
            - radios
            - radios_buttons
            - separator
            - text
            - title
        placeholder:
          type: string
          description: Placeholder of the field
        description:
          type: string
          description: Description of the field
        multiple:
          type: boolean
          description: Is the field can have multiple values?
        items:
          type: array
          description: Values available
          items:
            $ref: '#/definitions/FormDefinitionItem'
        validations:
          type: array
          description: List of validations of the field
          items:
            $ref: '#/definitions/FormDefinitionFieldValidation'
        defaults:
          type: array
          description: Default values selected/inputted when the form is newly displayed
          items:
            type: string
        disabled:
          type: boolean
          description: Is the input disabled?
        required:
          type: boolean
          description: Is the field required?
        values:
          type: object
          description: attribute present when there is a file field
          properties:
            id:
              type: string
              description: ID of an already uploaded and saved task file
            filename:
              type: string
              description: Filename of the task file
            url:
              type: string
              description: apiv2 url to download the file
            preview_url:
              type: string
              description: apiv2 url to download the preview of the file
    
    FormDefinitionContextForm:
      type: object
      description: A formidable form
      properties:
        id:
          type: integer
          description: ID of the form
          readOnly: true
        label:
          type: string
          description: Title of the form
        description:
          type: string
          description: Description of the form
        conditions:
          type: array
          items:
            $ref: '#/definitions/FormDefinitionCondition'
        fields:
          type: array
          items:
            $ref: '#/definitions/FormDefinitionContextField'

    ProcessCustomFormsDetail:
      type: "object"
      properties:
        id:
          description: "ID of the custom form"
          type: "string"
          pattern: '^[a-z0-9\-\_]+$'
        title:
          description: "Title of the custom form"
          type: "string"
        created_at:
          description: "Creation date"
          type: "string"
          format: "date-time"
        last_updated_at:
          description: "Date of the latest update"
          type: "string"
          format: "date-time"
        formidable:
          description: "JSON definition of the formidable form"
          type: object
          $ref: "#/definitions/DFForm"
    
    ProcessCustomFormsWrite:
      type: "object"
      properties:
        title:
          description: "Title of the custom form"
          type: "string"
        formidable:
          description: "JSON definition of the formidable form"
          type: object
          $ref: "#/definitions/DFForm"
    
    DFForm:
      allOf:
        - $ref: "#/definitions/DFBase"
        - properties:
            fields:
              type: array
              description: List of fields ordered in the form
              items:
                $ref: '#/definitions/DFField'
    
    DFBase:
        type: object
        description: The central piece of the form
        required:
          - id
          - label
          - description
        properties:
          id:
            type: integer
            description: ID of the form
            readOnly: true
          label:
            type: string
            description: Title of the form
            readOnly: true
          description:
            type: string
            description: Description of the form - can be empty
            readOnly: true
          conditions:
            type: array
            items:
              $ref: '#/definitions/DFCondition'
    
    DFCondition:
        type: object
        description: |
            Describe conditional display of a field, depending on the value of another field.
    
            e.g.: "display the field 'what is you favorite Star Wars character?' if the boolean field 'Do you like Star Wars?' is checked".
        required:
          - field_ids
          - action
          - tests
        properties:
          name:
              type: string
              description: A user-provided name for the Condition
          field_ids:
              type: array
              description: List of field slugs to show/hide depending on the conditions.
              items:
                  type: string
              minItems: 1
          action:
              type: string
              description: Name of the action to do when the condition is true. e.g. "display the field" == ``display_iff``
              enum:
                  - display_iff
          tests:
              type: array
              description: List of conditions to test.
              items:
                $ref: '#/definitions/DFConditionTest'
              minItems: 1
    
    DFConditionTest:
      type: object
      description: Condition definition.
      required:
        - field_id
        - operator
        - values
      properties:
        field_id:
          type: string
          description: \`slug\` of the reference field for the comparison.
        operator:
          type: string
          description: Comparison operator for the condition.
          enum:
            - eq
        values:
          type: array
          description: List of the possible values that would return a "true" condition.
          items: {}
    
    DFField:
      type: object
      description: Field in a form
      required:
        - id
        - slug
        - label
        - type_id
        - description
        - accesses
      properties:
        id:
          type: integer
          description: ID of the field
          readOnly: true
        slug:
          type: string
          description: Slug of the field (us as uniq identifier of the field on the form)
        label:
          type: string
          description: Label of the field
        type_id:
          type: string
          description: Type of field (see Field types table)
          enum:
            - title
            - helpText
            - fieldset
            - fieldsetTable
            - separation
            - checkbox
            - checkboxes
            - dropdown
            - radios
            - radiosButtons
            - text
            - paragraph
            - file
            - date
            - email
            - number
        placeholder:
          type: string
          description: Placeholder of the field
        description:
          type: string
          description: Description of the field
        multiple:
          type: boolean
          description: Is the field can have multiple values?
        items:
          type: array
          description: Values available
          items:
            $ref: '#/definitions/DFItem'
        accesses:
          type: array
          description: List of accesses of the field with a level
          items:
            $ref: '#/definitions/DFFieldAccess'
        validations:
          type: array
          description: List of validations of the field
          items:
            $ref: '#/definitions/DFFieldValidation'
        defaults:
          type: array
          description: Default values selected/inputted when the form is newly displayed
          items:
            type: string
    
    DFItem:
      type: object
      description: Describe an item in a list
      required:
        - label
        - value
      properties:
        label:
          type: string
          description: Label of the item
        description:
          type: string
          description: Description of the item
        value:
          type: string
          description: Value which defined the item
    
    DFFieldAccess:
      type: object
      description: The access is the way to use the field in the context
      required:
        - access_id
        - level
      properties:
        access_id:
          type: string
          description: Access reference
        level:
          type: string
          description: Level of this access for the field
          enum:
            - REQUIRED
            - EDITABLE
            - HIDDEN
            - READONLY
    
    DFFieldValidation:
      type: object
      description: This validation can only be performed on a single field
      required:
        - type
        - value
      properties:
        type:
          type: string
          description: Type of validation (see Validation types table)
          enum:
            - EQ
            - GT
            - GTE
            - IS_AGE_ABOVE
            - IS_AGE_UNDER
            - IS_DATE_IN_THE_FUTURE
            - IS_DATE_IN_THE_PAST
            - LT
            - LTE
            - MAXLENGTH
            - MINLENGTH
            - NEQ
            - REGEXP
        value:
          type: string
          description: Value of the validation
        message:
          type: string
          description:  Error message if the validation is not verified


# Employee settings Objects
    EmployeeSettingsProcessAutomation:
      type: object
      properties:
        employee_id:
          type: string
          format: uuid
          description: "`ID` of the related employee"
          example: 4ee42d11-e4a1-4b57-9b13-e33d63f6d03e
        onboarding:
          type: object
          description: New hire onboarding related information
          properties:
            welcome_message:
              type: string
              description: Text displayed to the new hire on their portal homepage
              example: Welcome
            welcome_file_filename:
              type: string
              description: Filename of the uploaded welcome file
              example: agenda.pdf
            welcome_file_title:
              type: string
              description: Title of the uploaded welcome file
              example: Your first week agenda


# Categories related Objects
    CategoryBase:
      properties:
        name:
          type: string
          description: Title of the category
        description:
          type: string
          description: Description of the category
        order:
          type: integer
          description: Display order of the categories
        language_code:
          type: string
          description: "ISO code of the language (ex: 'en', 'fr', `es`)"
        icon_class:
          type: string
          description: "CSS class of the icon"
        default_request_form_id:
          type: string
          description: "id of the default form of the category, if existing (usually a slug)"
    
    
    CategoryComputedFields:
      properties:
        id:
          type: string
          description : id of the Category (slugified id)
    
    
    CategoryFull:
      allOf:
        - $ref: "#/definitions/CategoryBase"
        - $ref: "#/definitions/CategoryComputedFields"
    
    CategoryCreatePayload:
      type: "object"
      allOf:
        - $ref: "#/definitions/CategoryBase"
    
    
    KbCategoryBase:
      properties:
        original_language_code:
          type: string
          description: ISO code of the language (e.g. "en-us", "fr-ca", "es-es")
        icon_class:
          type: string
          description: CSS class of the icon
        disable_default_form:
          type: boolean
          description: Tells if there is no default form for this category
        default_form_id:
          type: string
          description: "id of the default form of the category, if existing (usually a slug)"
        visible_to_employee:
          type: boolean
          description: Tells if the category is visible to employees
        localized_name:
          type: "array"
          description: Category name in all available languages
          items:
            $ref: "#/definitions/LocalizedString"
        localized_description:
          type: "array"
          description: Category description in all available languages
          items:
            $ref: "#/definitions/LocalizedString"
    
    
    KbCategoryComputedFields:
      properties:
        id:
          type: string
          description : id of the Category (uuid)
        slug:
          type: string
          description : slug of the Category. Warning, one day, this field will be deprecated.
        order:
          type: number
          format: float
          description: Display order of the categories
      allOf:
        - $ref: "#/definitions/Timestamps"
    
    
    KbCategoryFull:
      type: "object"
      allOf:
        - $ref: "#/definitions/KbCategoryBase"
        - $ref: "#/definitions/KbCategoryComputedFields"
    
    
    KbCategoryUpdatePayload:
      properties:
        order:
          type: number
          format: float
          description: Display order of the categories
      allOf:
        - $ref: "#/definitions/KbCategoryBase"
    
    KbCategoryPatchOrderPayload:
      properties:
        order:
          type: number
          format: float
          description: Display order of the categories
    
    KbCategoryDeletionError:
      properties:
        errors:
          type: array
          description: Array of category deletion error codes
          items:
            type: string
          enum:
            - category_has_linked_articles
            - category_has_linked_forms
            - category_has_linked_requests
            - category_default_form_has_linked_entities
      allOf:
        - $ref: "#/definitions/BadRequest"


# Formidable related objects
    FormidableBase:
      required:
        - fields
      properties:
        title:
          type: string
          description: "A title to identify the Form. e.g.: 'I am changing my address.'"
          maxLength: 256
        description:
          type: string
          description: "A full-length description of the Form."
        fields:
          type: array
          description: "Array of objects that specify the fields of the form"
          items:
            $ref: "#/definitions/FormidableField"
          uniqueItems: true
        conditions:
          type: array
          description: Object sets the conditions for executing the condition
          items:
            $ref: "#/definitions/FormidableConditionalRule"
      example:
        title: "A form with all the options available"
        description: "This form is the most complete form with as much options as possible."
        fields:
          - slug: title
            type_id: title
            content: Formidable form
          - slug: separator
            type_id: separator
          - slug: form-instructions
            type_id: instruction
            content: "Fill this form, then click on submit. Please contact your manager if you have questions."
          - slug: first_name
            type_id: short_text
            name: First name
            required: true
            description: "Please put your first name here"
            validations:
              - type: REGEXP
                value: ^[A-Z][a-z]{0,19}$
                message: Must start with a capital letter, then be composed from 0 to 19 lowercase (ascii) letters.
            placeholder: "Guillaume"
            defaults: []
          - slug: age
            type_id: number
            name: Age
            required: false
            description: "Please put your first age here"
            validations:
              - type: GTE
                value: 18
                message: You must be over 18 to continue.
            placeholder: ""
            defaults:
              - 18
          - slug: jobs
            type_id: dropdown
            name: Jobs
            required: false
            description: "Please select your job in the list"
            validations: []
            items:
              - value: python_dev
                label: Python developer
              - value: javascript_dev
                label: Javascript developer
              - value: product_owner
                label: Product owner
            placeholder: "Python developer"
            defaults:
              - python_dev
          - slug: known-languages
            type_id: multiple_answer
            name: Known languages
            required: false
            description: "Please select your programming languages. You can pick more than one."
            validations: []
            items:
              - value: js
                label: Javascript
              - value: py
                label: Python
              - value: go
                label: Go
              - value: rs
                label: Rust
            defaults:
              - js
              - py
          - slug: main-language
            type_id: single_answer
            name: Main language
            required: true
            description: "Please put your favorite programming language."
            validations: []
            items:
              - value: js
                label: Javascript
              - value: py
                label: Python
              - value: go
                label: Go
              - value: rs
                label: Rust
            defaults:
              - py
          - slug: python_frameworks
            type_id: long_text
            name: Python frameworks
            required: true
            description: "Please describe your experience with python frameworks"
          - slug: presentation
            type_id: long_text
            name: Presentation
            required: false
            description: "Please introduce yourself."
            validations:
              - type: MAXLENGTH
                value: 400
                message: The description should contain less than 400 characters.
              - type: MINLENGTH
                value: 10
                message: The description should contain at least 10 characters.
            placeholder: ""
            defaults: []
          - slug: terms-checkbox
            type_id: checkbox
            name: Do you agree with the terms and conditions?
            required: false
            description: "Check this box if you agree."
            validations: []
            defaults:
              - false
          - slug: email
            type_id: email
            name: Your email
            required: false
            description: ""
            validations: []
            placeholder: ""
            defaults: []
          - slug: optional-comment
            type_id: long_text
            name: Optional comment
            required: false
            description: ""
            validations: []
            placeholder: ""
            defaults: []
          - slug: acceptable-contract-type
            type_id: dropdown
            name: Acceptable contract type
            required: true
            description: ""
            validations: []
            multiple_selection: true
            items:
              - value: cdi
                label: CDI
              - value: cdd
                label: CDD
              - value: ctt
                label: CTT
              - value: cui
                label: CUI
            defaults:
              - cdi
              - cdd
          - slug: birth_date
            type_id: date
            name: Birth date
            required: false
            description: ""
            validations:
              - type: IS_AGE_ABOVE
                value: 18
                message: ""
            defaults: []
          - slug: living_region
            type_id: dataset
            name: Where do you live?
            required: false
            description: ""
            defaults: []
            placeholder: ""
            dataset_id: "regions"
          - slug: paycheck
            type_id: file
            name: Please upload your last paycheck
            required: false
            description: ""
        conditions:
          - fields_ids: [python_frameworks]
            action: display_iff
            tests:
              - field_id: main-language
                operator: eq
                values: [py]
    FormidableField:
        type: object
        required:
          - type_id
          - slug
          - name
          - required
        properties:
          type_id:
            description: "Type of the field."
            type: string
            enum:
              - short_text
              - number
              - date
              - dropdown
              - multiple_answer
              - single_answer
              - long_text
              - checkbox
              - email
              - title
              - separator
              - dataset
              - instruction
              - file
          slug:
            description: |
              Field slug, it's the identifier inside the Form scope.
              When you create a form you can tailor it to your need,
              but as soon as the Form is recorded in the database, for this Form,
              this slug should not be made editable.
              WIP, expect things to change:
              Editing this property would result in creating a new Form or a new version of the Form.
            type: string
          name:
            description: "Name of the field"
            type: string
          required:
            description: "Specifies if the field is mandatory or not"
            type: boolean
          items:
            description: "items"
            type: array
            items:
              $ref: "#/definitions/FormidableFieldItems"
          description:
            type: string
            description: The description of the field as it will appear as a "help-text" when the user would fill the form.
          content:
             type: string
             description: |
               Available **ONLY** for the **instruction** and **title** fields.
               Content that the field will display.
               In the case of an instruction field, it will be the instructions displayed to the user.
          validations:
            type: array
            description: an array of validations
            items:
              $ref: "#/definitions/FormidableFieldValidation"
          button_selection:
            type: boolean
            description:
              Available **ONLY** for the **single_answer** field.
              Purely informative field that stores how a frontend should display the field.
              The value does not impact data validation on submit.
              If omitted it is set to false by default.
          multiple_selection:
            type: boolean
            description: |
              Available **ONLY** for the **dropdown** field.
              Allow users to select more than one answer.
              Valid values: 'true' to allow users to select several answer choices and 'false' to allow users to select only one answer choice.
          placeholder:
            type: string
            description: |
              Placeholder is an attribute used to populate indicative text in a form field.
              This is a value that clears when the user activates the form field or on submit.
              This item is available for the fields with next types ['short text', 'long_text', 'dropdown', 'date', 'number', 'email'].
              If you send it for the not supported field this item will be ignored.
          defaults:
            type: array
            items: {}
            description: A default value is an attribute used to populate a field in a form on creation that can be submitted upon submission of the form on the contrary of a placeholder.
          dataset_id:
            type: string
            description: |
              Available **ONLY** for the **dataset** field.
              This is an ID of the dataset. It should already exist in the database
    
    
    
    FormidableFieldItems:
      description: Items for the fields with a predefined values. e.g. dropdown, multiple_answer, single_answer
      type: object
      required:
        - value
        - label
      properties:
        value:
          type: string
        label:
          type: string
    
    FormidableFieldValidation:
      type: object
      description: |
        Formidable field validation rules
        In order to make sure a form data value follows your business logic rules, you may add a validation rule to your field.
    
        Available validations:
    
        | Field type | Validation rules             |
        |------------|------------------------------|
        | short_text | MINLENGTH, MAXLENGTH, REGEXP |
        | long_text  | MINLENGTH, MAXLENGTH         |
        | number     | EQ, NEQ, GT, GTE, LT, LTE    |
        | date     | EQ, NEQ, GT, GTE, LT, LTE, IS_AGE_UNDER, IS_AGE_ABOVE, IS_DATE_IN_THE_FUTURE |
      required:
        - type
        - value
      properties:
        type:
          type: string
          enum: [MAXLENGTH, MINLENGTH, EQ, NEQ, GT, GTE, LT, LTE, IS_AGE_UNDER, IS_AGE_ABOVE, IS_DATE_IN_THE_FUTURE, REGEXP]
          description: Validator ID. This is a unique id of the validator
        value:
          type:
            - string
            - number
          description: |
            Value to be used by the validation rule. For example validator with a type `MAXLENGTH` and value `10`
            will validate that submitted data length should be less or equal than `10`
        message:
          type: string
          description: Custom error message for the validation
    
    FormidableComputedFields:
      required:
        - id
      properties:
        id:
          type: string
          description: "Unique `ID of the `form"
          format: "uuid"
          example: "02d623da-4830-41ff-abd1-6fd20a38aa7b"
    
    FormidableCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/FormidableBase"
    
    FormidableFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/FormidableBase"
        -
          $ref: "#/definitions/FormidableComputedFields"
        -
          $ref: "#/definitions/FormidableTimestamps"
    
    FormidableValidationError:
      properties:
        code:
          type: string
          description: validation_error
        message:
          type: string
          description: Validation failed
        errors:
          type: array
          description: "Array of errors for the specified fields"
          items:
            $ref: "#/definitions/FormidableErrorItem"
      example:
        code: "validation_error"
        message: "Validation failed"
        errors:
          -
            field: "fields.0.items"
            code: "ERR_FIELD_REQUIRED"
            message: "Missing data for required field."
          -
            field: "fields.1.items"
            code: "ERR_FIELD_VALUE"
            message: "The attribute items can't be empty"
          -
            field: "fields.2.items"
            code: "ERR_FIELD_TYPE"
            message: "Invalid type."
    
    FormidableErrorItem:
      type: object
      required:
        - field
        - code
        - message
      properties:
        field:
          description: Path to the field
          type: string
        code:
          description: A code of an error
          type: string
        message:
          description: A short description of an error
          type: string
      example:
        field: "fields.0.items"
        code: "ERR_FIELD_REQUIRED"
        message: "Missing data for required field."
    
    FormidableTimestamps:
      type: "object"
      required:
        - created_at
        - updated_at
      properties:
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the form creation"
        updated_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the latest modification on the form"
    
    FormidableFieldTypeDescription:
      required:
        - type_id
        - name
      properties:
        type_id:
          type: string
          description: "Unique ID of the field type"
        name:
          type: string
          description: "Name of the field type"
    
    FormidableSubmitPayload:
      description: JSON Object that contains a fields_data key with fields data objects
      required:
        - fields_data
      properties:
        fields_data:
          type: array
          description: A list of fields
          items:
            description: Object representing user data for a field
            required:
              - slug
              - values
            properties:
              slug:
                type: string
                description:  |
                  Field slug, it's the identifier inside the Form scope.
                  When you create a form you can tailor it to your need,
                  but as soon as the Form is recorded in the database, for this Form,
                  this slug should not be made editable.
                  WIP, expect things to change:
                  Editing this property would result in creating a new Form or a new version of the Form.
              values:
                type: array
                description: List of values
      example:
        fields_data:
          - slug: first_name
            values:
              - Guillaume
          - slug: last_name
            values:
              - Gerard
          - slug: age
            values:
              - 42
          - slug: jobs
            values:
              - javascript_dev
              - python_dev
          - slug: known-languages
            values:
              - py
              - rs
          - slug: main-language
            values:
              - js
          - slug: presentation
            values:
              - "Lorem ipsum dolor sit amet, mei ex reque suavitate gubergren,
                ei pro unum corpora eligendi, mea etiam latine adipisci te.
                Nostro intellegat in vix. Cu pro omnium fabulas disputando,
                has sumo instructior no, quo ei epicurei appareat conclusionemque.
                Ut sea vero quaeque."
          - slug: terms-checkbox
            values:
              - true
          - slug: email
            values:
              - test@people-doc.com
          - slug: optional-comment
            values: []
          - slug: acceptablef-contract-type
            values:
              - cdi
              - cdd
          - slug: birth_date
            values:
              - "1970-12-23"
          - slug: python_frameworks
            values:
              - "Django, Aiohttp"
          - slug: living_region
            values:
              code: bretagne
              name: Bretagne
    
    FormidableSubmitValidationError:
      type: "object"
      example:
        code: "validation_error"
        message: "Validation has failed"
        errors:
          -
            field: age
            code: "error_type"
            message: "Only numeric values are allowed in this field"
    
    FormidableConditionalRule:
      type: "object"
      required:
        - fields_ids
        - action
        - tests
      properties:
        fields_ids:
          type: array
          description: Identify which field(s) will be triggered for the condition
          items:
            type: string
        action:
          description: Objects that define the conditional rule behavior.
          type: string
          enum: [display_iff]
        tests:
          description: Array containing the field that will trigger the condition
          type: array
          items:
            $ref: "#/definitions/FormidableConditionalRuleTest"
    
    FormidableConditionalRuleTest:
      type: "object"
      required:
        - field_id
        - operator
        - values
      properties:
        field_id:
          description: Identifies which field will trigger the conditional rule
          type: string
        operator:
          description: operator for the condition.
          type: string
          enum: [eq]
        values:
          type: array
          description: value to check to trigger the condition
          items: {}


# Articles related Objects
    ArticleBase:
      properties:
        title:
          type: string
          description: Title of the article
        body:
          type: string
          description: HTML content of the article
        categories_ids:
          type: array
          description: Array of category ids of the article
          items:
            type: string
        featured:
          type: boolean
          description: A featured article is listed in the featured articles list on the home page of the employee portal
        pinned:
          type: boolean
          description: A pinned article is partially displayed on the home page of the employee portal, and can be dismissed by the employee
        permanent:
          type: boolean
          description: A permanent article is fully and permanently displayed on the home page of the employee portal
        status:
          type: string
          description:  The status of the article (can be `published`, `draft` or `scheduled`)
          enum:
            - published
            - draft
            - scheduled
        author:
          type: "object"
          description: The initial author of this article
          $ref: "#/definitions/EmployeeSimplified"
        employee_perimeters:
          type: "array"
          items:
            $ref: "#/definitions/EmployeesPerimeterBase"
    
    ArticleComputedFields:
      properties:
        id:
          type: string
          description : id of the Article (slugified id)
    
    
    ArticleFull:
      allOf:
        -
          $ref: "#/definitions/ArticleBase"
        -
          $ref: "#/definitions/ArticleComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    
    ArticleDetail:
      allOf:
        -
          $ref: "#/definitions/ArticleFull"
      properties:
        related_articles:
          description: "List of related articles"
          type: array
          items:
            $ref: "#/definitions/ArticleFull"
    
    
    ArticlePatchPayload:
      properties:
        dismissed:
          description: "Dismiss the article and remove it from the list of pinned articles displayed to the employee."
          type: "boolean"
    
    
    ArticlePostStatPayload:
      properties:
        from_category_id:
          type: string
          description : id of the category where displayed article was listed
        from_related_article_id:
          type: string
          description : id of the article where displayed article was related
        from_search_terms:
          type: string
          description : search terms that lead to the displayed article
        from_featured:
          type: boolean
          description: send `true` if the article was displayed after clicking on featured articles list
        from_popular:
          type: boolean
          description: send `true` if the article was displayed after clicking on popular articles list
        from_once_section:
          type: boolean
          description: send `true` if the article was displayed in "displayed once" homepage section
    
    
    KbArticleBase:
      properties:
        featured_on_employee_homepage:
          type: boolean
          description: Tells if the article belongs to the featured articles on employee homepage
        once_on_employee_homepage:
          type: boolean
          description: Tells if the article is displayed at least once on employee homepage
        permanent_on_employee_homepage:
          type: boolean
          description: Tells if the article is displayed permanently on employee homepage
        versions:
          type: array
          description: Article versions in all available languages
          items:
            $ref: "#/definitions/KbArticleVersion"
        categories_ids:
          type: array
          description: Array of category ids of the article
          items:
            type: string
        expiration_date:
          type: string
          format: date
          description: Date on which the article expires
        scheduled_publication_date:
          type: string
          format: date
          description: Date on which article publication is scheduled
        status:
          type: string
          description:  The status of the article (can be `published`, `draft` or `scheduled`)
          enum:
            - published
            - draft
            - scheduled
        accessible_by_hr:
          type: boolean
          description: tells if the article is accessible by HR users
        accessible_by_employee:
          type: boolean
          description: tells if the article is accessible by employees
        employees_perimeters:
          type: array
          items:
            $ref: "#/definitions/EmployeesPerimeterBase"
        role_restrictions:
          type: array
          items:
            type: object
            properties:
              role_id:
                type: string
                description: ID of the role
              role_name:
                type: string
                description: Name of the role
      allOf:
        - $ref: "#/definitions/KbTagsAndSearchKeywords"
    
    
    KbArticleComputedFields:
      properties:
        id:
          type: string
          description : id of the Article (uuid)
        slug:
          type: string
          description : slug of the Article. Warning, one day, this field will be deprecated.
        last_hits:
          type: integer
          description: Number of views in the last 30 days
        total_hits:
          type: integer
          description: Total number of views
        last_updated_at:
          type: string
          format: date-time
          description: Latest date of article update, including versions
        last_updater_id:
          type: string
          format: uuid
          description: Updator id of latest article versions update
      allOf:
        - $ref: "#/definitions/Timestamps"
    
    
    KbLocalizedTags:
      properties:
        localized_tags:
          type: array
          description: Tag list in all available languages
          items:
            properties:
              language_code:
                type: string
              values:
                type: array
                items:
                  type: string
    
    
    KbTagsAndSearchKeywords:
      properties:
        localized_search_keywords:
          type: array
          description: Value in all available languages
          items:
            $ref: "#/definitions/LocalizedString"
      allOf:
        - $ref: "#/definitions/KbLocalizedTags"
    
    
    KbAccessibleBy:
      properties:
        accessible_by_hr:
          type: boolean
          description: tells if the article is accessible by HR users
        accessible_by_employee:
          type: boolean
          description: tells if the article is accessible by employees
    
    
    KbRoleRestrictions:
        properties:
          role_restrictions:
            type: "array"
            items:
              type: object
              properties:
                role_id:
                  type: string
                  description: "ID of the role"
                role_name:
                  type: string
                  description: "Name of the role"
    
    KbEmployeePerimeters:
      properties:
        employee_perimeters:
              type: "array"
              items:
                $ref: "#/definitions/EmployeesPerimeterBase"
    
    KbArticleFull:
      properties:
        author_id:
          type: string
          format: uuid
          description: ID of the author (publisher)
      allOf:
        - $ref: "#/definitions/KbArticleComputedFields"
        - $ref: "#/definitions/KbArticleBase"
    
    
    KbArticleVersion:
      properties:
        id:
          type: string
          description : id of the version (uuid)
        language_code:
          type: string
          description : language code of the version
        title:
          type: string
          description : title of the version
        body:
          type: string
          description : body of the version
        creator_id:
          type: string
          description: id of the creator (uuid)
        updator_id:
          type: string
          description: id of the updator (uuid)
      allOf:
        - $ref: "#/definitions/Timestamps"
    
    
    KbArticlePatchPayload:
      properties:
        status:
          type: string
          description: |
            Modify the status of the article (can be `published` or `draft`).
            The `scheduled` status can't be used with this PATCH.
            This PATCH only enables to publish or unpublish an article.
            To plan a publication with a publication date, please use the PUT api
            enabling creation and modification of a complete article.
          enum:
            - draft
            - published
      allOf:
        - $ref: "#/definitions/KbTagsAndSearchKeywords"
        - $ref: "#/definitions/KbAccessibleBy"
        - $ref: "#/definitions/KbRoleRestrictions"
        - $ref: "#/definitions/KbEmployeePerimeters"
    
    
    KbArticleUpdatePayload:
      type: "object"
      required:
        - categories_ids
      properties:
        slug:
          type: string
          description : slug of the Article. Warning, one day, this field will be deprecated.
      allOf:
        - $ref: "#/definitions/KbArticleBase"
    
    
    ArticleDocument:
      properties:
        id:
          type: string
          description : id of the article_document (slug)
        language_code:
          type: string
          description : language code of the article_document
        title:
          type: string
          description : title of the article_document
        description:
          type: string
          description : description of the article_document
    
    
    KbArticleImage:
      properties:
        url:
          type: string
          description : url to access the uploaded image
    
    
    KbTag:
      properties:
        language_code:
          type: string
          description : language code of the tag
        label:
          type: string
          description : label of the tag
    
    
    ArticleFeedbackPost:
      required:
        - article_id
        - useful
      properties:
        article_id:
          type: string
          description : id of the commented article (uuid)
        version_id:
          type: string
          description : id of the commented version (uuid)
        version_language_code:
          type: string
          description : |
            version's language_code displayed when employee writes feedback.
            Mandatory if `version_id` is null with legacy articles.
          maxLength: 7
        useful:
          type: boolean
          description: used to tell if the article is considered as useful or not
        comment:
          type: string
          description : comment written by employee. Mandatory only if useful is `false`
          maxLength: 1000
    
    
    ArticleFeedbackFull:
      properties:
        article_title:
          type: string
          description : article's title when feedback was sent
        author_id:
          type: string
          description : id of the author (uuid)
        author_language_code:
          type: string
          description : author's language_code when feedback was sent
        created_at:
          type: "string"
          format: "date-time"
      allOf:
        -
          $ref: "#/definitions/ArticleFeedbackPost"
    
    
    KbPermissions:
      type: object
      properties:
        can_manage_faq:
          type: boolean
          description: Can user manage articles?
        can_manage_categories:
          type: boolean
          description: Can user manage categories?
        can_access_faq:
          type: boolean
          description: Can user access articles (without managing)?
        can_access_article_feedbacks:
          type: boolean
          description: Can user access feedbacks?
        can_manage_files:
          type: boolean
          description: Can user manage files?
        can_access_answer_templates:
          type: boolean
          description: Can user access answer templates?
    
    ArticleMediaFilePagesNumber:
      type: object
      properties:
        pages:
          type: "number"
          description: "Number of pages of a PDF media file"
      example:
        pages: "3"


# Requests related Objects
    RequestTimestamps:
      type: "object"
      required:
        - created_at
        - updated_at
        - closed_at
        - archived_at
      properties:
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the request creation"
        updated_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the latest modification on the request"
        closed_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the request closure"
        archived_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the request archival"
    
    CustomStatusField:
      type: "object"
      required:
        - id
        - name
      properties:
        id:
          type: "string"
          description: "Unique ID of the custom status"
        name:
          type: "string"
          description: "Name of the custom status."
    
    RequestCategory:
      type: "object"
      required:
        - id
        - name
      properties:
        id:
          type: "string"
          description: "Unique ID of the category (slug ID)"
        name:
          type: "string"
          description: "Name of the category"
    
    RequestFormDataFieldValue:
      type: "object"
      required:
        - field_id
        - values
      properties:
        field_id:
          type: string
          description: "Unique ID of the form field"
        values:
          type: array
          items:
            type: "string"
          description: >
            Answer given by the assignee in the form field as an array of values. Value type depends of the field type:
              - dataset: {"id": string, "name": string}
              - file: {"upload_id": string}
    
    FormFile:
      type: "object"
      required:
        - id
        - filename
        - field_id
      properties:
        id:
          type: "string"
          description: "Unique ID of the file uploaded in the form"
        filename:
          type: "string"
          description: "Name of the file uploaded in the form"
        field_id:
          type: "string"
          description: "Unique ID of the form field used to upload the file"
    
    RequestComputedFields:
      type: "object"
      required:
        - id
        - request_number
        - status
        - read_by_employee
        - public_comment_count
        - attachment_count
        - read_only
        - visible_by_employee
        - need_edit_by_employee
      properties:
        id:
          type: "string"
          description: "Unique ID of the request."
        request_number:
          type: "string"
          description: "Number of the request. The number of the request is a simple integer that can be used as a reference in HR teams. It can be use to search a specific request as an example."
        status:
          type: "string"
          description: "Status of the request. Possible values: `created`, `opened`, `pending`, `closed` and `archived`."
          enum:
            - created
            - opened
            - pending
            - closed
            - archived
        read_by_employee:
          type: "boolean"
          description: "Indicate if the request has been read by employee since last modification."
        public_comment_count:
          type: "integer"
          description: "Count of public comment posted on the request. It includes public comments posted HR, managers and/or the employee"
        internal_comment_count:
          type: "integer"
          description: "Count of internal comment posted on the request. Internal comment posted by users"
        total_comment_count:
          type: "integer"
          description: "Count of internal and public comment posted on the request"
        public_deleted_comment_count:
          type: "integer"
          description: "Count of public comment deleted from the request."
        internal_deleted_comment_count:
          type: "integer"
          description: "Count of internal comment deleted from the request."
        total_deleted_comment_count:
          type: "integer"
          description: "Count of internal and public comment deleted from the request"
        attachment_count:
          type: "integer"
          description: "Count of attachments directly linked to the request."
        read_only:
          type: "boolean"
          description: "A request is read_only when the employee can not modify the form's values once the request created."
        visible_by_employee:
            type: "boolean"
            default: false
            description: "A request is visible by the employee when created by an employee and if specified at the creation by an HR,Manager or API."
        need_edit_by_employee:
            type: "boolean"
            description: "Is true when some fields must be filled by the employee but are empty at the moment"
    
    RequestBase:
      type: "object"
      required:
        - name
        - category
        - form_files
        - form_id
        - form_data
      properties:
        name:
          type: "string"
          description: "Name of the request. The name of the request can be inherited from the name of the form that has been use to create the request OR from the subject of the request if the request has been created from a default form."
        priority:
          type: "string"
          description: "Priority of the request - 1: low, 2: normal, 3: high"
          enum: ["1", "2", "3"]
        employee:
          type: "object"
          $ref: "#/definitions/EmployeeSimplified"
          description: "Only exists if `embed=employee` query string parameter was used. Gives full information on the employee the request has been created for. Exist only if the request has been created for an employee."
        employee_id:
          type: "string"
          description: "Only exists if `embed=employee` query string parameter was not used. Unique ID of the employee the request has been created for. Exist only if the request has been created for an employee."
        creator:
          type: "object"
          $ref: "#/definitions/UserSimplified"
          description: "Only exists if `embed=creator` query string parameter was used. Gives full information on the employee, the manager or the HR user who has created the request. Exist only if the request has been created by one of these personas."
        creator_id:
          type: "string"
          description: "Only exists if `embed=creator` query string parameter was not used. Unique ID of the employee, the manager or the HR user who has created the request. Exist only if the request has been created by one of these personas."
        closed_by:
          type: "object"
          $ref: "#/definitions/UserSimplified"
          description: "Only exists if `embed=closed_by` query string parameter was used. Gives full information on the manager or the HR user who has closed the request. Exist only if the request has been closed by one of these personas."
        closed_by_id:
          type: "string"
          description: "Only exists if `embed=closed_by` query string parameter was not used. Unique ID of the manager or the HR user who has closed the request. Exist only if the request has been closed by one of these personas."
        organization_ids:
          type: array
          description: "Codes of the organizations attached to the employee at the time the request was created."
          items:
            type: string
        form_id:
          type: "string"
          description: "Unique  ID of the form used in the request (slug ID)"
        form_files:
          type: array
          description: "Attached files uploaded in the form by the assignee"
          items:
            type: object
            $ref: "#/definitions/FormFile"
        due_date:
          type: "string"
          format: "date"
          description: " The day by which the request must be close by the HR teams."
        custom_status:
          type: object
          $ref: "#/definitions/CustomStatusField"
          description: "The custom status of a request define the step of the workflow the request is in. It can be 'null' in case there is no custom status or the custom status is not displayed for employees."
        category:
          type: "object"
          $ref: "#/definitions/RequestCategory"
          description: "Category of the request. The category is inherited from the form the request has been created from."
        form_data:
          type: array
          description: "Answers given by the request creator in the form"
          items:
            type: object
            $ref: "#/definitions/RequestFormDataFieldValue"
        feedback:
          type: object
          $ref: "#/definitions/RequestFeedback"
      allOf:
        -
          $ref: "#/definitions/RequestComputedFields"
        -
          $ref: "#/definitions/RequestTimestamps"
    
    
    RequestFull:
      allOf:
        -
          $ref: "#/definitions/RequestComputedFields"
        -
          $ref: "#/definitions/RequestBase"
        -
          $ref: "#/definitions/RequestTimestamps"
    
    
    RequestAttachmentList:
      type: "object"
      properties:
        attachments:
          type: "array"
          description: "list of attachments"
          items:
            $ref: "#/definitions/RequestAttachment"
    
    
    RequestFullWithAttachments:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/RequestFull"
        -
          $ref: "#/definitions/RequestAttachmentList"
    
    RequestUUIAndCategory:
      type: "object"
      properties:
        category:
          type: "string"
          description: "Slug of category"
        status:
          type: "string"
          description: "Status of the request. Possible values: `created`, `opened`, `pending`, `closed` and `archived`."
          enum:
            - created
            - opened
            - pending
            - closed
            - archived
      example:
        id: "0a2f5401-5e63-4f8e-9da0-eceabc557905"
        category: "bank"
        status: "pending"
    
    RequestComment:
      type: "object"
      properties:
        id:
          type: "string"
          description: "ID of the comment"
        creator:
          type: "object"
          $ref: "#/definitions/UserSimplified"
          description: "Only exists if `embed=creator` query string parameter was used. Gives full information on the employee, the manager or the HR user who has created the comment."
        creator_id:
          type: "string"
          description: "Only exists if `embed=creator` query string parameter was not used. Unique ID of the employee, the manager or the HR user who has created the comment."
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the comment creation"
        content:
          type: "string"
          description: "Content of the comment"
        is_informative:
          type: "boolean"
          description: "True if not user-generated"
        is_internal:
          type: "boolean"
          description: "True if the comment is not public, only visible to users"
        comment_source:
          type: "string"
          description: "Source of the comment, can be one of attachment, user, user_update, macro, admin, routing_default, routing_assign, visibility, timing, A, T"
        is_deleted:
          type: "boolean"
          description: "True if the user deleted the comment"
      allOf:
        -
          $ref: "#/definitions/RequestAttachmentList"
    
    
    RequestPatchPayload:
      type: "object"
      properties:
        form_data:
          type: array
          description: "Answers given by the request creator in the form"
          items:
            type: object
            $ref: "#/definitions/RequestFormDataFieldValue"
      example:
    
        status: "opened"
        form_data:
            -
              field_id: "firstname"
              values: ["John"]
            -
              field_id: "lastname"
              values: ["Doe"]
            -
              field_id: "birth"
              values: ["1970-01-01"]
            -
              field_id: "requested_at"
              values: ["2018-01-29T12:15:59.189457Z"]
            -
              field_id: "nb_children"
              values: [2]
            -
              field_id: "hobbies"
              values: ["programming", "billiard"]
            -
              field_id: "has_pets"
              values: [false]
            -
              field_id: "uploaded_file"
              values: [{"upload_id": "80a38011-a625-481d-b090-0c438a588803"}]
            -
              field_id: one-level-dataset
              values:
              - - id: ATLANTA
                  name: Atlanta
                  code: ATLANTA
            -
              field_id: 3-levels-dataset
              values:
              - - id: APAC
                  name: Asia Pacific and Japan
                  code: APAC
                - id: APAC.japan
                  name: Japan
                  code: APAC.japan
                - id: APAC.japan.tokyo
                  name: Tokyo
                  code: APAC.japan.tokyo
    
    RequestPatchVisibleByPayload:
      type: "object"
      properties:
        need_action:
          type: "boolean"
          description: "call can set need_action=False for more than one assignee for the request"
      example:
        need_action: "false"
    
    TriggerEmployeeCachePayload:
      type: "object"
      properties:
        employee_id:
          type: "string"
          description: "Employee novaauth uuid"
      example:
        employee_id: "48cd2859-29d4-46d2-872d-dadb971f4142"
    
    ResponsePatchVisibleByPayload:
      type: "object"
      properties:
        id:
          type: "string"
        external_id:
          type: "string"
        firstname:
          type: "string"
        lastname:
          type: "string"
        email:
          type: "string"
      example:
        id: "416169c7-e29d-46b7-a57c-b6cedc4b04cb"
        "external_id": "pierre"
        "firstname": "Pierre"
        "lastname": "Manager"
        "email": "pierre@example.com"
    
    RequestAttachment:
      type: "object"
      properties:
        id:
          type: "string"
          description: "ID of the attachment"
        name:
          type: "string"
          description: "Filename of the attachment"
    
    
    RequestPostComment:
      type: "object"
      properties:
        content:
          type: "string"
          description: "Content of the comment"
        attachment_upload_ids:
          type: array
          description: "List of upload ids (uuid) from uploads api resource"
          items:
            type: string
        is_internal:
          type: "boolean"
          description: "The comment is internal, only visible to users"
        creator_id:
          type: "string"
          description: "UUID of the user creating the comment, required if no `creator_external_id` is already provided"
        creator_external_id:
          type: "string"
          description: "External ID of the user creating the comment, required if no `creator_id` is already provided"
    
    
    PostRequestFeedback:
      type: "object"
      properties:
        rate:
          type: "number"
          description: "Rate of the feedback, between 1 and 5"
        comment:
          type: "string"
          description: "Comment of the feedback"
      example:
          rate: 3
          comment: "You know what... I'm happy..."
    
    
    RequestFeedback:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/PostRequestFeedback"
      properties:
        created_at:
          type: "string"
          format: "date-time"
      example:
          created_at: "2016-08-23T11:20:31.825Z"
    
    
    RequestPostCreatePayload:
      required:
        - form_data
        - form_id
      properties:
        form_data:
          type: "array"
          description: "Answers given by the request creator"
          items:
            $ref: "#/definitions/RequestFormDataFieldValue"
        form_id:
          type: "string"
          description: "Unique ID of the form related to the request (slug ID)"
        origin:
          type: "string"
          description: >
            String representing the origin of the request. Possible values are:
              - PHONE: Request created as the result of a phone call
              - MAIL: Request created as the result of an e-mail
              - PEOPLEASK: Request created from the request management web interface
              - API: Request created via the API
              - POST: Request created as the result of a letter
              - IM: Request created as the result of an IM conversation
              - PERSON: Request created as the result of a face to face interaction
              - OTHER: Other origin of the request
              - MOBILE_APP: Request created by the mobile application
          default: "API"
          enum:
            - "PHONE"
            - "MAIL"
            - "PEOPLEASK"
            - "API"
            - "POST"
            - "IM"
            - "PERSON"
            - "OTHER"
            - "MOBILE_APP"
        attachment_upload_ids:
          type: array
          description: "List of upload ids (uuid) from uploads api resource"
          items:
            type: string
        draft_id:
          type: "string"
          description: "Use this field for transforming a request draft into a real request. This deletes the related draft and copies its files to the newly created request."
        employee_id:
          type: "string"
          description: "UUID of the employee concerned by the request, required if the form definition requires one"
          default: ""
        organization_id:
          type: "string"
          default: ""
          description: "UUID of the organization concerned by the request, required if the form definition requires one"
        employee_external_id:
          type: "string"
          default: ""
          description: "External ID of the employee concerned by the request, required if the form definition requires one and if no `employee_id` is already provided"
        creator_id:
          type: "string"
          description: "UUID of the user creating the request"
        visible_by_employee:
          type: "boolean"
          default: false
          description: "A request is visible by the employee when created by an employee and if specified at the creation by an HR,Manager or API."
        creator_external_id:
          type: "string"
          description: "External ID of the user creating the request"
    
      example:
        form_data:
            -
              field_id: "firstname"
              values: ["John"]
            -
              field_id: "lastname"
              values: ["Doe"]
            -
              field_id: "birth"
              values: ["1970-01-01"]
            -
              field_id: "requested_at"
              values: ["2018-01-29T12:15:59.189457Z"]
            -
              field_id: "nb_children"
              values: [2]
            -
              field_id: "hobbies"
              values: ["programming", "billiard"]
            -
              field_id: "has_pets"
              values: [false]
            -
              field_id: "uploaded_file"
              values: [{"upload_id": "80a38011-a625-481d-b090-0c438a588803"}]
            -
              field_id: one-level-dataset
              values:
              - - id: ATLANTA
                  name: Atlanta
                  code: ATLANTA
            -
              field_id: 3-levels-dataset
              values:
              - - id: APAC
                  name: Asia Pacific and Japan
                  code: APAC
                - id: APAC.japan
                  name: Japan
                  code: APAC.japan
                - id: APAC.japan.tokyo
                  name: Tokyo
                  code: APAC.japan.tokyo
        form_id: my-form
        attachment_upload_ids: ["f28214b0-c4c9-497b-aacf-07fba60122b1"]
        organization_id: "5ba71a8e-d5ee-4cb1-9184-b5e94da7c614"
        employee_id: "bb86e826-c2e6-4dbc-9c54-d3a45b109486"
        creator_id: "804b68ff-309d-4cdb-bdce-7396dd3f4a20"
    
    
    RequestForm:
      properties:
        id:
          type: integer
          description: Request form identifier
        name:
          type: string
          description: Request form name
        is_default:
          type: boolean
          description: Is the default form for a category?
        category_id:
          type: string
          description: Identifier of the related category (slug)
        language_code:
          type: string
          description: Code of the language
        featured:
          type: boolean
          description: A featured request form is listed in the featured request form list on the home page of the employee portal
        success_message:
          type: string
          description: Message displayed when request is sent
        employee_restrictions:
              type: array
              items:
                type: object
                $ref: "#/definitions/EmployeesPerimeterBase"
              description: "The list of employee perimeters associated with this form"
        user_restrictions:
          type: "object"
          properties:
            roles:
              type: array
              description: "List of roles discribed by their id and name"
              items:
                type: "object"
                properties:
                  id:
                    type: string
                    description: "`ID` of the `Role`"
                  name:
                    type: "string"
                    description: "`Name` of the `Role`"
          description: "The list of user perimeters associated with this form"
        keywords:
          type: string
          description: "The keywords describing the form"
        created_at:
          type: string
          description: "The date at which the form has been created"
        updated_at:
          type: string
          description: "The date at which the form has been last updated"
        visible_by_employee:
          type: boolean
          description: "The request is visible by the employee once created"
        visible_by_user:
          type: boolean
          description: "The request is visible by an HR user once created"
        request_editable_by_employee:
          type: boolean
          description: "The request can be edited by the employee"
        request_editable_by_user:
          type: boolean
          description: "The request can be edited by an HR user"
        employee_organization_mandatory:
          type: boolean
          description: "If false, a request can be created without linking it to an employee or an organization"
        linkeable_to_employee:
          type: boolean
          description: "The request can be linked to an employee"
        linkeable_to_organization:
          type: boolean
          description: "The request can be linked to an organization"
        due_date_visible_by_employee:
          type: boolean
          description: "The due date of the request is visible for the employee"
        custom_status_visible_by_employee:
          type: boolean
          description: "A request custom status is visible by the employee"
        enable_employee_feedback:
          type: boolean
          description: "An employee can post a feedback on a request created with this form"
    
      example:
        id: 1234
        name: Contact us
        is_default: true
        category_id: contact-us
        language_code: "en-us"
        featured: true
        success_message: Your message has been sent successfully!
        keywords: "Contact form"
        created_at: "2020-10-01T03:00:00.000+01:00"
        updated_at: "2020-10-05T10:00:00.000+01:00"
        visible_by_employee: false
        visible_by_user: true
        request_editable_by_employee: false
        request_editable_by_user: true
        employee_organization_mandatory: true
        linkeable_to_employee: true
        linkeable_to_organization: false
        due_date_visible_by_employee: false
        custom_status_visible_by_employee: true
        enable_employee_feedback: true
        employee_restrictions: [
          {
            "operator": "=",
            "organization_id": "FSUD1",
            "organization_group_id": "gaf",
            "custom_field_filters": [
              {
                "custom_field_id": "weight",
                "operator": "!=",
                "value": 2,
              }
            ]
          }
        ]
        user_restrictions: {
          "roles": [
            {
              "id": "payroll-manager",
              "name": "Payroll Manager"
            }
          ]
        }
    
    
    RequestFormFull:
      allOf:
        -
          $ref: "#/definitions/RequestForm"
      properties:
        form_definition:
          type: object
          allOf:
            -
              $ref: "#/definitions/FormDefinitionContextForm"
    
      example:
        id: 1234
        name: Contact us
        is_default: true
        category_id: contact-us
        language_code: "en-us"
        featured: true
        success_message: Your message has been sent successfully!
        form_definition:
          id: 23
          label: Simple contact form
          description: Send us a message form
          conditions: []
          fields:
            message:
              slug: message
              label: Your message
              type_id: text
              placeholder: Enter your message
              description: Message content
              multiple: false
              items: []
              validations: []
              defaults: []
              disabled: false
              required: true
              values: []
    
    
    RequestFormPatch:
      properties:
        keywords:
          type: string
          description: "The keywords describing the form"
        featured:
          type: boolean
          description: A featured request form is listed in the featured request form list on the home page of the employee portal
        success_message:
          type: string
          description: Message displayed when request is sent
        visible_by_employee:
          type: boolean
          description: "The request is visible by the employee once created"
        visible_by_user:
          type: boolean
          description: "The request is visible by an HR user once created"
        request_editable_by_employee:
          type: boolean
          description: "The request can be edited by the employee"
        request_editable_by_user:
          type: boolean
          description: "The request can be edited by an HR user"
        employee_organization_mandatory:
          type: boolean
          description: "If false, a request can be created without linking it to an employee or an organization"
        linkeable_to_employee:
          type: boolean
          description: "The request can be linked to an employee"
        linkeable_to_organization:
          type: boolean
          description: "The request can be linked to an organization"
        due_date_visible_by_employee:
          type: boolean
          description: "The due date of the request is visible for the employee"
        custom_status_visible_by_employee:
          type: boolean
          description: "A request custom status is visible by the employee"
        enable_employee_feedback:
          type: boolean
          description: "An employee can post a feedback on a request created with this form"
      example:
        featured: true
        success_message: Your message has been sent successfully!
        keywords: "Contact form"
        visible_by_employee: false
        visible_by_user: true
        request_editable_by_employee: false
        request_editable_by_user: true
        employee_organization_mandatory: true
        linkeable_to_employee: true
        linkeable_to_organization: false
        due_date_visible_by_employee: false
        custom_status_visible_by_employee: true
        enable_employee_feedback: true
    
    RequestFormPatchUser:
      properties:
        category_id:
          type: string
          description: "Slug field of category, equals uuid for new knowledgebase"
      example:
        category_id: "49198176-c83e-49ad-a3d2-3539de237ab5"
    
    RequestAssignOnlyTo:
      properties:
        manager_id:
          type: string
          description: "ID for user need to assign to the request."
      example:
        manager_id: "f0922ce3-8753-4aab-ba59-c8a854fba374"
    
    RequestFormPut:
      properties:
        keywords:
          type: string
          description: "The keywords describing the form"
        featured:
          type: boolean
          description: A featured request form is listed in the featured request form list on the home page of the employee portal
        success_message:
          type: string
          description: Message displayed when request is sent
        visible_by_employee:
          type: boolean
          description: "The request is visible by the employee once created"
        visible_by_user:
          type: boolean
          description: "The request is visible by an HR user once created"
        name:
          type: string
          description: "Request form name"
        request_editable_by_employee:
          type: boolean
          description: "The request can be edited by the employee"
        request_editable_by_user:
          type: boolean
          description: "The request can be edited by an HR user"
        employee_organization_mandatory:
          type: boolean
          description: "If false, a request can be created without linking it to an employee or an organization"
        linkeable_to_employee:
          type: boolean
          description: "The request can be linked to an employee"
        linkeable_to_organization:
          type: boolean
          description: "The request can be linked to an organization"
        due_date_visible_by_employee:
          type: boolean
          description: "The due date of the request is visible for the employee"
        custom_status_visible_by_employee:
          type: boolean
          description: "A request custom status is visible by the employee"
        enable_employee_feedback:
          type: boolean
          description: "An employee can post a feedback on a request created with this form"
        form_definition:
          description: "[READ-ONLY] A formidable form"
          readOnly: true
          type: object
          allOf:
            - $ref: "#/definitions/FormDefinitionContextForm"
        formidable:
          description: "JSON definition of the formidable form"
          type: object
          $ref: "#/definitions/DFForm"
      example:
        name: "Brand new name"
        never_visible_by_employee: true
        featured: true
        success_message: Your message has been sent successfully!
        keywords: "Contact form"
        visible_by_employee: false
        visible_by_user: true
        request_editable_by_employee: false
        request_editable_by_user: true
        employee_organization_mandatory: true
        linkeable_to_employee: true
        linkeable_to_organization: false
        due_date_visible_by_employee: false
        custom_status_visible_by_employee: true
        enable_employee_feedback: true
        form_definition:
          id: 23
          label: Simple contact form
          description: Send us a message form
          conditions: []
          fields:
            message:
              slug: message
              label: Your message
              type_id: text
              placeholder: Enter your message
              description: Message content
              multiple: false
              items: []
              validations: []
              defaults: []
              disabled: false
              required: true
              values: []
        formidable:
          conditions: []
          description: "These are my keywords"
          fields:
            accesses:
              - access_id: "API"
                level: "EDITABLE"
              - access_id: "EMPLOYEE"
                level: "EDITABLE"
              - access_id: "MANAGER"
                level: "EDITABLE"
            label: "Test Email"
            slug: "test_email"
            type_id: "email"
          label: "Brand new name"
    
    AutomationTriggerPatchUserInternalPayload:
      type: "object"
      properties:
        category_old_slug:
          type: "string"
          description: "Slug of the category to be replaced"
        category_new_slug:
          type: "string"
          description: "Slug of the new category replacing the old one"
      example:
        category_old_slug: "onboarding"
        category_new_slug: "learning"
    
    ExportRequestsPost:
      type: "object"
      properties:
        encoding:
          type: "string"
          default: "utf-8-sig"
          description: "Set encoding of csv file"
          enum:
            - "utf-8-sig"
            - "cp1252"
    
    
    RequestVisibleByUser:
      type: object
      properties:
        id:
          type: "string"
          description: "Unique ID of the User"
        firstname:
          type: "string"
          description: "First name of the User"
        lastname:
          type: "string"
          description: "Last name of the User"
        external_id:
          type: "string"
          description: "Unique ID of the User defined in the HRIS"
        profiles:
          type: "array"
          description: "A profile attaches a role (set of permissions)
          to a perimeter (set of employees). A User can have different profiles"
          items:
            $ref: "#/definitions/RequestProfileBase"
        permissions:
          type: "object"
          description: "Permissions of the User"
          properties:
            people.can_manage_synapps:
              type: boolean
              description: "permission name"
              example: true
        need_action:
          type: "boolean"
          description: "Whether the User need to be act or not"
        is_employee:
          type: "boolean"
          description: "Whether the User is employee or not"
    
    RequestVisibleByList:
      type: array
      items:
        type: object
        $ref: "#/definitions/RequestVisibleByUser"
    
    RequestBulkActionBody:
      type: object
      properties:
        manager_id:
          type: "string"
          description: "Id of the user from the peoplecore"
    
    RequestBulkItem:
      type: object
      properties:
        request_id:
          type: "string"
          description: "Ticket uuid"
        action:
          type: "string"
          description: "Name of the action"
          enum:
            - assign_only_to
        action_body:
          type: "object"
          $ref: "#/definitions/RequestBulkActionBody"
    
    RequestEmbedResponse:
      type: object
      properties:
        id:
          type: "string"
          description: "Ticket UUID"
        request_number:
          type: integer
          description: "Ticket custom counter"
        name:
          type: "string"
          description: "Name of subject of ticket"
    
    RequestBulkItemResponse:
      type: object
      properties:
        request_id:
          type: "string"
          description: "Ticket uuid"
        request:
          type: object
          description: "Request information"
          $ref: '#/definitions/RequestEmbedResponse'
        action:
          type: "string"
          description: "Name of the action"
          enum:
            - assign_only_to
        action_body:
          type: object
          $ref: "#/definitions/RequestBulkActionBody"
        errors:
          type: array
          items:
            type: object
            properties:
              message:
                type: "string"
                description: "Error message"
              code:
                type: "string"
                description: "Error code"
    
    RequestBulkBody:
      type: array
      items:
        type: object
        $ref: "#/definitions/RequestBulkItem"
    
    RequestBulkResponse:
      type: array
      items:
        type: object
        $ref: "#/definitions/RequestBulkItemResponse"
    
    RequestBulkBadRequest:
      type: array
      items:
        type: object
        properties:
          action:
            type: array
            description: "Name of the field with an error"
            items:
              type: "string"
              enum:
                - This field is required

    RequestDraftBase:
      type: "object"
      required:
        - id
        - name
        - category
        - form_id
        - created_at
        - updated_at
        - form_is_visible
        - form_has_changed
        - attachment_count
      properties:
        id:
          type: "string"
          description: "UUID of the request draft"
        name:
          type: "string"
          description: "Name of the request draft. The name of the request draft can be inherited from the name of the form that has been used to create the request draft OR from the subject of the request draft if the request draft has been created from a default form"
        employee:
          type: "object"
          $ref: "#/definitions/EmployeeSimplified"
          description: "Exists only if `embed=employee` query string parameter was used. Gives full information on the employee the request draft has been created for. Exist only if the request has been created for an employee"
        employee_id:
          type: "string"
          description: "Exists only if `embed=employee` query string parameter was not used. Unique ID of the employee the request draft has been created for. Exist only if the request has been created for an employee"
        creator:
          type: "object"
          $ref: "#/definitions/UserSimplified"
          description: "Exists only if `embed=creator` query string parameter was used. Gives full information on the employee, the manager or the HR user who has created the request draft. Exist only if the request has been created by one of these personas"
        creator_id:
          type: "string"
          description: "Exists only if `embed=creator` query string parameter was not used. Unique ID of the employee, the manager or the HR user who has created the request draft. Exist only if the request has been created by one of these personas"
        category:
          type: "object"
          $ref: "#/definitions/RequestCategory"
          description: "Category of the request draft. The category is inherited from the form the request draft has been created from"
        form_id:
          type: "string"
          description: "Unique ID of the form used in the request draft (slug ID)"
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the request draft creation"
        updated_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the latest modification on the request draft"
        attachment_count:
          type: "integer"
          description: "Count of attachments directly linked to the request"
        form_is_visible:
          type: "boolean"
          description: "True if the form used to create the draft is visible by the employee"
        form_has_changed:
          type: "boolean"
          description: "True if the form used to create the draft has changed since the last request draft update"
    
    
    
    RequestDraftAttachment:
      type: "object"
      properties:
        id:
          type: "string"
          description: "ID of the attachment"
        name:
          type: "string"
          description: "Filename of the attachment"
    
    
    RequestDraftDetail:
      type: "object"
      required:
        - attachments
      properties:
        attachments:
          type: "array"
          description: "list of attachments"
          items:
            $ref: "#/definitions/RequestDraftAttachment"
      allOf:
        - $ref: "#/definitions/RequestDraftBase"
    
    
    RequestDraftPost:
      type: "object"
      required:
        - form_id
        - form_data
        - attachment_upload_ids
      properties:
        form_id:
          type: "string"
          description: "Unique ID of the form used in the request draft (slug ID)"
        form_data:
          type: "array"
          description: "Answers given by the request creator"
          items:
            $ref: "#/definitions/RequestFormDataFieldValue"
        attachment_upload_ids:
          type: array
          description: "List of upload ids (uuid) from uploads api resource"
          items:
            type: string


# Chatbots related Objects

# Clients related Objects
    ClientBase:
      type: "object"
      required:
        - name
        - title
      properties:
        name:
          type: "string"
          maxLength: 50
          description: "Name of the Client"
          example: "Acme"
        title:
          type: "string"
          maxLength: 50
          description: "Name chosen by the Client to refer to its portal"
          example: "Acme HR Service Portal"
    
        available_languages:
          description: "List of languages available for the platform (tier1+tier2). Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          type: "array"
          items:
            type: string
          example: ["fr-fr", "fr-ca", "en-us", "en-gb", "zh-hans"]
        default_language:
          type: "string"
          description: "Default language. Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          example: "fr-fr"
    
    ClientEditableBase:
      type: "object"
      properties:
        tenant_id:
          type: "string"
          format: "uuid"
          description: "Ultimate Tenant ID of the Client"
          example: "deadbeef-f00d-c0de-babe-feedbaadcafe"
    
    EFMClientBase:
      type: "object"
    
    CoreClientBase:
      type: "object"
      properties:
        employee_available_languages:
          description: "Extended list of languages including the employees languages (tier1+tier2+tier3). Format: The same one as for the `available_languages`."
          type: "array"
          items:
            type: string
          example: ["fr-fr", "fr-ca", "en-us", "en-gb", "zh-hans", "th-th", "sk-sk", "bg-bg"]
        timezone:
          description: "Timezone used by default on the platform, in the form `Area/Location`, e.g. `America/New_York`."
          type: "string"
          example: "America/New_York"
    
    ClientComputedFields:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "`ID` of the Client"
          example: "30094155-8dd8-4631-bf19-65ec9e7cec77"
    
    CoreClientComputedFields:
      type: "object"
      properties:
        installed_modules:
          description: "List of installed modules on the portal"
          type: array
          items:
            type: string
          enum:
            - core
            - employee_file_management
            - electronic_signature
            - advanced_analytics
          example: ["core", "employee_file_management", "electronic_signature", "advanced_analytics"]
    
    EFMClientComputedFields:
      type: "object"
    
    
    ClientCreatePayloadParams:
      type: "object"
      required:
        - subdomain
      properties:
        subdomain:
          type: "string"
          description: "Subdomain chosen by the client that will be used in the URL
          to connect to the platform. Format: concatenation of lowercase letters,
          numbers, and `-`."
          example: "acme-hr-portal"
    
    
    CoreClientFull:
      allOf:
        -
          $ref: "#/definitions/ClientBase"
        -
          $ref: "#/definitions/ClientEditableBase"
        -
          $ref: "#/definitions/CoreClientBase"
        -
          $ref: "#/definitions/ClientComputedFields"
        -
          $ref: "#/definitions/CoreClientComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    
    EFMClientFull:
      allOf:
        -
          $ref: "#/definitions/ClientBase"
        -
          $ref: "#/definitions/ClientEditableBase"
        -
          $ref: "#/definitions/EFMClientBase"
        -
          $ref: "#/definitions/ClientComputedFields"
        -
          $ref: "#/definitions/EFMClientComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    
    ClientCreatePayload:
      allOf:
        -
          $ref: "#/definitions/ClientBase"
        -
          $ref: "#/definitions/ClientEditableBase"
        -
          $ref: "#/definitions/EFMClientBase"
        -
          $ref: "#/definitions/ClientCreatePayloadParams"
    
    
    ClientPatchPayload:
      allOf:
        -
          $ref: "#/definitions/ClientEditableBase"
    
    
    CoreClientBaseByEmail:
      type: "object"
      required:
        - id
        - tenant_id
        - title
        - name
        - available_languages
        - default_language
        - timezone
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "`ID` of the Client"
          example: "30094155-8dd8-4631-bf19-65ec9e7cec77"
        tenant_id:
          type: "string"
          format: "uuid"
          description: "Ultimate Tenant ID of the Client"
          example: "deadbeef-f00d-c0de-babe-feedbaadcafe"
        title:
          type: "string"
          maxLength: 50
          description: "Name chosen by the Client to refer to its portal"
          example: "Acme HR Service Portal"
        name:
          type: "string"
          maxLength: 50
          description: "Name of the Client"
          example: "Acme"
        available_languages:
          description: "List of available languages. Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          type: "array"
          items:
            type: string
          example: ["fr-fr", "fr-ca", "en-us", "en-gb", "zh-hans"]
        default_language:
          type: "string"
          description: "Default language. Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          example: "fr-fr"
        timezone:
          description: "Timezone used by default on the platform, in the form `Area/Location`, e.g. `America/New_York`."
          type: "string"
          example: "America/New_York"
    
    
    CoreClientFullByEmail:
      allOf:
        -
          $ref: "#/definitions/CoreClientBaseByEmail"
        -
          $ref: "#/definitions/CoreClientComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Distributions related Objects
    DistributionProjectBase:
      type: "object"
      required:
        - name
        - paper_configuration
      properties:
        name:
          type: "string"
          description: "The name of the Project as it will be displayed in the UI"
        notifications_delivery:
          type: "integer"
          description: "To postpone the notifications sent to employees who receive
          the document in their electronic vault by a number of days between 1 and 10 (0, default)"
        paper_configuration:
          type: "string"
          description: "Paper configuration required to define how to send the
          documents to the user by mail. Please liaise with the project manager
          responsible of your account to get the lists of configurations. E.g.: envelope format, stamp, ..."
        group_paper_mailing:
          type: "boolean"
          description: "When several documents are sent to a same employee by mail,
          should the documents be sent together (`true`, default) of sent individually (`false`)?"
        restrict_access_to_group:
          type: "string"
          description: "Only users added to this group code can access the project"
        send_package_to_specific_organization:
          type: "boolean"
          description: "When the paper configuration specifies that documents for employees
          within the same organization should be sent via a package to their organization,
          this parameter (when set to `true`) allows to specify a different address to
          redirect all packages to a specific organization (`false`, default)"
        user_id:
          type: "string"
          description: "ID of the user for who the project is created"
        automatic_validation:
          type: "boolean"
          description: "Should the project be automatically validated if no errors
          are found (`true`) or wait for a manual validation (`false`, default)?"
        package_first_name:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the first name of the recipient"
        package_last_name:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the last name of the recipient"
        package_address:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the first field of the address of the recipient. E.g.: Acme"
        package_address_2:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the second field of the address of the recipient. E.g.: Building 9"
        package_address_3:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the third field of the address of the recipient. E.g.: 10 Clifton Avenue"
        package_postcode:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the postcode of the address of the recipient"
        package_city:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the city of the address of the recipient"
        package_country:
          type: "string"
          description: "ISO 3166-1 alpha-2 (https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code. If `send_package_to_specific_organization` is set to `true`,
          specifies the country of the address of the recipient"
        package_contact:
          type: "string"
          description: "If `send_package_to_specific_organization` is set to `true`,
          specifies the phone number in international format or the email address of
          the person responsible to receive the package if it can't be delivered. E.g.: john.doe@acme.com"
        has_paper_configuration_recipient_contact_been_used:
          type: "boolean"
          description: "If `send_package_to_specific_organization` is set to `false`,
          overwrites the contact of the person responsible to receive the package
          if it can't be delivered to the employees' organizations. The recipient contact
          defined in the paper configuration is implemented during the setup phase."
    
    DistributionProjectComputedFields:
      type: "object"
      properties:
        id:
          type: "integer"
          description : "ID of the distribution project"
        status:
          type: "string"
          description : "Status of the Project. Can be one of: `new`, `preparing_documents`,
          `integrating_documents`, `waiting_for_validation`, `validated`, `building_campaigns`,
          `sending_notifications`, `sending_to_mypeopledoc`, `completed`, `canceled`, `error`"
    
    DistributionProjectFull:
      allOf:
        -
          $ref: "#/definitions/DistributionProjectBase"
        -
          $ref: "#/definitions/DistributionProjectComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    DistributionCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DistributionProjectBase"

    DistributionBase:
      type: "object"
      required:
        - name
        - distribution_type_id
        - distribution_project_id
        - file_id
      properties:
        name:
          type: "string"
          description : "The name of the Distribution inside the Distribution Project"
        distribution_type_id:
          type: "string"
          description: "ID of the distribution type. The distribution types
          are defined during the implementation phase and the IDs will be provided at that stage"
        distribution_project_id:
          type: "string"
          description: "ID of the Distribution Project to attach the Distribution to"
        file_id:
          type: "string"
          description: "Spool of files, previously uploaded, to be distributed to the employees"
        distribution_error:
          readOnly: true
          allOf:
            -
              $ref: "#/definitions/DistributionError"
    
    DistributionComputedFields:
      type: "object"
      properties:
        id:
          type: "integer"
          description : "ID of the Distribution"
        status:
          type: "string"
          description : "Status of the Distribution. Can be one of: `new`, `preparing_documents`,
          `integrating_documents`, `waiting_for_validation`, `validated`, `building_campaigns`,
          `sending_notifications`, `sending_to_mypeopledoc`, `completed`, `canceled`, `error`,
          `deleted`"
    
    DistributionMarkAsDonePayload:
      type: "object"
      required:
          - success_count
          - flow_id
      properties:
        success_count:
          type: "integer"
          description: "Number of documents in success after being processed by Flow"
        flow_id:
          type: "string"
          description: "Flow ID attached to the Distribution"
    
    DistributionMarkAsErrorPayload:
      type: "object"
      required:
          - code
          - message
      properties:
        code:
          type: "string"
          description: "Flow error code"
        message:
          type: "string"
          description: "Flow error message"
          example: "Missing an address for user: %(firstname)s, line: %(line)s"
        context:
          allOf:
            -
              $ref: "#/definitions/DistributionErrorContext"
    
    DistributionErrorContext:
      type: "object"
      description: "Additional context related to the error message"
      title: "DistributionErrorContext"
      properties:
        key:
          type: "string"
          description: "Placeholder in the error message or additional information about the error"
      example:
        firstname: "david"
        line: "100"
    
    DistributionError:
      type: "object"
      description: "Error data related to a distribution"
      title: "DistributionError"
      required:
        - id
        - message
        - error_type
        - code
        - created_at
      properties:
        id:
          type: "string"
          description: "ID of the error"
        message:
          type: "string"
          description: "Message describing the error"
          example: Missing an address for user X
        error_type:
          type: "string"
          description: "Type of the error"
          enum:
            - external
            - internal
        code:
          type: "string"
          description: "Error code describing the error"
          example: MISSING_USER_ADDRESS
        created_at:
          type: "string"
          format: "date-time"
          description: "Timestamp of the error creation"
    
    DistributionFull:
      allOf:
        -
          $ref: "#/definitions/DistributionBase"
        -
          $ref: "#/definitions/DistributionComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Delivery Campaign related Objects
    DeliveryCampaignBase:
      type: "object"
      properties:
        id:
          type: "string"
          description: "`ID` of the campaign"
        campaign_id:
          type: "string"
          description: "`ID` of the campaign in Delivery (another UKG service)"
        acked_date:
          type: "string"
          format: "date-time"
          description: "Date when the campaign was acknowledged (i.e. confirmed as received)
          by the printer"
        processed_date:
          type: "string"
          format: "date-time"
          description: "Date when the campaign was printed by the printer"
        sent_date:
          type: "string"
          format: "date-time"
          description: "Date when the campaign was mailed by the printer"
        delivered_date:
          type: "string"
          format: "date-time"
          description: "Date when the campaign was delivered"
        failed_date:
          type: "string"
          format: "date-time"
          description: "Date when the campaign failed, null if no fail occurred"
        failed_message:
          type: "string"
          description: "Information about why the campaign failed."
        theoretical_fee:
          type: "object"
          description: "Theoretical fees associated with the campaign.
          The given object should represent the association between theoretical fees
          and the number of items subject to these fees.
          For instance, {\"1.20\": \"20\", \"1.50\": \"100\"} means that 20 items of this campaign
          were sent with a cost of 1.20 each and 100 items with a cost of 1.50.
          If the theoretical fee is null or unknown, a empty object can be given or the field can be left out.
          This field must only be set if the status is set to \"sent\"."
        parcels_tracking_links:
          type: "array"
          description: "A list of links to track sent parcels.
          If the links are not available or otherwise unknown,
          an empty list can be given or the field can be left out.
          This field must only be set if the status is set to \"sent\"."
          items:
            type: "string"
    
    DeliveryCampaignFull:
      allOf:
        -
          $ref: "#/definitions/DeliveryCampaignBase"
        -
          $ref: "#/definitions/Timestamps"


# Delivery Paper billing related Objects
    DeliveryMailingBillings:
      type: "object"
      properties:
        fees:
          type: "object"
          description: "Fees associated with the mailing.
          The given object details the association between fees
          and the number of items subject to these fees.
          For instance, {\"1.20\": \"20\", \"1.50\": \"100\"} means that 20 items of this campaign
          were sent with a cost of 1.20 each and 100 items with a cost of 1.50.
          If the fee is null or unknown, an empty object can be given or the field can be left out"
          example: "{\"1.20\": \"20\", \"1.50\": \"100\"}"
    
    DeliveryMailingBillingsFull:
      allOf:
        - $ref: "#/definitions/DeliveryMailingBillings"
        - $ref: "#/definitions/Timestamps"


# Token Objects
    TokenComputedFields:
      type: "object"
      required:
        - access_token
        - token_type
        - expires_in
      properties:
        access_token:
          type: "string"
          description: "Access Token generated following the JWT format, see https://jwt.io/"
        token_type:
          type: "string"
          description: "`bearer`"
        expires_in:
          type: "integer"
          description: "Expiration delay in seconds for the token"

    
    TokenFull:
      allOf:
        -
          $ref: "#/definitions/TokenComputedFields"
    
    JwtTokenCreatePayload:
      type: "object"
      required:
        - scope
      properties:
        expiration_delay:
          type: "string"
          description: "Expiration delay for the Token in seconds. If not passed, the expiration delay defined at the application level will be used. The expiration delay can not be longer than the application expiration delay."
        scope:
          type: "string"
          description: "Scope for the requested token, e.g.: user"
    
    JwtTokenFull:
      type: "object"
      properties:
        app:
          type: "string"
          description: "ID and name of the Token's application. Format: &lt;application_id&gt;:&lt;application_name&gt;"
        cid:
          type: "string"
          description: "Cliend ID for which the Token was generated"
        exp:
          type: "string"
          description: "Unix timestamp after which the Token will be marked as expired."
        iat:
          type: "string"
          description: "Unix timestamp of when the Token was generated"
        iss:
          type: "string"
          description: "Application that has generated the Token. By default novaauth"
        jti:
          type: "string"
          description: "Unique identifier of the Token. Format: UUID"
        scope:
          type: "string"
          enum:
            - admin
            - client
            - employee
            - guest
            - internal
            - partner
            - user
          description: "Scope for the requested Token."
        sub:
          type: "string"
          description: "ID of the employee/user for who the Token was generated if the scope is `employee` or `user`. ID of the guest for who the Token was generated if the scope is `guest`. If the scope is one of: `client`, `internal`, `partner`; ID of the application that generated the Token"


# Platform creations related Objects
    PlatformCreationBase:
      type: "object"
      required:
        - "name"
        - "title"
        - "subdomain"
        - "company_registration_number"
        - "template_id"
      properties:
        name:
          type: "string"
          maxLength: 50
          description: "Name of the client<br />
          Example: `acme`"
        title:
          type: "string"
          maxLength: 50
          description: "Name chosen by the client to refer to its portal<br />
          Example: `Acme HR Service Portal`"
        subdomain:
          type: "string"
          maxLength: 25
          description: "Subdomain chosen by the client that will be used in the URL to connect to the platform<br />
          Example: acme-hr-portal<br />
          Format: concatenation of lowercase letters, numbers and `-`<br />
          Max Length: 25 characters"
        company_registration_number:
          type: "string"
          description: "Company identification number in the country where it is based<br />
          Example: `123456789`"
        template_id:
          type: "string"
          description: "Platform creation model<br />
          Example: `acme`"
        partner_tag:
          type: "string"
          maxLength: 100
          description: "Additional information about the client.<br />
          Example: reseller code<br />
          Max Length: 100 characters"
        users:
          type: "array"
          items:
            $ref: "#/definitions/PlatformCreationUser"
    
    PlatformCreationUser:
      type: "object"
      required:
        - "firstname"
        - "lastname"
        - "email"
        - "id"
      properties:
        firstname:
          type: "string"
        lastname:
          type: "string"
        id:
          type: "string"
          description: "User unique identifier"
        email:
          type: "string"
          description: "Professional e-mail of the User"
        mobile_phone_number:
          type: "string"
          description: "Phone number (mobile preferably) of the user in the international format, without spaces or other separators. Example: 0001600000000."
    
    PlatformCreationComputedFields:
      type: "object"
      required:
        - "id"
        - "status"
        - "client_id"
        - "url"
      properties:
        id:
          type: "string"
          description: "Unique ID of the Platform creation task"
        status:
          type: "string"
          description: "Status of the Platform creation (`in_progress`, `success`, `failed`)"
        client_id:
          type: "string"
          description: "Unique ID of the created client Platform"
        url:
          type: "string"
          description: "URL of the platform.<br />
          Example: `acme.eu.people-doc.com`"
    
    PlatformCreationMetadatas:
      type: "object"
      $ref: "#/definitions/PlatformCreationOauthInfo"
    
    PlatformCreationOauthInfo:
      type: "object"
      required:
        - "application_name"
        - "application_id"
        - "scope"
      description: "Platform Creation authentication information"
      properties:
        application_name:
          type: "string"
          description: "Name of the authenticated application"
        application_id:
          type: "string"
          description: "Unique ID of the authenticated application"
        scope:
          type: "string"
          description: "Scope of the token sent in request"
    
    PlatformCreationCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/PlatformCreationBase"
    
    PlatformCreationFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/PlatformCreationBase"
        -
          $ref: "#/definitions/PlatformCreationComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    


# Platform updates related Objects
    PlatformUpdatePayload:
      type: "object"
      required:
        - "config_update_id"
      properties:
        config_update_id:
          type: "string"

# Document generations related Objects
    Dataset:
      example:
        fields:
          - slug: "placeholder_string"
            value: "Mr/Ms"
          - slug: "placeholder_number"
            value: 42
          - slug: "placeholder_boolean"
            value: true
          - slug: "placeholder_custom_field_type_list"
            value:
              - label: "Label of my custom field"
                value: "value_of_my_custom_field"
          - slug: "placeholder_array"
            value:
              - "Employee"
              - "Manager"
              - "Director"
          - slug: "placeholder_date"
            value: "2020-10-01T03:00:00.000+01:00"
            type: "date"
          - slug: "table_placeholder_table"
            value:
              -
                - slug: "name"
                  value: "Anas"
                - slug : "role"
                  value: "PO"
              -
                - slug: "name"
                  value: "Yoan"
                - slug : "role"
                  value: "Dev"
              -
                - slug: "name"
                  value: "Matthieu"
                - slug : "role"
                  value: "Dev"
      required:
        - fields
      properties:
        fields:
          description: "Should contains all the placeholder fields found in the Template."
          type: "array"
          items:
            $ref: "#/definitions/DatasetField"
    
    FieldSet:
      example:
        fields:
          - slug: "placeholder_string"
          - slug: "placeholder_number"
          - slug: "placeholder_boolean"
          - slug: "placeholder_array"
          - slug: "placeholder_date"
      required:
        - fields
      properties:
        fields:
          description: "Contains all the placeholder fields found in the Template."
          type: "array"
          items:
            $ref: "#/definitions/FieldsetField"
    
    DatasetField:
      type: "object"
      required:
        - slug
        - value
      allOf:
        -
          $ref: "#/definitions/DatasetFieldSlug"
        -
          $ref: "#/definitions/DatasetFieldValue"
        -
          $ref: "#/definitions/DatasetFieldType"
    
    DatasetFieldSlug:
      type: "object"
      properties:
        slug:
          type: "string"
          description: "The placeholder field name found in the template without the leading $ character."
    
    DatasetFieldValue:
      type: "object"
      properties:
        value:
          type: "string"
          description: "The value that will replace the placeholder. It could be any primitive type (string, number, boolean, array)
          or an object containing a value and a label (which can be used to represent a custom field of type list for instance)."
    
    DatasetFieldType:
      type: "object"
      properties:
        type:
          type: "string"
          description: "This field is only meant to be present in case of the placeholder field is a date, therefore its value should be date."
          enum:
            - date
    
    FieldsetField:
      type: "object"
      required:
        - slug
      allOf:
        -
          $ref: "#/definitions/DatasetFieldSlug"
    
    FragmentFieldsetField:
      type: "object"
      required:
        - slug
      properties:
        slug:
          type: "string"
          description: "The name of the Fragment Field found in the Template."
        fragment_id:
          type: "string"
          description: "The Id of the injectable Template associated to the Fragment Field."
    
    GenerationInfo:
      type: "object"
      properties:
        code:
          type: "string"
          description: Type of errors
        field:
          type: "string"
          description: "Field configured in the document template which is invalid."
        message:
          type: "string"
          description: "Description of the error."
        severity:
          type: "string"
          description: "Criticity of the error. When strict is true, the field must be an exact match with the template. Otherwise the severity will be ERROR."
          enum:
            - ERROR
            - WARNING
    
    DocGenRequestPayload:
      type: "object"
      example:
        document_generation_template_id: "1f4d6b60-b3f8-44a6-afe2-45ed4c228e63"
        document_generation_template_version: 1
        output_format: "DOCX"
        context: "Generated by UKG"
        signature_field_generation: false
        fields:
          - slug: "placeholder_string"
            value: "Mr/Ms"
          - slug: "placeholder_number"
            value: 42
          - slug: "placeholder_boolean"
            value: true
          - slug: "placeholder_custom_field_type_list"
            value:
              label: "Label of my custom field"
              value: "value_of_my_custom_field"
          - slug: "placeholder_array"
            value:
              - "Employee"
              - "Manager"
              - "Director"
          - slug: "placeholder_date"
            value: "2020-10-01T03:00:00.000+01:00"
            type: "date"
          - slug: "table_placeholder_table"
            value:
              -
                - slug: "name"
                  value: "Anas"
                - slug : "role"
                  value: "PO"
              -
                - slug: "name"
                  value: "Yoan"
                - slug : "role"
                  value: "Dev"
              -
                - slug: "name"
                  value: "Matthieu"
                - slug : "role"
                  value: "Dev"
        fragment_fields:
          fragment_placeholder_1:
            - slug: "fragment_1_placeholder_string"
              value: "Mr/Ms"
            - slug: "fragment_1_placeholder_number"
              value: 42
            - slug: "fragment_1_placeholder_boolean"
              value: true
            - slug: "fragment_1_placeholder_array"
              value:
                - "Employee"
                - "Manager"
                - "Director"
            - slug: "fragment_1_placeholder_date"
              value: "2020-10-01T03:00:00.000+01:00"
              type: "date"
          fragment_placeholder_n:
            - slug: "fragment_n_placeholder_string"
              value: "Mr/Ms"
            - slug: "fragment_n_placeholder_number"
              value: 42
            - slug: "fragment_n_placeholder_boolean"
              value: true
            - slug: "fragment_n_placeholder_array"
              value:
                - "Employee"
                - "Manager"
                - "Director"
            - slug: "fragment_n_placeholder_date"
              value: "2020-10-01T03:00:00.000+01:00"
              type: "date"
        email_recipients:
          - firstname: "John"
            lastname: "Doe"
            email: "my@mail.com"
            language: "en-us"
      required:
        - document_generation_template_id
        - fields
        - output_format
      allOf:
        -
          $ref: "#/definitions/Dataset"
        -
          type: "object"
          properties:
            document_generation_template_id:
              type: "string"
              description: "The template id"
            document_generation_template_version:
              type: "integer"
              description: "The template version, if not passed the latest version will be used"
            output_format:
              type: "string"
              description: "The requested type of the document to generate. Must be available and activated for the specified template version."
              enum:
                - DOC
                - DOCX
                - ODT
                - PDF
            context:
              type: "string"
              description: "Information about the document generation context"
            signature_field_generation:
              type: boolean
              description: "If true and only if the requested output format is PDF, signature fields will be generated at the location of signature field placeholders, otherwise the signature field placeholders will be ignored"
            fragment_fields:
              type: "object"
              description: "Should contains a key named after all the fragment placeholders found in the template which are linked to a fragment that contains placeholders."
              properties:
                fragment_placeholder_1:
                  description: "Contains all the placeholder fields found in the fragment which is linked to the placeholder named fragment_placeholder_1."
                  type: "array"
                  items:
                    $ref: "#/definitions/FieldsetField"
                fragment_placeholder_n:
                  description: "Contains all the placeholder fields found in the fragment which is linked to the placeholder named fragment_placeholder_n."
                  type: "array"
                  items:
                    $ref: "#/definitions/FieldsetField"
            email_recipients:
              description: "Contains up to 5 recipients data if we want to send the generated document by email"
              type: "array"
              items:
                $ref: "#/definitions/EmailRecipient"
            employee_id:
              type: "string"
              description: "Employee id"
            document_type_id:
              type: "string"
              description: "Document type id"
    
    DocGenFull:
      type: "object"
      required:
        - id
        - format
        - document_generation_template_id
        - document_generation_template_version
        - created_at
      allOf:
      -
        $ref: "#/definitions/CreationTimestamp"
      -
        $ref: "#/definitions/UpdateTimestamp"
      -
        type: "object"
        properties:
          id:
            type: "string"
            format: "uuid"
            description: "The generated document id"
          format:
            type: "string"
            description: "The generated document format"
            default: "DOCX"
            enum:
              - DOCX
              - PDF
              - DOC
              - ODT
              - UNKNOWN
          document_generation_template_id:
            type: "string"
            description: "The template id"
          document_generation_template_version:
            type: "integer"
            description: "The version of the template used to generate the document"
          context:
            type: "string"
            description: "Information about the document generation context"
          upload_id:
            type: "string"
            format: "uuid"
            description: Temporary ID of the Uploaded File
          status:
            type: "string"
            description: "The generated document status"
            enum:
              - GENERATED
              - NOT_GENERATED
              - GENERATING
              - FAILED
              - CANCELED
          generation_started_at:
            type: "string"
            format: "date-time"
            description: "Timestamp of the start of the generation"
          generation_finished_at:
            type: "string"
            format: "date-time"
            description: "Timestamp of the end of the generation"
    
    DocGenFullWithErrors:
      type: "object"
      example:
        id: "69569c50-ad16-11e8-98d0-529269fb1459"
        created_at: "2016-08-23T11:20:31.825Z"
        format: "DOCX"
        document_generation_template_id: "1f4d6b60-b3f8-44a6-afe2-45ed4c228e63"
        document_generation_template_version: 1
        updated_at: "2016-08-23T11:20:31.825Z"
        upload_id: "9795a5b5-92ee-4ea9-a538-80751d163926"
        context: "Generated by UKG"
        status: "GENERATED"
        generation_started_at: "2016-08-23T11:20:29.825Z"
        generation_finished_at: "2016-08-23T11:20:30.825Z"
        errors:
          - code: "missing"
            message: "Document generated without replacing fragment footer1 because its reference was not found."
            field: "footer1"
          - code: "missing"
            message: "Document generated without replacing fragment header1 because its reference was not found."
            field: "header1"
      allOf:
      -
        $ref: "#/definitions/DocGenFull"
      -
        $ref: "#/definitions/ValidationErrors"
        description: generation errors
    
    
    DocGenTemplateBase:
      type: "object"
      required:
        - title
        - description
        - locale
        - format
        - enabled
      properties:
        title:
          type: "string"
          description: "The name of the template"
        description:
          type: "string"
          description: "A small text to describe the template"
        locale:
          type: "string"
          description: "The locale of the template content using the BCP 47 format"
        format:
          type: "string"
          description: "The template document format"
          enum:
            - DOCX
            - PDF
            - DOC
            - ODT
            - UNKNOWN
        enabled:
          type: "boolean"
          description: "A flag that describes if it is possible to generate a document using the template (default : true)"
        is_injectable:
          type: "boolean"
          description: "A flag that describes if the template can be used as a fragment injected inside a template (default : false)"
        validity_start_date:
          type: "string"
          format: "date-time"
          description: "Template validity start date. Start at the beginning of the day."
        validity_end_date:
          type: "string"
          format: "date-time"
          description: "Template validity end date End at the end of the day."
        active_version:
          type: "integer"
          description: "The active template version, the default value 0 means the template does not have yet a version of the template document marked as the active one."
    
    DocGenTemplateId:
      type: "string"
      format: "uuid"
      description: "The template id"
    
    DocGenTemplateComputedField:
      type: "object"
      allOf:
      -
        $ref: "#/definitions/Timestamps"
      -
        type: "object"
        properties:
          id:
            $ref: "#/definitions/DocGenTemplateId"
          latest_version:
            type: "integer"
            description: "The template version, 0 means the template has not a template document associated yet."
    
    DocGenTemplateFull:
      type: "object"
      example:
       id: "caa645b1-951f-4a50-abd0-b9957ded4729"
       title: "Employee Agreement IT security"
       description: "Template used as an employee agreement for IT processes"
       created_at: "2016-08-23T11:20:31.825Z"
       updated_at: "2017-08-23T11:20:31.825Z"
       validity_start_date: "2017-01-01T00:00:00.135+00:00"
       validity_end_date: "2017-12-31T23:59:59.991+00:00"
       latest_version: 5
       active_version: 3
       enabled: true
       is_injectable: false
       format: "PDF"
       locale: "en-en"
      allOf:
      -
        $ref: "#/definitions/DocGenTemplateBase"
      -
        $ref: "#/definitions/DocGenTemplateComputedField"
    
    DocGenTemplateVersionBase:
      type: "object"
      example:
        syntax_version: V1
        format: DOCX
        template_information: [
          {
            code: "ERR_FIELD_VALUE",
            field: "starting_date",
            message: "Date format is not correct",
            severity: "ERROR"
          }
        ]
        fragment_mapping:
          - slug: "header"
            fragment_id: "fragment1"
          - slug: "footer"
            fragment_id: null
      properties:
        format:
          type: "string"
          description: "The template document format"
          enum:
            - DOCX
            - PDF
            - DOC
            - ODT
            - UNKNOWN
        syntax_version:
          description: "Specifies which syntax version to use (the old syntax using mergefields is `V1`, the new syntax is `V2`)."
          type: "string"
          enum:
            - V1
            - V2
        template_information:
          description: "List of errors found in the document template."
          type: "array"
          items:
            $ref: "#/definitions/GenerationInfo"
        fragment_mapping:
          description: "Mapping between fragments used in the template version and its id"
          type: "array"
          items:
            $ref: "#/definitions/FragmentFieldsetField"
    
    DocGenTemplateVersionCreatePayload:
      type: "object"
      allOf:
      -
        $ref: "#/definitions/DocGenTemplateVersionBase"
    
    DocGenTemplateVersionComputedField:
      type: "object"
      example:
        version: 4
        created_at: "2020-10-01T03:00:00.000+01:00"
        updated_at: "2020-11-04T02:54:12.000+01:00"
        document_generation_template_id: "714aa11f-14ab-4382-971d-7265d3049fa9"
      allOf:
      -
        $ref: "#/definitions/Timestamps"
      -
        type: "object"
        properties:
          version:
            type: "integer"
            description: "The template version."
          document_generation_template_id:
            type: "string"
            format: "uuid"
            description: ID of the Template
    
    DocGenTemplateVersionFull:
      type: "object"
      example:
        version: 4
        created_at: "2015-10-01T03:00:00.000+01:00"
        updated_at: "2016-11-04T02:54:12.000+01:00"
        document_generation_template_id: "a4c3d2f1-b334-4cf3-af60-9799ec36e35a"
        syntax_version: V2
        format: DOCX
        output_format:
          {
            DOC: true,
            DOCX: true,
            ODT: false,
            PDF: true
          }
        template_information: [
          {
            code: "TEMPLATE_ERROR",
            message: "Section not ended. Name: else. Suggestions: Make sure section \"else\" is ended.",
            field: "",
            severity: "WARNING"
          }
        ]
        fragment_mapping:
          - slug: "header"
            fragment_id: "fragment1"
          - slug: "footer"
            fragment_id: null
      allOf:
        -
          $ref: "#/definitions/DocGenTemplateVersionBase"
    
        -
          type: "object"
          properties:
            output_format:
              type: "object"
              description: "The available and activated output formats for generation"
              $ref: "#/definitions/OutputFormatResponse"
        -
          $ref: "#/definitions/DocGenTemplateVersionComputedField"
    
    EmailRecipient:
      type: "object"
      properties:
        firstname:
          type: "string"
          description: "First name of the recipient"
        lastname:
          type: "string"
          description: "Last name of the recipient"
        email:
          type: "string"
          description: "Email address of the recipient"
        language:
          type: "string"
          description: "Language used for the email translation (code from cotech i18n spec)"

    DocGenRequestStatusResponse:
      type: "object"
      properties:
        status:
          type: "string"
          description: "Status of the generation request"
          enum:
            - PROCESSED
            - NOT_PROCESSED
            - RECEIVED_ASYNC
            - SENT_ASYNC
            - FAILED
    RequestListingDto:
      type: "object"
      properties:
        id:
          type: "string"
          description: "Unique ID of the generation request."
        status:
          type: "string"
          description: "Status of the generation request"
          enum:
            - PROCESSED
            - NOT_PROCESSED
            - RECEIVED_ASYNC
            - SENT_ASYNC
            - FAILED
        title:
          type: "string"
          description: "Title of the template used to generate document"
        created_at:
          type: "string"
          description: "Date of the request"
        generated_document_id:
          type: "string"
          description: "ID of generated document, when available"
        employee_id:
          type: "string"
          description: "Specified ID of the employee "
        employee_document_type_id:
          type: "string"
          description: "Specified document type for document generation"
        upload_id:
          type: "string"
          description: "UploadId returned by SAE, this one is needed to send to vault."

    DocGenTemplate:
      type: "object"
      example:
       id: "caa645b1-951f-4a50-abd0-b9957ded4729"
       title: "Employee Agreement IT security"
       description: "Template used as an employee agreement for IT processes"
       locale: "en-en"
       created_at: "2016-08-23T11:20:31.825Z"
       updated_at: "2017-08-23T11:20:31.825Z"
       format: "PDF"
       latest_version: 5
       active_version: 3
       validity_start_date: "2017-01-01T00:00:00.135+00:00"
       validity_end_date: "2017-12-31T23:59:59.991+00:00"
       enabled: true
       is_injectable: false
       active_version_syntax: "V1"
       restrictions: [ {
           "organization_id": "org-id-1",
           "include_children": true
         },
         {
           "organization_id": "org-id-2",
           "include_children": false
         } ]
      required:
        - title
        - description
        - locale
        - format
        - enabled
      allOf:
        -
          $ref: "#/definitions/Timestamps"
        -
          type: "object"
          properties:
            id:
              type: "string"
              description: "The template id"
            title:
              type: "string"
              description: "The name of the template"
            description:
              type: "string"
              description: "A small text to describe the template"
            locale:
              type: "string"
              description: "The locale of the template content using the BCP 47 format"
            format:
              type: "string"
              description: "The template document format"
              enum:
              - DOCX
              - PDF
              - DOC
              - ODT
              - UNKNOWN
            latest_version:
              type: "integer"
              description: "The template version, 0 means the template has not a template document associated yet."
            active_version:
              type: "integer"
              description: "The active template version, the default value 0 means the template does not have yet a version of the template document marked as the active one."
            validity_start_date:
              type: "string"
              format: "date-time"
              description: "Template validity start date. Start at the beginning of the day."
            validity_end_date:
              type: "string"
              format: "date-time"
              description: "Template validity end date End at the end of the day."
            enabled:
              type: "boolean"
              description: "A flag that describes if it is possible to generate a document using the template (default : true)"
            is_injectable:
              type: "boolean"
              description: "A flag that describes if the template can be used as a fragment injected inside a template (default : false)"
            active_version_syntax:
              type: "string"
              description: "The syntax version used on the active version. (the old syntax using mergefields is `V1`, the new syntax is `V2`). This parameter is not sent if the active version is 0"
              enum:
                - V1
                - V2
            restrictions:
              type: "array"
              description: "List of restrictions to apply to this template, only users form these organizations can interact with the template."
              items:
                $ref: "#/definitions/TemplateRestriction"
    
    LatestVersionFields:
      type: "object"
      example:
        latest_version_syntax:  V2
        latest_version_information: [
          {
            code: "TEMPLATE_ERROR",
            message: "Section not ended. Name: else. Suggestions: Make sure section \"else\" is ended.",
            field: "",
            severity: "WARNING"
          }
        ]
      properties:
        latest_version_syntax:
          type: "string"
          description: "The syntax version of the latest version."
          enum:
            - V1
            - V2
        latest_version_information:
          description: "List of errors found in the latest version of the template. This array is not returned if there are no errors."
          type: "array"
          items:
            $ref: "#/definitions/GenerationInfo"
    
    
    DocGenMigrationTemplate:
      allOf:
        -
          $ref: "#/definitions/DocGenTemplate"
        -
          $ref: "#/definitions/LatestVersionFields"
    
    TemplateRestriction:
      type: "object"
      properties:
        organization_id:
          type: "string"
          description: The organization id on which the restriction applies.
        include_children:
          type: "boolean"
          description: Whether the restriction should also apply to organization children.
    
    DocGenTemplatePayload:
      type: "object"
      example:
        - title: "Employee Agreement IT security"
          description: "Template used as an employee agreement for IT processes"
          enabled: true
          is_injectable: false
          validity_start_date: "2017-01-01T16:41:29.050+00:00"
          validity_end_date: "2027-12-31T16:41:29.050+00:00"
          locale: "en-en"
          restrictions: [ {
            "organization_id": "org-id-1",
            "include_children": true
            },
            {
              "organization_id": "org-id-2",
              "include_children": false
            } ]
      required:
        - title
        - description
        - locale
        - enabled
      properties:
        title:
          type: "string"
          description: "Name of the Template"
        description:
          type: "string"
          description: "Description of the Template"
        locale:
          type: "string"
          description: "Locale (defined in IETF BCP 47) of the Template"
        validity_start_date:
          type: "string"
          format: "date-time"
          description: "Template validity start date. Starts at the beginning of the day"
        validity_end_date:
          type: "string"
          format: "date-time"
          description: "Template validity end date. Ends at the end of the day"
        enabled:
          type: "boolean"
          description: "A flag that describes if it is possible to generate a document using the template (default: true)"
          default: true
        is_injectable:
          type: "boolean"
          description: "A flag that describes if the template can be used as a fragment injected inside a template (default : false)"
        restrictions:
          type: "array"
          description: "List of restrictions to apply to this template, only users form these organizations can interact with the template."
          items:
            $ref: "#/definitions/TemplateRestriction"
    
    DocGenTemplatePatchPayload:
      type: "object"
      example:
       title: "Employee Agreement IT security v2"
       description: "Template used as an employee agreement for IT processes, fixed using US version"
       enabled: true
       validity_start_date: "2017-01-01T16:41:29.050+00:00"
       validity_end_date: "2018-12-31T16:41:29.050+00:00"
       locale: "en-us"
       active_version: 4
       restrictions: [ {
           "organization_id": "org-id-1",
           "include_children": true
         },
         {
           "organization_id": "org-id-2",
           "include_children": false
         } ]
      properties:
        title:
          type: "string"
          description: "The name of the template"
        description:
          type: "string"
          description: "A small text to describe the template"
        locale:
          type: "string"
          description: "The locale of the template content using the BCP 47 format"
        format:
          type: "string"
          description: "The template document format"
          enum:
            - DOCX
            - PDF
            - DOC
            - ODT
            - UNKNOWN
        enabled:
          type: "boolean"
          description: "A flag that describes if it is possible to generate a document using the template"
        validity_start_date:
          type: "string"
          format: "date-time"
          description: "Template validity start date. Start at the beginning of the day."
        validity_end_date:
          type: "string"
          format: "date-time"
          description: "Template validity end date End at the end of the day."
        active_version:
          type: "integer"
          description: "The active template version, 0 means the template does not have a template document associated."
        restrictions:
          type: "array"
          description: "List of restrictions to apply to this template, only users form these organizations can interact with the template."
          items:
            $ref: "#/definitions/TemplateRestriction"
    
    DocGenTemplateVersion:
      type: "object"
      example:
        version: 4
        created_at: "2015-10-01T03:00:00.000+01:00"
        updated_at: "2016-11-04T02:54:12.000+01:00"
        document_generation_template_id: "a4c3d2f1-b334-4cf3-af60-9799ec36e35a"
        syntax_version: V2
        format: DOCX
        output_format:
          {
            DOC: true,
            DOCX: true,
            ODT: false,
            PDF: true
          }
        template_information: [
          {
            code: "TEMPLATE_ERROR",
            message: "Section not ended. Name: else. Suggestions: Make sure section \"else\" is ended.",
            field: "",
            severity: "WARNING"
          }
        ]
        fragment_mapping:
          - slug: "header"
            fragment_id: "fragment1"
          - slug: "footer"
            fragment_id: null
      allOf:
        -
          $ref: "#/definitions/Timestamps"
        -
          type: "object"
          properties:
            version:
              type: "integer"
              description: "The template version."
            document_generation_template_id:
              type: "string"
              format: "uuid"
              description: ID of the Template
            syntax_version:
              description: "Specifies which syntax version to use (the old syntax using mergefields is `V1`, the new syntax is `V2`)."
              type: "string"
              enum:
                - V1
                - V2
            format:
              type: "string"
              description: "The template document format"
              enum:
                - DOCX
                - PDF
                - DOC
                - ODT
                - UNKNOWN
            output_format:
               type: "object"
               description: "The available and activated output formats for generation"
               $ref: "#/definitions/OutputFormatResponse"
            template_information:
              description: "List of errors found in the document template. This array is not returned if there are no errors."
              type: "array"
              items:
                $ref: "#/definitions/GenerationInfo"
            fragment_mapping:
              description: "Mapping between fragments used in the template version and its id. This array is always returned even if it's empty."
              type: "array"
              items:
                $ref: "#/definitions/FragmentFieldsetField"
    
    DocGenTemplateVersionUpdatePayload:
      type: "object"
      example:
        syntax_version: V1
        format: DOCX
        output_format:
          {
            ODT: false,
            PDF: true
          }
        template_information: [
          {
            code: "ERR_FIELD_VALUE",
            field: "starting_date",
            message: "Date format is not correct",
            severity: "ERROR"
          }
        ]
        fragment_mapping:
          - slug: "header"
            fragment_id: "fragment1"
          - slug: "footer"
            fragment_id: null
      properties:
        format:
          type: "string"
          description: "The template document format"
          enum:
            - DOCX
            - PDF
            - DOC
            - ODT
            - UNKNOWN
        output_format:
          type: "object"
          description: "The activated/deactivated output formats for generation"
          $ref: "#/definitions/OutputFormatPatchRequest"
        syntax_version:
          description: "Specifies which syntax version to use (the old syntax using mergefields is `V1`, the new syntax is `V2`)."
          type: "string"
          enum:
            - V1
            - V2
        template_information:
          description: "List of errors found in the document template. This parameter will be absent if there are no errors"
          type: "array"
          items:
            $ref: "#/definitions/GenerationInfo"
        fragment_mapping:
          description: "Mapping between fragments used in the template version and its id"
          type: "array"
          items:
            $ref: "#/definitions/FragmentFieldsetField"
    
    DocgenTemplateVersionPatchPayload:
      type: object
      example:
        output_format:
          {
            ODT: false,
            PDF: true
          }
        fragment_mapping:
          - slug: "header"
            fragment_id: "fragment1"
          - slug: "footer"
            fragment_id: null
      properties:
        output_format:
          type: "object"
          description: "The activated/deactivated output formats for generation"
          $ref: "#/definitions/OutputFormatPatchRequest"
        fragment_mapping:
          description: "Mapping between fragments used in the template version and its id"
          type: "array"
          items:
            $ref: "#/definitions/FragmentFieldsetField"
    
    OutputFormatResponse:
      type: "object"
      properties:
        format:
          type: "string"
          description: Each key of this object is a format from the enum below. If the key is present then the format is available as an output. The value of the pair is a boolean that specifies if the format is activated or not. (true = activated).
          enum:
            - DOC
            - DOCX
            - ODT
            - PDF
    
    OutputFormatPatchRequest:
      type: "object"
      properties:
        format:
          type: "string"
          description: Each key of this object is a format from the enum below. It's possible to only specify the values you want to edit. The value of the pair is a boolean that specifies if the format is activated or not. (true = activated). In the example here we forbid ODT and allow PDF, all other output formats are not modified.
          enum:
            - DOC
            - DOCX
            - ODT
            - PDF

    DocGenMigrationCampaign:
      type: object
      example:
        status: "started"
        new_migration_available: false
      properties:
        status:
          type: "string"
          enum:
            - "created"
            - "started"
            - "completed"
            - "failed"
            - "canceled"
        new_migration_available:
          type: "boolean"
          description: "A flag that describes if a new migration can be started again.\nWill be true if the last migration failed or if a upgraded version of the migration tool has been made available since.\nIf true then migration can be started using the '/document_generations/syntax_migration/restart' endpoint."
    DocGenCampaignBase:
      type: "object"
      properties:
        title:
          type: "string"
          description: "Title of the campaign. It can be used to search for a specific campaign."
        creator_ref:
          type: "string"
          description: "Use to identify the user that created this campaign. It can be the user UUID, its name and so on."
        document_generation_template_id:
          type: "string"
          description: "ID of the template to use for the campaign."
        document_generation_template_version:
          type: "integer"
          description: "Version of the template to use for the generation. If it is not provided, the active version will be used."
        document_type_id:
          type: "string"
          description: "ID of the document type. This parameter is mandatory when 'output_action' is 'archive'."
        output_action:
          type: "string"
          description: "Action to perform once all the documents are generated.\n
          Choosing `zip` will create a zip file containing all the generated documents.\n
          Choosing `pdf` will create a single PDF file containing all the generated documents.\n
          Choosing `archive` will archive the generated documents to each related employee. `employee_id` in campaing data is mandatory in this case."
          enum:
            - zip
            - pdf
            - archive
    
    
    DocGenCampaignPayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DocGenCampaignBase"
        -
          type: "object"
          properties:
            data:
              type: "array"
              description: "List of dataset to inject in the template to generate documents."
              items:
                $ref: "#/definitions/CampaignData"
      required:
      - title
      - document_generation_template_id
      - output_action
      example:
        title: "My generation campaign"
        creator_ref: "john_doe"
        document_generation_template_id: "my-template-id"
        document_generation_template_version: 1
        output_action: "zip"
        data:
          - employee_id: "79d84aeb-951c-4554-b5d5-7a35f75b8197"
            ref: "my-ref-1"
            fields:
              - slug: "firstname"
                value: "Bertrand"
              - slug: "lastname"
                value: "Cournaud"
              - slug: "age"
                value: 78
            fragment_fields:
              fragment_placeholder_1:
                  - slug: "mySlug"
                    value: "myValue"
                  - slug: "myNumberSlug"
                    value: 42
              fragment_placeholder_2:
                  - slug: "anotherSlug"
                    value: "myValue2"
                  - slug: "anotherSlugNumber"
                    value: 44
          - employee_id: "1b35576e-5465-4a6b-bc31-561c66fe6a60"
            ref: "my-ref-2"
            fields:
              - slug: "firstname"
                value: "Maxime"
              - slug: "lastname"
                value: "Droy"
              - slug: "age"
                value: 12
            fragment_fields:
              fragment_placeholder_1:
                - slug: "mySlug"
                  value: "myValue"
                - slug: "myNumberSlug"
                  value: 42
            fragment_placeholder_2:
                - slug: "anotherSlug"
                  value: "myValue2"
                - slug: "anotherSlugNumber"
                  value: 44
    
    
    CampaignData:
      type: "object"
      properties:
        employee_id:
          type: "string"
          description: "`ID` of the Employee for whom the Document is generated.
          Mandatory if Campaign `output_action` is `archive`."
        ref:
          type: "string"
          description: "Identifier for this specific data inside the campaign.
          For instance, it can be the name + lastname of the employee for which the document is being generated."
        fields:
          type: "array"
          description: "Contains all the placeholder fields found in the template."
          items:
            $ref: "#/definitions/DatasetField"
        fragment_fields:
          type: "object"
          description: "Contains a key named after all the fragment placeholders found in the template which are linked to a fragment that contains placeholders."
          properties:
            fragment_placeholder_1:
              description: "Contains all the placeholder fields found in the fragment which is linked to the placeholder named fragment_placeholder_1."
              type: "array"
              items:
                $ref: "#/definitions/DatasetField"
            fragment_placeholder_n:
              description: "Contains all the placeholder fields found in the fragment which is linked to the placeholder named fragment_placeholder_n."
              type: "array"
              items:
                $ref: "#/definitions/DatasetField"
    
    
    
    
    DocGenCampaignResponse:
      type: "object"
      allOf:
      -
        type: "object"
        properties:
          id:
            type: "string"
            description: "Unique identifier of the campaign."
            format: "UUID"
      -
        $ref: "#/definitions/DocGenCampaignBase"
      -
        $ref: "#/definitions/Timestamps"
      -
        type: "object"
        properties:
          status:
            type: "string"
            description: "Status of the campaign. When a campaign is created it's asynchronously started right after."
            enum:
              - "created"
              - "started #Deprecated: use in_progress instead"
              - "in_progress"
              - "completed"
              - "failed"
              - "canceled"
          started_at:
            description: "Timestamp of the start of the campaign. It can be null if the campaign has not started."
            type: string
          ended_at:
            description: "Timestamp of the end of the campaign. It can be null if the campaign is not finished (with the state `completed` or `failed`)."
            type: string
      example:
        id: "1c3ed86f-464c-4972-973b-6cfc69e7f837"
        title: "My generation campaign"
        creator_ref: "john_doe"
        document_generation_template_id: "my-template-id"
        document_generation_template_version: 1
        output_action: "zip"
        created_at: "2016-08-23T11:20:31.825Z"
        updated_at: "2017-08-23T11:20:31.825Z"
        started_at: null
        ended_at: null
        status: "started"

    CsvCampaignData:
      type: "object"
      properties:
        ref:
          type: "string"
          description: "Line number in the CSV file."
        fields:
          type: "array"
          description: "Contains all the fields extracted from the CSV file."
          items:
            $ref: "#/definitions/DatasetField"
      example:
        ref: "1"
        fields:
          - slug: "employee_name"
            value: "John Doe"
          - slug: "employee_address"
            value: "21 Jump Str"
          - slug: "employee_city"
            value: "L.A"
          - slug: "employee_zipcode"
            value: 90001
          - slug: "contract_fulltime"
            value: true
          - slug: "job_title"
            value: "Engineer"
          - slug: "signer_name"
            value: "Michelle J. Thor"
          - slug: "date"
            value: "2017-07-11T00:00:00.000+00:00"
    
    
    CsvCampaign:
      type: "array"
      description: "List of all extracted fields from the CSV file.\n
      This response can be directly embedded in the payload used to create a new campaign, under the `data` name."
      items:
        $ref: "#/definitions/CsvCampaignData"
      example:
        - ref: "1"
          fields:
            - slug: "employee_name"
              value: "John Doe"
            - slug: "employee_address"
              value: "21 Jump Str"
            - slug: "employee_city"
              value: "L.A"
            - slug: "employee_zipcode"
              value: 90001
            - slug: "contract_fulltime"
              value: true
            - slug: "job_title"
              value: "Engineer"
            - slug: "signer_name"
              value: "Michelle J. Thor"
            - slug: "date"
              value: "2017-07-11T00:00:00.000+00:00"
        - ref: "2"
          fields:
            - slug: "employee_name"
              value: "James Doe"
            - slug: "employee_address"
              value: "22 Jump Str"
            - slug: "employee_city"
              value: "NYC"
            - slug: "employee_zipcode"
              value: 10001
            - slug: "contract_fulltime"
              value: true
            - slug: "job_title"
              value: "Product Owner"
            - slug: "signer_name"
              value: "Patricia E. Moor"
            - slug: "date"
              value: "2017-07-10T00:00:00.000+00:00"
    
    

    DocGenUpdateOrganization:
      type: "object"
      required: ["old_organization_id", "new_organization_id"]
      properties:
        old_organization_id:
          type: "string"
          description: "The organization id to update."
        new_organization_id:
          type: "string"
          description: "The new organization id."
      example:
        old_organization_id: "my-legacy-org-id"
        new_organization_id: "my-new-org-id"
    
    DocGenUpdateOrganizationResponse:
      type: "object"
      allOf:
        -
          type: "object"
          properties:
            updated_records:
              type: "integer"
              description: "Number of records updated in the database."
    
      example:
        updated_records: 96


# Mark related Objects
    MarkRequestToPdfPayload:
      type: "object"
      properties:
        dataset:
          type: "object"
          properties:
            employee:
              type: "string"
            origin:
              type: "string"
            priority:
              type: "string"
        language:
          type: "string"
      example:
        dataset:
          employee: "Mark Ruffalo"
          origin: "USA"
          priority: "high"
        language: "en"


# Orchestration related Objects
    OrchestrationClientId:
      type: "object"
      properties:
        client_id:
          type: "string"
          description: "ID of the client"
    
    OrchestrationMetasField:
      type: "object"
      description: "Additional information"
      properties:
        key:
          type: "string"
    
    OrchestrationTemplateSequences:
      type: "object"
      required:
        - id
        - steps
      properties:
        id:
          type: "string"
          description: "ID of the sequence"
          example: "source"
        next_handler_seq_id:
          type: "string"
          description: "ID of the next sequence to trigger"
          example: "aggregation_sequence"
        steps:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationTemplateSteps"
    
    OrchestrationTemplateSteps:
      type: "object"
      required:
        - type
      properties:
        type:
          type: "string"
          description: "Type of the step"
          example: "ApiCall"
        parameter_1:
          type: "string"
          description: "Parameter 1 of the step - depending of its type"
          example: "step_id"
        parameter_n:
          type: "string"
          description: "Parameter n of the step - depending of its type"
          example: "recipe"
    
    OrchestrationConfigurationsProperties:
      type: "object"
      required:
        - sftp
        - peopledoc
        - peopleask
      properties:
        sftp:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationConfigurationsPropertiesSFTP"
        peopledoc:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationConfigurationsPropertiesPeopleDoc"
        peopleask:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationConfigurationsPropertiesPeopleAsk"
        parameter_1:
          type: "string"
          description: "Optional additional configuration parameter 1"
        parameter_n:
          type: "string"
          description: "Optional additional configuration parameter n"
    
    OrchestrationConfigurationsPropertiesSFTP:
      type: "object"
      required:
        - directory
      properties:
        directory:
          type: "string"
          description: "UKG HR Service Delivery SFTP directory. Example: `/acme`"
    
    OrchestrationConfigurationsPropertiesPeopleDoc:
      type: "object"
      required:
        - api_key
        - subdomain
      properties:
        api_key:
          type: "string"
          description: "APIv1 token of UKG's document management platform"
        subdomain:
          type: "string"
          description: "Subdomain of UKG's document management platform. Example: `acme`"
    
    OrchestrationConfigurationsPropertiesPeopleAsk:
      type: "object"
      required:
        - api_key
        - subdomain
      properties:
        api_key:
          type: "string"
          description: "APIv1 token of UKG's request management platform (People Assist)"
        subdomain:
          type: "string"
          description: "Subdomain of UKG's request management platform. Example: `acme`"
    
    # ORCHESTRATION CONFIGURATIONS
    # ----------------------------
    
    OrchestrationConfigurationBase:
      type: "object"
      required:
        - properties
      properties:
        properties:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationConfigurationsProperties"
    
    OrchestrationConfigurationComputedFields:
      type: "object"
      required:
        - id
      allOf:
        - type: object
          properties:
            id:
              type: "string"
              description: "ID of the orchestration configuration"
    
    OrchestrationConfigurationFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationConfigurationComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationConfigurationCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationConfigurationBase"
    
    # ORCHESTRATION TEMPLATES
    # -----------------------
    
    OrchestrationTemplateBase:
      type: "object"
      required:
        - title
        - description
      properties:
        title:
          type: "string"
          description: "Title of the orchestration template"
          example: "my-rpa-template"
        description:
          type: "string"
          description: "Description of the orchestration template"
          example: "RPA template allowing to process data automatically"
        enabled:
          type: "boolean"
          description: "Deprecated - A flag that allows a user to start a new orchestration based on that template (default: true)"
        orchestration_error_count:
          type: "integer"
          description: "Number of orchestrations, based on this template, that ended with errors in the last three months"
          example: 10
        sequences:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationTemplateSequences"
          description: |
            Mandatory when creating a RPA custom template
        orchestration_master_template_id:
          type: "string"
          description: |
            ID of the master template used to create this template instance
            Mandatory when creating a RPA standard template
          example: "8fd370fc-0f4f-4b96-a6e1-0d76502316e3"
        attributes:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationTemplateAttributes"
          description: |
            List of RPA standard template attributes
            Mandatory when creating a RPA standard template
        aggregation_mode:
          type: "string"
          description: |
            Aggregation mode defines the format of the aggregated data (default: `legacy`)
            - `legacy`: The aggregated data will have a nested structure
            - `flat`: The aggregated data will have a flat structure
          enum: ["legacy", "flat"]
          example: "flat"
    
    OrchestrationTemplateBaseSimplified:
      type: "object"
      required:
        - title
        - description
      properties:
        title:
          type: "string"
          description: "Title of the orchestration template"
          example: "my-rpa-template"
        description:
          type: "string"
          description: "Description of the orchestration template"
          example: "RPA template allowing to process data automatically"
    
    OrchestrationTemplateSimplified:
      allOf:
        -
          $ref: "#/definitions/OrchestrationTemplateBaseSimplified"
        -
          $ref: "#/definitions/OrchestrationTemplateComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationTemplateComputedFields:
      type: "object"
      required:
        - id
        - status
        - template_type
      allOf:
        - type: object
          properties:
            id:
              type: "string"
              description: "ID of the orchestration template"
              example: "8fd370fc-0f4f-4b96-a6e1-0d76502316e3"
            status:
              type: "string"
              description: "Status indicating if the template is currently saved as a draft or ready to be triggered. Can be one of: `draft`, `runnable`"
              example: "draft"
            template_type:
              type: "string"
              description: "Type of the template. Can be one of: `standard`, `custom`"
              example: "custom"
            errors:
              type: "array"
              items:
                $ref: "#/definitions/OrchestrationTemplateErrors"
    
    OrchestrationTemplateFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationTemplateBase"
        -
          $ref: "#/definitions/OrchestrationTemplateComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationTemplateGetFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationTemplateFull"
        -
          $ref: "#/definitions/OrchestrationTemplateCreatedByUpdatedBy"
    
    OrchestrationTemplateCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationTemplateBase"
        - type: object
          $ref: "#/definitions/OrchestrationTemplateUserId"
    
    OrchestrationTemplateErrors:
      type: "object"
      required:
        - code
        - message
        - field
      properties:
        code:
          type: "string"
        message:
          type: "string"
        field:
          type: "string"
    
    OrchestrationTemplateAttributes:
      type: "object"
      required:
        - slug
        - value
      properties:
        slug:
          type: "string"
          description: "Slug of the attribute you are filling in"
          example: "csv-separator"
        value:
          type: "string"
          description: "Value the user is setting for this attribute"
          example: ";"
    
    OrchestrationTemplateRecipeSearchStepOccurrence:
      type: "object"
      required:
        - "step_id"
        - "step_type"
      properties:
        step_id:
          type: "string"
          description: "ID of the step"
          example: "create_employee_document"
        step_type:
          type: "string"
          description: "Type of the step"
          example: "ApiCall"
    
    OrchestrationTemplateRecipeSearchResult:
      type: "object"
      required:
        - client_id
        - orchestration_template_id
        - orchestration_template_title
        - orchestration_template_created_at
        - steps
      properties:
        client_id:
          type: "string"
          description: "ID of the client"
          example: "afa698d7-6790-45d5-9c87-bc39feaa1fbb"
        orchestration_template_id:
          type: "string"
          description: "ID of the orchestration template"
          example: "7661be4b-b406-476f-a378-93a7670a6cf3"
        orchestration_template_title:
          type: "string"
          description: "Title of the orchestration template"
          example: "Employee Documents Batch"
        orchestration_template_created_at:
          type: "string"
          format: "date-time"
          description: "Creation date time of the template"
        steps:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationTemplateRecipeSearchStepOccurrence"
          description: "List of steps matching the search criteria in this template"
    
    OrchestrationTemplateUserId:
      type: "object"
      properties:
        user_id:
          type: "string"
          description: "ID of the user creating/updating the template"
          example: "john.doe@ukg.com"
    
    OrchestrationTemplateCreatedByUpdatedBy:
      type: "object"
      properties:
        created_by:
          type: "string"
          description: "ID of the user who created the template"
          example: "john.doe@ukg.com"
        updated_by:
          type: "string"
          description: "ID of the user who created the template, or the user who last updated the template"
          example: "john.doe@ukg.com"
    
    # ORCHESTRATION MASTER TEMPLATES
    # ------------------------------
    
    OrchestrationMasterTemplateBase:
      type: "object"
      required:
        - title
        - description
        - model
        - attribute_blocks
      properties:
        title:
          type: "string"
          description: "Title of the master template"
          example: "Employee Documents Batch"
        description:
          type: "string"
          description: "Description of the master template"
          example: "Import batches of employee documents"
        model:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationMasterTemplateModel"
          description: "Model of the master template"
        attribute_blocks:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationMasterTemplateAttributeBlocks"
        aggregation_mode:
          type: "string"
          description: |
            Aggregation mode defines the format of the aggregated data (default: `legacy`)
            - `legacy`: The aggregated data will have a nested structure
            - `flat`: The aggregated data will have a flat structure
          enum: ["legacy", "flat"]
          example: "flat"
        status:
          type: "string"
          description: |
            Status defines the accessibility restriction of the master template (default: `published`)
            - `draft`: The master template will only be available on test platforms
            - `published`: The master template is available globally
          enum: ["draft", "published"]
          example: "published"
    
    OrchestrationMasterTemplateComputedFields:
      type: "object"
      required:
        - id
        - unclassified_attributes
      allOf:
        - type: object
          properties:
            id:
              type: "string"
              description: "ID of the orchestration template"
              example: "8fd370fc-0f4f-4b96-a6e1-0d76502316e3"
            unclassified_attributes:
              type: "array"
              items:
                $ref: "#/definitions/OrchestrationMasterTemplateUnclassifiedAttributes"
              description: "List of every unclassified attributes"
    
    OrchestrationMasterTemplateFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationMasterTemplateBase"
        -
          $ref: "#/definitions/OrchestrationMasterTemplateComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationMasterTemplateGetFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationMasterTemplateFull"
        -
          $ref: "#/definitions/OrchestrationTemplateCreatedByUpdatedBy"
    
    OrchestrationMasterTemplateCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationMasterTemplateBase"
        - type: object
          $ref: "#/definitions/OrchestrationTemplateUserId"
    
    OrchestrationMasterTemplateModel:
      type: "object"
      required:
        - id
        - steps
      properties:
        id:
          type: "string"
          description: "ID of the sequence"
          example: "8fd370fc-0f4f-4b96-a6e1-0d76502316e3"
        steps:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationMasterTemplateModelSteps"
    
    OrchestrationMasterTemplateModelSteps:
      type: "object"
      required:
        - type
      properties:
        type:
          type: "string"
          description: |
            Type of the model block
            - `Simple`: the step will be present in every standard template created based on the master template
            - `Selectable`: the steps will be added depending on the evaluation of the expression
            - `Skipable`: the step will be skipped depending on the evaluation of the expression
          enum: ["Simple", "Selectable", "Skipable"]
          example: "Skipable"
        expression:
          type: "string"
          description: "Mandatory if type is `Skipable`"
          example: "csv_encrypted"
        step:
          type: "object"
          description: "Mandatory if type is `Simple` or `Skipable`"
          example:
            type: "PGPDecryption"
            step_id: "DECRYPT"
            attachment_id: "${SAE_DOWNLOAD.attachment.id}"
        selection:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationMasterTemplateModelStepsSelection"
          description: "Mandatory if type is `Selectable`"
    
    OrchestrationMasterTemplateUnclassifiedAttributes:
      type: "object"
      required:
        - slug
        - type
      properties:
        slug:
          type: "string"
          description: "Slug of the attribute"
          example: "csv_encrypted"
        type:
          type: "string"
          description: "Type of the attribute"
          enum: ["Text", "Num", "Bool", "TextChoice", "NumChoice"]
          example: "Bool"
    
    OrchestrationMasterTemplateModelStepsSelection:
      type: "object"
      required:
        - expression
        - steps
      properties:
        expression:
          type: "string"
          description: "Evaluated expression determining if the steps will be selected"
        steps:
          type: "array"
          items:
            type: "object"
    
    OrchestrationMasterTemplateAttributeBlocks:
      type: "object"
      required:
        - name
        - description
      properties:
        name:
          type: "string"
          description: "Name of the attribute block"
          example: "Input file information"
        description:
          type: "string"
          description: "Description of the attribute block"
          example: "Information related to the input file format"
        attributes:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationMasterTemplateAttributes"
    
    OrchestrationMasterTemplateAttributes:
      type: "object"
      required:
        - slug
        - name
        - description
        - default
      properties:
        slug:
          type: "string"
          description: "Technical code of the attribute"
          example: "csv_encrypted"
        name:
          type: "string"
          description: "Name of the attribute"
          example: "CSV encrypted"
        description:
          type: "string"
          description: "Description of the attribute"
          example: "Tick this parameter if the CSV file is encrypted"
        type:
          type: "string"
          description: "Type of the attribute"
          enum: ["Text", "Num", "Bool", "TextChoice", "NumChoice"]
          example: "Bool"
        default:
          type: "string"
          description: "Default value of the attribute"
          example: "UTF8"
        choices:
          type: "array"
          items:
            type: "string"
          description: "Mandatory if attribute type is `TextChoice` or `NumChoice`"
          example:
            - "Yes"
            - "No"
    
    # ORCHESTRATIONS
    # --------------
    
    OrchestrationBase:
      type: "object"
      required:
        - orchestration_template_id
        - content
      properties:
        orchestration_template_id:
          type: "string"
          description: "The linked orchestration template ID"
        content:
          type: "string"
          description: "Content used as the first message to start the orchestration"
    
    OrchestrationComputedFields:
      type: "object"
      required:
        - id
        - status
        - errors
        - template_snapshot
        - statuses_history
      allOf:
        - type: object
          properties:
            id:
              type: "string"
              description: "ID of the orchestration configuration"
            status:
              type: "string"
              description: "Status of the orchestration. Can be one of: `created`, `picked`, `started`, `ended`, `error`, `failed_unexpectedly`"
            stored_attachments:
              type: "array"
              items:
                $ref: "#/definitions/OrchestrationStoredAttachments"
            errors:
              type: "array"
              items:
                $ref: "#/definitions/OrchestrationErrors"
            template_snapshot:
              type: "object"
            statuses_history:
              type: "array"
              items:
                $ref: "#/definitions/OrchestrationStatuses"
            tag_codes:
              type: "array"
              items:
                type: "string"
              example:
                - "my_tag_1"
                - "my_tag_2"
              description: "List of tag codes generated by the orchestration execution"
    
    
    OrchestrationEmbed:
      type: "object"
      properties:
        orchestration_template:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationTemplateSimplified"
    
    OrchestrationStatuses:
      type: "object"
      required:
        - status
        - date_time
      properties:
        status:
          type: "string"
          description: "Code of the status. Can be one of: `created`, `picked`, `started`, `ended`, `error`, `failed_unexpectedly`"
        date_time:
          type: "string"
          format: "date-time"
          description: "When the status changed"
    
    OrchestrationErrors:
      type: "object"
      required:
        - step_result_id
        - step_id
        - error
      properties:
        step_result_id:
          type: "string"
          description: "ID of the step result where the error occurred"
        step_id:
          type: "string"
          description: "ID of the step where the error occurred"
        error:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationError"
    
    OrchestrationError:
      type: "object"
      required:
        - code
        - message
        - field_errors
      properties:
        code:
          type: "string"
        message:
          type: "string"
        field_errors:
          type: "array"
          items:
            $ref: "#/definitions/FieldError"
    
    OrchestrationStoredAttachments:
      type: "object"
      required:
        - stored_attachment_id
        - filename
      properties:
        stored_attachment_id:
          type: "string"
          description: "ID of the stored attachment"
        filename:
          type: "string"
          description: "Filename of the stored attachment"
        error:
          type: "string"
          description: "Reason of the error, if the attachment was not correctly stored"
    
    OrchestrationFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationBase"
        -
          $ref: "#/definitions/OrchestrationComputedFields"
        -
          $ref: "#/definitions/OrchestrationEmbed"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationBase"
    
    OrchestrationCreateResponse:
      allOf:
        -
          $ref: "#/definitions/OrchestrationBase"
        -
          $ref: "#/definitions/OrchestrationComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    # ORCHESTRATIONS REVIEW
    # ---------------------
    
    OrchestrationReview:
      type: "object"
      required:
        - action
        - step_result_ids
      properties:
        action:
          type: "string"
          description: "Action of the review"
          enum:
            - mark_as_reviewed
            - mark_as_error
        step_result_ids:
          type: "array"
          items:
            type: "string"
          description: "List of step results ID you want to mark as reviewed"
    
    # ORCHESTRATIONS REPORT
    # --------------------------
    
    OrchestrationEvent:
      type: "object"
      required:
        - exchange_id
        - orchestration_id
        - client_id
        - event_type
        - date_time
        - message_history
      properties:
        exchange_id:
          type: "string"
          description: "ID of the exchange popping the event"
        orchestration_id:
          type: "string"
          description: "ID of the orchestration"
        client_id:
          type: "string"
          description: "ID of the client"
        event_type:
          type: "string"
          description: "Type of the event"
          enum:
            - created
            - completed
            - failed
        date_time:
          type: "string"
          format: "date_time"
          description: "Date time of the event"
        message_history:
          type: "string"
          description: "The steps the element went through"
        body:
          type: "string"
          description: "Body data of the element associated to the event"
        error:
          type: "string"
          description: "Description of the error if the event represents an error"
        metas:
          type: "object"
          allOf:
            - $ref: "#/definitions/OrchestrationMetasField"
    
    OrchestrationReport:
      type: "object"
      required:
        - report
      properties:
        report:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationEvent"
    
    # ORCHESTRATIONS STEP RESULT
    # --------------------------
    
    OrchestrationStepResultBase:
      type: "object"
      required:
        - id
        - orchestration_id
        - step_id
        - indexes
        - tags
        - history
        - error
        - data_in
        - data_out
        - delivery_count
      properties:
        id:
          type: "string"
          description: "ID of the step result"
        orchestration_id:
          type: "string"
          description: "ID of the orchestration"
        step_id:
          type: "string"
          description: "ID of the step"
        indexes:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationStepResultIndex"
          description: "List of indexes for a split item"
        tags:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationStepResultTag"
          description: "List of tags associated to the step result"
        history:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationStepResultHistory"
          description: "List of previous steps and step results"
        error:
          type: "boolean"
          description: "Status of the step execution"
        data_in:
          type: "object"
          description: "Result of the step preparation"
        data_out:
          type: "array"
          items:
            type: "object"
          description: "Results of the step execution"
        delivery_count:
          type: "integer"
          description: "Number of delivery attempt for this step"
        review:
          type: "object"
          description: "Result of the step preparation"
          allOf:
            - $ref: "#/definitions/OrchestrationStepResultReview"
    
    OrchestrationStepResultIndex:
      type: "object"
      required:
        - step_id
        - value
      properties:
        step_id:
          type: "string"
        value:
          type: "string"
    
    OrchestrationStepResultHistory:
      type: "object"
      required:
        - step_id
        - step_result_id
      properties:
        step_id:
          type: "string"
          description: "ID of the step"
        step_result_id:
          type: "string"
          description: "ID of the step result"
    
    OrchestrationStepResultFull:
      allOf:
        -
          $ref: "#/definitions/OrchestrationStepResultBase"
        -
          $ref: "#/definitions/Timestamps"
    
    OrchestrationStepResultTag:
      type: "object"
      required:
        - code
        - value
      properties:
        code:
          type: "string"
          description: "Tag code"
          example: "my_tag"
        value:
          type: "string"
          description: "Tag value"
          example: "my_tag_value"
    
    OrchestrationStepResultReview:
      type: "object"
      required:
        - user_id
        - updated_at
      properties:
        user_id:
          type: "string"
          description: "Unique ID of the reviewer"
        updated_at:
          type: "string"
          format: "date-time"
          description: "Date time of the review"
    
    # ORCHESTRATIONS SFTP TRIGGER
    # ---------------------------
    
    OrchestrationSftpTriggerBase:
      type: "object"
      required:
        - "directory"
        - "orchestration_template_id"
        - "activated"
      properties:
        directory:
          type: "string"
          description: |
            Directory path to watch in order to trigger a RPA template.
            Example: `/directory/rpa-sftp`
        orchestration_template_id:
          type: "string"
          description: "The linked orchestration template ID"
        activated:
          type: "boolean"
          description: "A flag that allows a user to activate/deactivate an orchestration sftp trigger"
    
    OrchestrationSftpTriggerComputed:
      type: "object"
      required:
        - "id"
        - "status"
      properties:
        id:
          type: "string"
          description: |
            Unique id of the orchestration sftp trigger
          example: "5170421f-eb7a-4a2e-b6c7-1d49607f4c49"
        status:
          type: "object"
          description: "Status of the orchestration sftp trigger"
          $ref: "#/definitions/OrchestrationSftpTriggerStatus"
    
    OrchestrationSftpTriggerStatus:
      type: "object"
      required:
        - "code"
      properties:
        code:
          type: "string"
          description: "Status code. Can be either: `running`, `disabled` or `failure`"
        message:
          type: "string"
          description: "In case of `failure`, description of the error"
    
    OrchestrationSftpTriggerFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/OrchestrationSftpTriggerComputed"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/OrchestrationSftpTriggerBase"
    
    OrchestrationSftpTriggerCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationSftpTriggerBase"
    
    OrchestrationSftpTriggerDirectoryContent:
      type: "object"
      required:
        - "status"
        - "content"
      properties:
        status:
          type: "string"
          description: |
            Status code.
            Can be either: `ok`, `not_accessible` if the path does not exist or is not a folder or `invalid_rights` if the folder in not readable and writable (documents inside won't be processable)
          enum: ["ok", "not_accessible", "invalid_rights"]
        content:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationSftpTriggerDirectoryContentList"
          description: "List of files inside the directory"
    
    OrchestrationSftpTriggerDirectoryContentList:
      type: "object"
      required:
        - "filename"
        - "filesize"
        - "status"
        - "updated_at"
      properties:
        filename:
          type: "string"
          description: "Name of the file"
          example: "data.csv"
        filesize:
          type: "string"
          description: "Size of the file in octet"
          example: "1000"
        status:
          type: "string"
          description: "Status code"
          enum: ["ready", "in_transfer", "too_big", "empty", "invalid_rights"]
        updated_at:
          type: "string"
          format: "date-time"
          description: "Date & time the file was last updated"
          example: "2020-04-24T17:31:43.523231Z"
    
    # ORCHESTRATIONS SCHEDULED TRIGGER
    # --------------------------------
    
    OrchestrationScheduledTriggerBase:
      type: "object"
      required:
        - "cron"
        - "orchestration_template_id"
        - "activated"
        - "reference_datetime_at"
      properties:
        cron:
          type: "string"
          description: |
            CRON format string that tells how often a scheduling should be run.
            Example: `0/30 * * * * ? *`
        reference_datetime_at:
          type: "string"
          format: "date-time"
          description: "Date & time of the previous trigger. When setting a new trigger up, it will be used as the trigger start date"
        timezone:
          type: "string"
          description: |
            Code of the timezone you want the trigger to follow. It follows the Area/Location format.
            You can find more details on accepted timezones [here](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TimeZone.html).
            Example: America/New_York. Defaults to GMT
        orchestration_template_id:
          type: "string"
          description: "The linked orchestration template ID"
        activated:
          type: "boolean"
          description: "A flag that allows a user to activate/deactivate an orchestration scheduled trigger"
    
    OrchestrationScheduledTriggerComputed:
      type: "object"
      required:
        - "id"
      properties:
        id:
          type: "string"
          description: |
            Unique id of the orchestration scheduled trigger.
            Example: `5170421f-eb7a-4a2e-b6c7-1d49607f4c49`
        next_schedules:
          type: "array"
          items:
            type: "string"
            format: "date-time"
          minItems: 5
          maxItems: 5
          description: "List of the five following scheduled triggers"
    
    OrchestrationScheduledTriggerFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/OrchestrationScheduledTriggerComputed"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/OrchestrationScheduledTriggerBase"
    
    OrchestrationScheduledTriggerCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationScheduledTriggerBase"
    
    # ORCHESTRATIONS SAGE WEBHOOK TRIGGER
    # ---------------------------
    
    OrchestrationSageWebhookTriggerBase:
      type: "object"
      required:
        - "orchestration_template_id"
        - "activated"
      properties:
        orchestration_template_id:
          type: "string"
          description: "The linked orchestration template ID"
        activated:
          type: "boolean"
          description: "A flag that allows a user to activate/deactivate an orchestration sage webhook trigger"
    
    OrchestrationSageWebhookTriggerComputed:
      type: "object"
      required:
        - "id"
      properties:
        id:
          type: "string"
          description: |
            Unique id of the orchestration sage webhook trigger
          example: "5170421f-eb7a-4a2e-b6c7-1d49607f4c49"
    
    OrchestrationSageWebhookTriggerFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/OrchestrationSageWebhookTriggerComputed"
        -
          $ref: "#/definitions/Timestamps"
        -
          $ref: "#/definitions/OrchestrationSageWebhookTriggerBase"
    
    OrchestrationSageWebhookTriggerCreate:
      allOf:
        -
          $ref: "#/definitions/OrchestrationSageWebhookTriggerBase"
    
    # ORCHESTRATIONS STEP TYPES
    # -------------------------
    
    OrchestrationStepType:
      type: "object"
      required:
        - "step_type_id"
        - "category"
        - "parameters"
      properties:
        step_type_id:
          type: "string"
          description: "`ID` of the step type"
        category:
          type: "string"
          description: "Can be either `action` or `control`"
        parameters:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationStepTypeParameter"
          description: "List of step type parameters"
    
    OrchestrationStepTypeParameter:
      type: "object"
      required:
        - "id"
        - "type"
        - "optional"
      properties:
        id:
          type: "string"
          description: "`ID` of the property"
        type:
          type: "string"
          description: "Data type of the property. Can be either `string`, `number`, `boolean`, `Recipe`, `Sequence`, `array` or `object`"
        optional:
          type: "boolean"
          description: "A flag indicating if the parameter is optional (`true`) or mandatory (`false`)"
        items:
          $ref: "#/definitions/OrchestrationStepTypeParameter"
          description: "Describe the content of an `array` property"
        properties:
          type: "array"
          items:
            $ref: "#/definitions/OrchestrationStepTypeParameter"
          description: "Describe the content of an `object` property"


# Feature flags related Objects
    FeatureFlagBase:
      type: object
      properties:
        id:
          type: string
          readOnly: true
          description: >
            The name of the Feature Flag
    
    FeatureFlag:
      allOf:
        - $ref: '#/definitions/FeatureFlagBase'
        - type: object
          properties:
            description:
              type: string
              readOnly: true
              description: "Short explanation of what the feature flag does"
              maxLength: 255
            scopes:
              type: array
              readOnly: true
              description: "Only scopes defined here are used"
              items:
                type: string
                enum:
                  - global
                  - client
                  - user
            default:
              type: boolean
              readOnly: true
              description: >
                Default value for the Flag. This value is only taken into account if
                no value is set for `global_flag`, if no value is set for the current
                client in `client_flags`, and if no value is set for the current user in
                `user_flags`
            global_flag:
              type: boolean
              description: >
                As `client_flags` and `user_flags` could apply only to a certain set
                of resources, the value of the `global_flag` will be taken into
                account for all the other resources
            client_flags:
              type: object
              description: >
                Mapping of `{Client ID: Flag value}`. The `client_flags` will be
                taken into account only for the users not listed in `user_flags`
            user_flags:
              type: object
              description: >
                Mapping of `{User ID: Flag value}`. The User can be an Employee or
                a HR User
    
    FeatureFlagUser:
      allOf:
        - $ref: '#/definitions/FeatureFlagBase'
        - type: object
          properties:
            value:
              type: boolean
              readOnly: true
              description: value of the flag for the current User/Employee


# Archives related Objects
    ArchivePreparedPayload:
      type: "object"
      properties:
        reference:
          description: "SAE `ID` of the Archive file (required if `error` is not provided)"
          type: "string"
        from:
          type: "array"
          description: "Documents SAE `IDs` grouped in the Archive (required if `error` is not provided)"
          items:
            type: "string"
        error:
            type: "string"
            description: "Error reported by the SAE."


# Accounts related Objects
    AccountBase:
      properties:
        email:
          type: string
          description: "Email associated with the Account. The `email` is mandatory
          except if a `saml_token` is provided"
        scope:
          type: string
    
    AccountComputedFields:
      required:
        - id
      properties:
        id:
          type: string
          description: "Account ID"
        has_saml_token:
          readOnly: true
          type: "boolean"
          description: "Indicate whether the account has a saml_token (`true`) or not (`false`)."
    
    AccountUpdateFields:
      type: object
      properties:
        password:
          type: string
          description: "Password of the Account. The password is not returned in the details of an account for security reasons"
        password_policy:
          type: object
          description: "Password Policy to apply for this account (complexity, ttl, length).
          Each parameter of the Policy is optional. The password is then checked against this Policy.
          The password policy is not returned in the details of an account"
        saml_token:
          type: string
          description: "(required if the client uses a SAML IdP for managing user connections)
          ID of the user account for the client IdP. This value should match (exactly)
          the content of the NameID tag of the Assertion sent by the IdP during the SAMLv2 login workflow.
          The SAML token is not returned in the details of an account for security reasons"
    
    AccountCreatePayload:
      type: "object"
      required:
        - scope
      allOf:
        -
          $ref: "#/definitions/AccountUpdatePayload"
    
    AccountUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/AccountBase"
        -
          $ref: "#/definitions/AccountUpdateFields"
    
    AccountFull:
      required:
        - email
        - scope
      type: "object"
      allOf:
        -
          $ref: "#/definitions/AccountBase"
        -
          $ref: "#/definitions/AccountComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Saml related Objects
    SamlIdentityProviderBase:
      properties:
        activated:
          type: "boolean"
          default: false
          description: "The users will be asked to log in via the IdP only if it is active. Default: `false`"
        enable_sp_session:
          type: "boolean"
          default: false
          description: "Create session on HRSD SSO when authenticated with SAML Response."
        entity_id:
          type: "string"
          description: "URL present in the client Saml Identity Provider Metadata file in the top root xml tag (EntityDescriptor &gt; Entity)"
        name:
          type: "string"
          description: "Name of the Saml Identity Provider displayed in the admin interface"
        next_logout_url:
          type: "string"
          default: "http://www.people-doc.com/"
          description: "NovaAuth needs to redirect the user to an external URL (not a PeopleXXX url) after logout. Otherwise the user will be reconnected right away with the SAML mechanism. Default: `http://www.people-doc.com/`"
        scope:
          type: "string"
          default: ""
          enum: ["employee", "manager"]
          description: "HR users (manager) or employees (employee). Default: ''"
        sso_endpoint:
          type: "string"
          description: "URL to redirect the user to their Saml Identity Provider when the connection is SP initiated (available in the metadata under EntityDescriptor &gt; IDPSSODescriptor &gt; SingleSignOnService(Binding='urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'))"
        workflow_type:
          type: "string"
          default: null
          description: "Specify if the connection is SP or IdP initiated. The values are case-sensitive: ['IdP initiated', 'SP initiated']. Default: null."
          enum:
            - "IdP initiated"
            - "SP initiated"
        x509_certificate:
          type: "string"
          description: "Saml Identity Provider public key extracted from the metadata (available in the metadata under EntityDescriptor &gt; IDPSSODescriptor(signing) &gt; KeyInfo &gt; X509Data &gt; X509Certificate)"
    
    SamlIdentityProviderComputedFields:
      required:
        - id
      properties:
        id:
          type: string
          description: "Saml Identity Provider ID."
    
    SamlIdentityProviderCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SamlIdentityProviderBase"
    
    SamlIdentityProviderUpdatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SamlIdentityProviderBase"
    
    SamlIdentityProviderFull:
      required:
        - entity_id
        - name
        - sso_endpoint
        - x509_certificate
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SamlIdentityProviderComputedFields"
        -
          $ref: "#/definitions/SamlIdentityProviderBase"
        -
          $ref: "#/definitions/Timestamps"

    SamlCertificate:
      required:
        - id
        - name
      type: "object"
      properties:
        id:
          type: "string"
          description: "Key of certificate"
        name:
          type: "string"
          description: "Display name for the certificate from the NovaAuth configuration"


# Audit events related Objects
    EventActor:
      type: "object"
      required:
        - type
        - data
      properties:
        type:
          type: "string"
          enum:
            - "user"
            - "employee"
            - "application"
            - "system"
          description: "Type of the event. Can be `user`, `application` (when th event is triggered from an API call), or `system` (when the event is a result from an internal system action)"
          example: "user"
        name:
          type: "string"
          description: "The name of the actor, computed by the application, depending on actor type and actor data."
          example: "Bruce Thomas Wayne"
        data:
          type: "object"
          description: "Properties of the actor"
          example:
            id: "cfa58e23-7751-41d0-99b7-fe15b323b95c"
            firstname: "Bruce"
            middlename: "Thomas"
            lastname: "Wayne"
    
    EventBase:
      type: "object"
      required:
        - "id"
        - "type"
        - "created_at"
        - "actor"
        - "data"
      properties:
        id:
          type: "string"
          description: "The ID of the event"
          format: "uuid"
          example: "ba0851b6-902b-44fa-9e40-67ca09451125"
        type:
          type: "string"
          description: "The type of the event, following the format {resource_type}.{action}"
          example: "employee.created"
        name:
          type: "string"
          description: "The name of the resource, computed by the application, depending on resource type and data."
          example: "Bruce Thomas Wayne"
        created_at:
          type: "string"
          description: "The date at which the event happened. Follow the ISO 8601 format."
          format: "date-time"
          example: "2018-01-17T08:36:37.266+00:00"
        actor:
          type: "object"
          description: "The actor who triggered the event"
          $ref: "#/definitions/EventActor"
        data:
          type: "object"
          description: "Properties of the resource resulting form the event"
          example:
            id: "0d765092-2583-4fca-a54e-5ca6d286aaab"
            city: "Paris"
            email: "bruce.wayne@email.com"
            country: "France"
            address: "1 Av. des Champs-lyses"
            language: "fr-fr"
            lastname: "Wayne"
            zip_code: "75008"
            firstname: "Bruce"
            birth_date: "1939-03-30"
            created_at: "2021-02-25T08:36:45.016133+00:00"
            middlename: "Thomas"
            terminated: false
            updated_at: "2021-02-25T08:36:45.120588+00:00"
            external_id: "1111111111"
            starting_date: "2021-01-01"
            electronic_vault_activated: false
            electronic_payslips_opted_out: false
            paper_documents_distribution_enabled: false
            electronic_vault_subscription_enabled: true
            electronic_documents_distribution_enabled: false
    
    EventActionFilterComputedFields:
      type: "object"
      properties:
        application_name:
          type: "string"
          description: "code name of an application"
          example: "rh2"
        resources:
          type: "array"
          description: "list of resource types for an application"
          items: 
            type: "object"
            properties: 
              resource_name: 
                type: "string"
                description: "name of the resource type"
                example: "employee"
              actions:
                type: "array"
                description: "list of actions for a resource"
                example:
                  - "updated"
                  - "created"
                items:
                  type: "string"
    
    EventExportFields:
      type: "object"
      properties:
        Trigger Type:
          type: "string"
          enum:
            - "user"
            - "employee"
            - "application"
            - "system"
          description: "The type of the trigger."
          example: "user"
        Trigger:
          type: "string"
          description: "The name of the trigger."
          example: "Bruce Thomas Wayne"
        Action:
          type: "string"
          description: "Action performed on the affected item."
          example: "created"
        Item Type:
          type: "string"
          description: "The type of the affected item."
          example: "employee_document"
        Affected Item:
          type: "string"
          description: "The name of the affected item."
          example: "onboarding.pdf"
        Date:
          type: "string"
          description: "The date at which the event happened."
          format: "date-time"
          example: "17/01/2021 08:36"


# Templated email related Objects
    TemplatedEmailVariable:
      type: "object"
      required:
        - code
        - value
      properties:
        code:
          type: "string"
          description: "The property code as found in the template"
          example: "recipient_fullname"
        value:
          type: "string"
          description:  "The value that will replace the placeholder. It could be any primitive type: string, number, boolean, array or map depending on the property type and usage in the template"
          example: "Jean-Marc Hzni"
    
    
    TemplatedEmailAttachment:
      type: object
      required:
        - sae_file_id
      properties:
        sae_file_id:
          type: "string"
          description: "Existing SAE file ID to include in the email"
          example: "8fd3a548-dfa8-47d3-9465-5a5435cbf259"
        filename:
          type: "string"
          description: "If specified, override the filename of the attachment"
          example: "export.csv"
    
    
    TemplatedEmailBase:
      required:
        - email_template_id
        - language
        - recipients_emails
        - properties
      properties:
        email_template_id:
          type: "string"
          description: "Email Template ID"
          example: "hr_user_invitation"
        language:
          type: "string"
          description: |
            Language of the recipient. The email will be generated in this language.
            Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          example: "en-us"
        timezone:
          type: "string"
          description: "Optional timezone for rendering dates and times. In the form `Area/Location`, e.g. `America/New_York` or `Etc/GMT+1` see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones"
        recipients_emails:
          type: "array"
          example: ["employee@acme.com"]
          items:
            type: "string"
        properties:
          type: "array"
          description: "List of values for each variable property in the email template. This list depends on the email templates."
          items:
            $ref: "#/definitions/TemplatedEmailVariable"
        campaign_id:
          type: "integer"
          description: "ID of a previously created email campaign in Delivery. If this parameter is a valid campaign ID, the email will be added to the campaign and will be sent on campaign commit. If absent or null, the email will be sent independently as soon as possible."
          example: 3451345
        attachments:
          type: "array"
          description: "List of attachments to include in the email"
          items:
            $ref: "#/definitions/TemplatedEmailAttachment"
    
    
    
    EmailTemplateBase:
      type: object
      required:
        - title
        - layout
        - subject
        - body
        - properties
        - fragments
      properties:
        # Not yet I18n support for title and description
        title:
          type: "string"
          description: "Title of the email template"
          example: "Account creation invitation email for HR user"
        description:
          type: "string"
          description: "Short description of the email"
          example: "This email is sent after user creation to invite them on UKG HR Service Delivery platform. It contains a link to a page where the user can choose their password."
        layout:
          type: "string"
          description: |
            Layout of the email template.
            hr_layout: HR logo from garderobe, no support card.
            employee_layout: Employee logo from garderobe, no support card.
            employee_help_layout: Employee logo from garderobe, contains support card.
            https://people-doc.atlassian.net/wiki/spaces/DOCDEL/pages/211124283/Create+a+Mailcast+template
          enum:
            - "hr_layout"
            - "employee_layout"
            - "employee_help_layout"
        priority:
          type: "string"
          description: "Sending priority for emails sent with this template, high priority emails will be sent prior to default priority emails. Cf email messages doc. Default value is 'default'."
          enum: ["high", "default"]
          example: "default"
    
        subject:
          type: string
          description: "Text content of the email subject. May contain property and fragment codes placeholders."
          example: "{create_your_account_subject}"
        body:
          type: string
          description: "HTML content of the email. May contain property and fragment codes placeholders."
          example: "<div>{welcome_message}<br><p>{create_our_account_subject}</p></div>"
    
        properties:
          type: "array"
          description: "List of variables used in the email template. These variables must be passed when sending an email based on this template"
          items:
            type: object
            required:
              - code
              - type
              - example
              - description
            properties:
              code:
                type: "string"
                description: "Code of the property"
                example: "recipient_fullname"
              type:
                type: "string"
                description: "Type of the variable"
                enum:
                  - "string"
                  - "date"
                  - "datetime"
                  - "integer"
              example:
                type: "string"
                description: "example of a value for this variable"
                example: "John Doe"
              description:
                type: "string"
                description: "description of the variable"
                example: "Fullname of the recipient"
    
        fragments:
          type: "array"
          description: "list of fragments on the template. Each fragment has a default content per language"
          items:
            type: "object"
            required:
              - code
              - description
              - is_customizable
              - localized_default_content
            properties:
              code:
                type: "string"
                description: "Code of the fragment"
                example: "create_your_account_subject"
              description:
                type: "string"
                description: "description of the fragment"
                example: "Subject of the email"
              is_customizable:
                type: boolean
                description: "Whether this fragment can be overridden for a client"
              localized_default_content:
                type: "array"
                description: "Fragment default content in all available languages"
                items:
                  $ref: "#/definitions/LocalizedString"
                example:
                  - language_code: "fr-fr"
                    value: "Veuillez crer votre compte"
                  - language_code: "en-us"
                    value: "Please create your account"
    
    EmailTemplateComputedFields:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          description: "Friendly id of the email template"
          example: "hr_user_invitation"
    
    EmailTemplateFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmailTemplateBase"
        -
          $ref: "#/definitions/EmailTemplateComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    ###################
    
    CustomizedFragmentBase:
      type: "object"
      required:
        - fragment_code
        - customized_content
      properties:
        customized_content:
          type: "string"
          description: "Customized fragment content. When `null`, the `default_content` is used"
          example: "Welcome to the family!!! Follow these instructions to get on board"
        fragment_code:
          type: "string"
          description: "Code of the fragment"
          example: "create_our_account_subject"
    
    CustomizedFragmentComputedFields:
      type: "object"
      required:
        - default_content
      properties:
        default_content:
          type: "string"
          description: "Default fragment content for the language when `customized_text_value` is `null`"
          example: "Please create your account"
    
    
    CustomizedFragmentFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CustomizedFragmentBase"
        -
          $ref: "#/definitions/CustomizedFragmentComputedFields"
    
    LanguageCustomizedContentBase:
      type: object
      required:
        - customized_fragments
      properties:
        customized_fragments:
          type: "array"
          description: "List of customized fragments for a language"
          items:
            $ref: "#/definitions/CustomizedFragmentBase"
    
    LanguageCustomizedContentComputedFields:
      type: object
      required:
        - language
        - email_template_id
      properties:
        language:
          type: "string"
          description: "Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)"
          example: "en-us"
        email_template_id:
          type: "string"
          description: "ID of the email template"
          example: "hr_user_invitation"
    
    
    LanguageCustomizedContentFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/LanguageCustomizedContentBase"
        -
          $ref: "#/definitions/LanguageCustomizedContentComputedFields"
        -
          properties:
            customized_fragments:
              type: "array"
              description: "List of customized fragments for a language"
              items:
                $ref: "#/definitions/CustomizedFragmentFull"
    
    
    TemplatedEmailPreviewBase:
      type: "object"
      required:
        - language
      properties:
        email_template_id:
          type: "string"
          description: "Email Template ID"
          example: "hr_user_invitation"
        email_template:
          type: "object"
          description: "Email Template definition"
          $ref: "#/definitions/EmailTemplateBase"
        language:
          type: "string"
          description: |
            Language of the recipient. The email will be generated in this language.
            Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          example: "en-us"
        timezone:
          type: "string"
          description: "Optional timezone for rendering dates and times. In the form `Area/Location`, e.g. `America/New_York` or `Etc/GMT+1` see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones"
        properties:
          type: "array"
          description: "List of values for each variable property in the email template. This list depends on the email templates."
          items:
            $ref: "#/definitions/TemplatedEmailVariable"
        customized_fragments:
          type: "array"
          description: "List of customized fragments for a language"
          items:
            $ref: "#/definitions/CustomizedFragmentBase"


# Webhooks related Objects
    WebhookBase:
      type: "object"
      required:
        - name
        - callback_url
        - events
        - is_active
      properties:
        name:
          type: "string"
          description: "Name of the webhook"
          example: "My webhook to receive events on my application"
        callback_url:
          type: "string"
          description: |
            Destination URL for events. This should be a dedicated endpoint on your server that is set up to receive webhook notifications.
          example: "https://myapp.com/peopledoc-webhooks"
        events:
          type: array
          description: List of events or pattern of events to subscribe to on this webhook
          example:
            - "employee.created"
            - "signature.*"
          items:
            type: string
            description: Event type or pattern
        is_active:
          type: boolean
          description: "Indicates whether the webhook is activated or not. Only activated webhooks send callbacks to the callback_url"
          example: "true"
    
    
    WebhookComputedFields:
      type: "object"
      required:
        - signature_key
        - id
      properties:
        id:
          type: "string"
          description: "ID of the webhook"
          format: uuid
          example: 5cf2b3a3-04a0-418f-8d8c-914e543f44ea
        signature_key:
          description: "Our system will sign the webhook events it sends to your endpoints by including a signature in each events `X-Event-Signature` header. This allows you to validate that the events were sent by UKG HR Service Delivery, not by a third party. It is strongly recommended to verify signatures for each event you receive."
          type: "string"
          example: "stUIMviAfCGahM8kqp5EYa1aBLgZ22ES"
    
    WebhookCreatePayload:
      allOf:
        -
          $ref: "#/definitions/WebhookBase"
    
    WebhookFull:
      allOf:
        -
          $ref: "#/definitions/WebhookBase"
        -
          $ref: "#/definitions/WebhookComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Compliance related Objects
    CompliancePersonBase:
      type: "object"
      required:
        - lastName
        - firstName
      properties:
        lastName:
          type: "string"
          description: "Last Name"
          example: "Doe"
        firstName:
          type: "string"
          description: "First Name"
          example: "Jane"
        middleInitial:
          type: "string"
          description: "Middle Initial"
          example: "M"
        middleName:
          type: "string"
          description: "Middle Name"
          example: "Mary"
        aliasFirstName:
          type: "string"
          description: "Alias First Name"
          example: "Judy"
        aliasLastName:
          type: "string"
          description: "Alias Last Name"
          example: "Bloom"
        dateOfBirth:
          type: "string"
          description: "Date Of Birth"
          example: "1987-04-21"
        emailPrimary:
          type: "string"
          description: "Email Primary"
          example: "jane.doe@example.com"
        emailSecondary:
          type: "string"
          description: "Email Secondary"
          example: "the-real-jane-doe@gmail.com"
    
    CompliancePersonSearch:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CompliancePersonBase"
      properties:
        employeeNumber:
          type: "string"
          description: "Employee Number"
          example: "302945"
    
    CompliancePersonSearchPayload:
      type: "object"
      required:
        - tenantId
        - personSearch
      properties:
        tenantId:
          type: "string"
          description: "Tenant id"
          example: "e6dcdc68-0c76-d076-7777-272136a77acf"
        personSearch:
          type: object
          $ref: "#/definitions/CompliancePersonSearch"
    
    CompliancePersonSearchPdoc:
      type: "object"
      properties:
        employeeId:
          type: "string"
          description: "Employee ID in UKG HR Service Delivery"
          example: "e6dcdc68-0c76-d076-7777-272136a77acf"
    
    CompliancePersonSearchCompanyInformation:
      type: "object"
      properties:
        employeeNumber:
          type: "string"
          description: "Employee Number"
          example: "302945"
        isTerminated:
          type: boolean
          description: "Is Terminated"
          example: "false"
        terminationDate:
          type: "string"
          description: "Termination Date"
          example: "1987-04-21T00:00.000Z"
        hasPension:
          type: boolean
          description: "Has Pension"
          example: "true"
        companyCode:
          type: "string"
          description: "Company Code"
          example: "123456789"
        companyName:
          type: "string"
          description: "Company Name"
          example: "Space, Inc."
        
    
    CompliancePersonSearchResponse:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CompliancePersonBase"
      properties:
        address:
          type: "string"
          description: "Address"
          example: "9423 Example Way, Apartment 2"
        addressCity:
          type: "string"
          description: "Address City"
          example: "Plantation"
        addressState:
          type: "string"
          description: "Address State"
          example: "FL"
        addressZip:
          type: "string"
          description: "Address Zip"
          example: "33025"
        addressCountry:
          type: "string"
          description: "Address Country"
          example: "USA"
        primaryPhone:
          type: "string"
          description: "Primary Phone"
          example: "5556067342"
        pdoc:
          type: object
          $ref: "#/definitions/CompliancePersonSearchPdoc"
        companyInformation:
          type: "array"
          items:
            $ref: "#/definitions/CompliancePersonSearchCompanyInformation"

# Deletion request related Objects
    DeletionRequestResource:
      type: "object"
      required:
        - resource_type
        - resource_id
      properties:
        resource_type:
          type: "string"
          description: "Resource type"
          example: "employee"
        resource_id:
          type: "string"
          description: "Resource id"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        resource_name:
          type: "string"
          description: "Name that will appear in the notifications"
          example: "John Doe"
        notification_recipient:
          type: "string"
          description: "Recipient of the deletion request notifications"
          example: "hr.manager@test.com"
    
    DeletionRequest:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DeletionRequestResource"
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "ID of the deletion request"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        status:
          type: "string"
          enum: [evaluating, preparing, canceled, processing, failed, completed]
          description: "Status of the deletion request"
          example: "evaluating"
        modules:
          type: "array"
          items:
            $ref: "#/definitions/DeletionRequestModuleFull"
        created_at:
          type: "string"
          format: "date-time"
          description: "The date at which the deletion request has been created."
          example: "2020-01-17T08:36:37.266+00:00"
        updated_at:
          type: "string"
          format: "date-time"
          description: "The date at which the deletion request has been updated."
          example: "2020-01-17T08:36:37.266+00:00"
    
    DeletionRequestModulePath:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          enum: [core, employee_file_management, electronic_signature, case_management, process_automation, advanced_document_generation, electronic_vault, advanced_analytics]
          description: "id of the module"
          example: "core"
    
    DeletionRequestModuleBody:
      type: "object"
      required:
        - status
        - resources
      properties:
        status:
          type: "string"
          enum: [allowed, rejected, done, error]
          description: "Status of the module"
          example: "allowed"
        resources:
          type: "array"
          items:
            $ref: "#/definitions/DeletionRequestModuleResource"
    
    DeletionRequestModuleFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DeletionRequestModulePath"
        - 
          $ref: "#/definitions/DeletionRequestModuleBody"
      properties:
        evaluated_resources:
          type: "array"
          items:
            $ref: "#/definitions/DeletionRequestModuleResource"
        created_at:
          type: "string"
          format: "date-time"
          description: "The date at which the deletion request module has been created."
          example: "2020-01-17T08:36:37.266+00:00"
        updated_at:
          type: "string"
          format: "date-time"
          description: "The date at which the deletion request module has been updated."
          example: "2020-01-17T08:36:37.266+00:00"
    
    DeletionRequestModuleResource:
      type: "object"
      required:
        - type
        - count
      properties:
        type:
          type: "string"
          description: "Related resource type"
          example: "related_resource"
        count:
          type: "string"
          description: "Number of resources held"
          example: "123"
        status:
          type: "string"
          description: "Status of the module resource"
          example: "..."

# Retention policies related Objects
    RetentionPolicyResourceFilters:
      type: "object"
      required:
        - field
        - values
      properties:
        field:
          type: "string"
          description: field name
          example: "document_type_id"
        values:
          type: array
          description: field values
          example:
            - "onboarding"
          items:
            type: string
            description: field value
    
    RetentionPolicyResources:
      type: "object"
      required:
        - resource_type
        - filters
      properties:
        resource_type:
          type: "string"
          description: Resource type affected by the retention policy
          enum:
            - "document"
            - "process"
            - "request"
            - "signature"
            - "employee"
          example: "document"
        filters:
          type: "array"
          description: Resource type specific filters
          items:
            $ref: "#/definitions/RetentionPolicyResourceFilters"
    
    RetentionPolicyTriggers:
      type: "object"
      required:
        - event_type
        - delay
      properties:
        event_type:
          type: "string"
          description: Event triggering the policy
          example: "employee.departure"
        delay:
          type: "string"
          description: Delay between the event and the application of the retention policy
          example: "P3Y"
    
    RetentionPolicyBase:
      type: "object"
      required:
        - name
        - enabled
        - resource_filters
        - employee_filters
        - triggers
      properties:
        name:
          type: "string"
          description: "Name of the retention policy"
          example: "Onboarding Retentions"
        enabled:
          type: boolean
          description: "Indicates whether the retention policy is active or not."
          example: "true"
        resource_filters:
          type: array
          description: List of resource types affected by the retention policy with their respective filters
          items:
            $ref: "#/definitions/RetentionPolicyResources"
        employee_filters:
          type: array
          description: List of specific employee filters
          items:
            $ref: "#/definitions/EmployeesPerimeterBase"
        triggers:
          type: array
          description: List of retention policy triggers
          items:
            $ref: "#/definitions/RetentionPolicyTriggers"
    
    RetentionPolicyComputedFields:
      type: "object"
      required:
        - id
      properties:
        id:
          type: "string"
          description: "ID of the retention policy"
          format: uuid
          example: 5cf2b3a3-04a0-418f-8d8c-914e543f44ea
    
    RetentionPolicyFull:
      allOf:
        -
          $ref: "#/definitions/RetentionPolicyComputedFields"
        -
          $ref: "#/definitions/RetentionPolicyBase"
        -
          $ref: "#/definitions/Timestamps"


# Privacy requests related Objects
    PrivacyDeletionRequest:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "ID of the privacy deletion request"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        event:
          type: "object"
          description: "Properties of the event"
          example:
            user: "USAee USA-CAN"
            userId: "c181ba2d-842f-4d6b-a14a-e19aaee06173"
            payload: "{...}"
            subject: "compliance.data-erasure-request.process-requested"
            tenantId: "e99f1cff-bd75-4086-b99b-8ca5cbf956f4"
            timestamp: "2021-10-11T08:18:20.718Z"
            dataCenter: "DLAS1"
            validation: "VALID"
            aggregateId: "00aebeff-eb68-4844-99d4-f9d068bcf75e"
            contentType: "application/json"
            correlationId: "e7db39dc-505c-486d-9e2e-b21528bdcd7d"
            schemaVersion: "2.1"
            effectiveDateTime: "2021-10-11T08:18:20.718Z"
        topic:
          type: "string"
          description: "Kafka topic"
          example: "development.business-events.cpp.compliance-events"
        deletion_request:
          $ref: "#/definitions/DeletionRequest"
        status:
          type: "string"
          enum: [evaluating, erasing, completed]
          description: "Status of the deletion request"
          example: "evaluating"
        error:
          type: "string"
          description: "Error message"
          example: "No client id and/or employee id in evaluation request"
        created_at:
          type: "string"
          format: "date-time"
          description: "The date at which the privacy deletion request has been created."
          example: "2020-01-17T08:36:37.266+00:00"
        received_at:
          type: "string"
          format: "date-time"
          description: "The date at which the privacy deletion request has been received."
          example: "2020-01-17T08:36:37.266+00:00"
        updated_at:
          type: "string"
          format: "date-time"
          description: "The date at which the privacy deletion request has been updated."
          example: "2020-01-17T08:36:37.266+00:00"
    
    PrivacyPortabilityRequest:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "ID of the privacy portability request"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        event:
          type: "object"
          description: "Properties of the event"
          example:
            user: "USAee USA-CAN"
            userId: "c181ba2d-842f-4d6b-a14a-e19aaee06173"
            payload: "{...}"
            subject: "compliance.data-portability-request.process-requested"
            tenantId: "e99f1cff-bd75-4086-b99b-8ca5cbf956f4"
            timestamp: "2021-10-11T08:18:20.718Z"
            dataCenter: "DLAS1"
            validation: "VALID"
            aggregateId: "00aebeff-eb68-4844-99d4-f9d068bcf75e"
            contentType: "application/json"
            correlationId: "e7db39dc-505c-486d-9e2e-b21528bdcd7d"
            schemaVersion: "2.1"
            effectiveDateTime: "2021-10-11T08:18:20.718Z"
        topic:
          type: "string"
          description: "Kafka topic"
          example: "development.business-events.cpp.compliance-events"
        client_id:
          type: "string"
          format: "uuid"
          description: "ID of the HRSD client"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        employee_id:
          type: "string"
          format: "uuid"
          description: "ID of the HRSD employee"
          example: "f910748f-5740-4afc-b326-62a77ce00a2a"
        error:
          type: "string"
          description: "Error message"
          example: "No client id and/or employee id in evaluation request"
        created_at:
          type: "string"
          format: "date-time"
          description: "The date at which the privacy portability request has been created."
          example: "2020-01-17T08:36:37.266+00:00"
        received_at:
          type: "string"
          format: "date-time"
          description: "The date at which the privacy portability request has been received."
          example: "2020-01-17T08:36:37.266+00:00"

# Blacklisted email address related Objects
    BlacklistedEmailAddressBase:
      type: "object"
      required:
        - blacklisted
      properties:
        blacklisted:
          type: boolean
          description: "Indicates whether the email is currently blacklisted or not. Email messages using a blacklisted email addresses will not be sent to our mail sending provider"
          example: "true"
    
    
    BlacklistedEmailAddressComputedFields:
      type: "object"
      required:
        - id
        - email_address
        - last_sending_attempt_at
        - number_of_block_attempts
        - number_of_bounces
        - last_bounce_message
        - last_bounce_error_code
        - last_email_subject
      properties:
        email_address:
          type: "string"
          description: "Email address that has been bounced"
          example: "jd@example.com"
        last_sending_attempt_at:
          type: string
          description: Date for which the last sending attempt was blocked
          format: date-time
          example: "2018-09-15T15:53:00+00:00"
        number_of_block_attempts:
          type: "integer"
          description: "Number of times an email has been rejected by Delivery because the recipient was blacklisted"
          example: 10
        number_of_bounces:
          type: "integer"
          description: "Number of times an email was actually sent and bounced"
          example: 10
        last_bounce_message:
          type: "string"
          description: "Last message received by the SMTP server when the email was bounced. JSON string."
        id:
          type: "string"
          description: "ID of the blacklisted email address. This is an UUID."
          example: "5cf2b3a3uOIH89u20J3UchyoyuiG67GBKR678DRT"
        last_bounce_error_code:
          type: "string"
          description: "Last error message received from SMTP provider"
          example: "The recipient address doesn't exists"
        last_email_subject:
          type: "string"
          description: "Email subject of the last email which was bounced"
          example: "Password reset notification"
    
    BlacklistedEmailAddressFull:
      allOf:
        -
          $ref: "#/definitions/BlacklistedEmailAddressBase"
        -
          $ref: "#/definitions/BlacklistedEmailAddressComputedFields"
        -
          $ref: "#/definitions/Timestamps"


# Blacklisted file preview related Objects
    FilePreviewBlocklistBase:
      type: "object"
      required:
        - "blocked"
      properties:
        blocked:
          type: "boolean"
          description: "Indicates whether the file is currently blocked for preview or not. Blocked files are forbidden to be previewed."
          default: "false"
          example: "true"


# Messages (email, mail, sms) related Objects
# ---------------------------------
    EmailMessageBase:
      required:
        - "subject"
        - "sender"
        - "recipients"
      properties:
        subject:
          type: "string"
          description: "Subject of the email"
          example: "Create your account"
        sender:
          type: "string"
          description: |
            Email address of the sender, i.e. the FROM email header.
            Defaults to `service@people-doc.com` on pdoc envs, and `no-reply@notif.hrsd.ultipro.com` on usg envs.
            Please ask the Messaging Service team before using a custom sender address, emails might not be sent.
            It can contain a personal part (eg. `UKG HRSD <no-reply@people-doc.com>`), although the preferred way is to use the sender_name for that purpose.
          example: "no-reply@people-doc.com"
        recipients:
          type: "array"
          description: "List of recipient email addresses"
          items:
            type: "string"
    
    EmailMessageComputedFields:
      required:
        - "id"
    
      properties:
        id:
          type: "integer"
          description: "`ID` of the email message"
          example: 67889
        status:
          type: "string"
          description: "Status of delivery"
    
    EmailMessageFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/EmailMessageBase"
        -
          $ref: "#/definitions/EmailMessageComputedFields"
        -
          $ref: "#/definitions/CreationTimestamp"
    
    
    EmailMessageCreatePayload:
      type: "object"
      required:
        - "content"
      allOf:
        -
          $ref: "#/definitions/EmailMessageBase"
        -
          type: object
          properties:
            sender_name:
              type: "string"
              description: |
                Optional personal part of the email sender address.
                If filled with "PeopleDoc", the resulting "From" header of the email will be `PeopleDoc <service@people-doc.com>`.
                If a personal part is already present in the sender field, it won't be overridden.
                Default value is empty.
              example: "PeopleDoc"
            reply_to:
              type: "string"
              description: "Email address used for reply, ie the REPLY-TO email header. No value by default, email clients usually use the sender address when the reply-to is missing"
              example: "no-reply@people-doc.com"
            content:
              type: "string"
              description: "Raw mime content of the email, don't use 'text_content' and 'html_content' in that case"
              example: "MIME-Version: 1.0\nContent-Type: text/plain..."
            text_content:
              type: "string"
              description: "Text part of the email, don't use 'content' in that case or this will be ignored."
              example: "Bacon ipsum dolor amet venison fatback strip steak, bresaola cow shank andouille."
            html_content:
              type: "string"
              description: "Html part of the email, don't use 'content' in that case or this will be ignored."
              example: "<b>Bacon ipsum dolor amet venison fatback <i>strip steak</i>, bresaola cow shank andouille.</b>"
            priority:
              type: "string"
              description: "Priority of the email message. Priority emails are processed in a dedicated queue, and will be sent to our email provider marked as priority (if available depending on the provider used)."
              enum: ["high", "default"]
              example: "high"
            callback_url:
              type: "string"
              description: "Callback url"
              example: "http://callback.example.com"
            campaign_id:
              type: "integer"
              description: "ID of a previously created email campaign. If this parameter is a valid campaign ID, the email will be added to the campaign and will be sent on campaign commit. If absent or null, the email will be sent independently as soon as possible."
              example: 3451345
            provider:
              type: "string"
              description: "ID of the provider used to send the email. All providers are not available on all envs, please ask the Messaging Service team for the use of any other provider than mailtrap."
              enum: ["mailtrap"]
              example: "mailtrap"

    SmsMessageBase:
      required:
        - "content"
        - "recipient"
      properties:
        recipient:
          type: "string"
          description: "Recipient phone number"
          example: "0033674567456"
        content:
          type: "string"
          description: "Content of the SMS"
          example: "Hello! Please sign your document"
    
    SmsMessageComputedFields:
      required:
        - "id"
    
      properties:
        id:
          type: "integer"
          description: "`ID` of the email message"
          example: 67889
        status:
          type: "string"
          description: "Status of delivery"
          enum: ["ok", "delivered", "undelivered"]
    
    SmsMessageFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SmsMessageBase"
        -
          $ref: "#/definitions/SmsMessageComputedFields"
        -
          $ref: "#/definitions/CreationTimestamp"
    
    
    SmsMessageCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/SmsMessageBase"
        -
          type: object
          properties:
            provider:
              type: "string"
              description: "ID of the provider used to send the sms."
              enum: ["nexmo"]
              example: "nexmo"
            callback_url:
              type: "string"
              description: "Callback url called when an error occurs, here is the json payload structure : {\"code\":\"801\",\"success\":false,\"msg\":\"Nexmo status failed with error code 11.\",\"id\":245059276,\"date\":\"2020-12-07T15:46:48.211Z\"}"
              example: "http://callback.example.com"
            voice_lang:
              type: "string"
              description: "Language used for a voice message https://developer.nexmo.com/voice/voice-api/guides/text-to-speech#supported-languages"
              enum: ['en-us','de-de','en-gb','es-es','fr-fr','fr-ca','it-it','ja-jp','nl-nl','pl-pl','pt-pt','pt-br','sv-se','tr-tr','zh-cn']
              example: "en-us"
            sms_type:
              type: "string"
              enum: ["text", "voice"]
              example: "text"
              description: "Type of message. Can be one of `text` (the message is sent as a standard text message, the default) or `voice` (the receiver receives a phone call to listen to the message)"
    

    MailRecipient:
      type: "object"
      properties:
        firstname:
          type: "string"
          description: "Recipient's firstname"
          example: "Bill"
        lastname:
          type: "string"
          description: "Recipient's lastname"
          example: "Ponci"
        address1:
          type: "string"
          description: "Address first line"
          example: "23 rue Jean Jaurs"
        address2:
          type: "string"
          description: "Address second line"
          example: ""
        address3:
          type: "string"
          description: "Address third line"
          example: ""
        city:
          type: "string"
          description: "City name"
          example: "Paris"
        zip_code:
          type: "string"
          description: "Zip Code"
          example: "75010"
        country:
          type: "string"
          description: "Country name"
          example: "France"
        country_code:
          type: "string"
          description: "Country iso code"
          example: "FR"
    
    MailMessageBase:
      required:
        - "recipient"
        - "campaign_id"
        - "document_url"
        - "spool_index"
      properties:
        recipient:
          type: "object"
          $ref: "#/definitions/MailRecipient"
        document_url:
          type: "string"
          description: "Html url encoded of the document"
          example: "http://api-gateway/api/v2/internal/files/merge?mode=PDF&references=%7B%2227654055-f222-4318-b7d2-84050a9eeae3%22%3A%22filename1.pdf%22%2C%223c4c0d43-4a0d-4bc9-9288-bea5278a44a2%22%3A%22filename2.pdf%22%7D"
        campaign_id:
          type: "integer"
          description: "ID of a previously created email campaign. If this parameter is a valid campaign ID, the email will be added to the campaign and will be sent on campaign commit. If absent or null, the email will be sent independently as soon as possible."
          example: 3451345
        spool_index:
          type: "integer"
          description: "Index in the spool (must be unique by document for a given campaign)"
          example: 23
    
    MailMessageComputedFields:
      required:
        - "id"
    
      properties:
        id:
          type: "integer"
          description: "`ID` of the email message"
          example: 67889
        status:
          type: "string"
          description: "Status of delivery"
    
    MailMessageFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/MailMessageBase"
        -
          $ref: "#/definitions/MailMessageComputedFields"
        -
          $ref: "#/definitions/CreationTimestamp"
    
    
    MailMessageCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/MailMessageBase"
        -
          type: object
          properties:
            callback_url:
              type: "string"
              description: "Callback url"
              example: "http://callback.example.com"

    PackageMailRecipient:
      type: "object"
      properties:
        firstname:
          type: "string"
          description: "Recipient's firstname"
          example: "Bill"
        lastname:
          type: "string"
          description: "Recipient's lastname"
          example: "Ponci"
        address1:
          type: "string"
          description: "Address first line"
          example: "23 rue Jean Jaurs"
        address2:
          type: "string"
          description: "Address second line"
          example: ""
        address3:
          type: "string"
          description: "Address third line"
          example: ""
        city:
          type: "string"
          description: "City name"
          example: "Paris"
        zip_code:
          type: "string"
          description: "Zip Code"
          example: "75010"
        country:
          type: "string"
          description: "Country name"
          example: "France"
        country_code:
          type: "string"
          description: "Country iso code"
          example: "FR"
    
    CampaignBase:
      properties:
        name:
          type: "string"
          description: "Name of the campaign"
          example: "Example campaign"
        external_id:
          type: "string"
          description: "Additional external ID for this campaign (i.e. defined by the client application using this API). This ID is returned as part of the callback payload."
          example: "Y78HIU9"
        callback_url:
          type: "string"
          description: "Callback url"
          example: "http://callback.example.com"
        package_recipient:
          type: "object"
          description: "In case of mail package delivery, recipient address for the package"
          $ref: "#/definitions/PackageMailRecipient"
        testing_print:
          type: "boolean"
          description: "Campaign printing status, if false, the campaign is ready to be printed by our partners. Default: false"
          example: "false"
        properties:
          type: "object"
          description: "Options regarding paper mail sending and campaigns"
          properties:
            edition.provider:
              type: "string"
              description: "Printing provider"
              enum: ["cortex", "onegate", "indus", "numen", "docone", "cofilmo", "esker"]
              example: "cortex"
            edition.paper_type:
              type: "string"
              description: "Paper type"
              enum: ["A4B80", "A4Iceberg bleu / Antalis80", "BlancStd"]
              default: "A4B80"
              example: "A4B80"
            edition.color:
              type: "string"
              description: "Printing color configuration. Use `C` for laser color printing, `M` for laser monchrome printing, `JC` for color ink jet printing"
              enum: ["C", "M", "JC"]
              default: "M"
              example: "C"
            edition.both_side:
              type: "boolean"
              description: "Duplex printing"
              default: false
              example: false
            envelope.type:
              type: "string"
              description: "Envelope type"
              enum: ["C6", "C5", "C4", "C6_Sita", "C6_Bouygues", "AUCUNE", "C6B", "C5B", "C6Std", "PersoBouygues", "C6DW"]
              # Actually there is a free string on RH2, so anything can be passed here...
              example: "C6"
            envelope.stamped:
              type: "boolean"
              description: "Add a stamp on the envelope"
              default: true
              example: true
            envelope.sealed:
              type: "boolean"
              description: "Seal the envelope or leave it open"
              default: true
              example: true
            envelope.return_on_pnd:
              type: "boolean"
              description: "Return non distributed mails"
              default: true
              example: true
            envelope.pnd_cause:
              type: "boolean"
              description: "Return the cause of non distributed mails"
              default: true
              example: true
            package_ref:
              type: "string"
              enum: ["letter", "parcel"]
              description: "Send a parcel or individual letters"
              example: "letter"
            report.recipient.email:
              type: "string"
              description: "Email address used for sending the report"
              example: "report-recipient@example.com"
            carrier.name:
              type: "string"
              description: "Name of the carrier"
              enum: ["CHRONOPOST", "POSTE", "COURSIER"]
              example: "CHRONOPOST"
            carrier.priority:
              type: "string"
              description: "Sending priority"
              enum: ["ECOPLI", "LETTRE", "ECI", "LG2", "LVERTE"]
              example: "ECOPLI"
            cover_address:
              type: "boolean"
              description: "Add a cover address" #? right description?
              default: true
              example: true
    
    CampaignComputedFields:
      required:
        - "id"
    
      properties:
        id:
          type: "integer"
          description: "`ID` of the campaign"
          example: 67889
        status:
          type: "string"
          description: "Status of delivery"
    
    CampaignFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CampaignBase"
        -
          $ref: "#/definitions/CampaignComputedFields"
        -
          $ref: "#/definitions/CreationTimestamp"
    
    
    CampaignCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/CampaignBase"

    InboxIncomingEmail:
      properties:
        id:
          type: string
          description: "ID of the incoming email"
          format: uuid
          example: "9f34e9c2-c2f8-4de1-bd55-ac9053c55119"
        inbox_id:
          type: string
          description: "ID of the inbox (when available)"
          format: uuid
          example: "4cb2d794-8129-4f35-9334-4310470a9bfc"
        subject:
          type: string
          description: "Subject of the incoming email message"
          example: "Recruitment files"
        sender_email_address:
          type: string
          description: "Email address used to send the email (FROM)"
          example: "printer@customerX.com"
        number_of_attachments:
          type: integer
          description: "Number of attachments in the incoming email message"
          example: 2
        number_of_failures:
          type: integer
          description: "Number of failures"
          example: 3
        last_failure_step:
          type: string
          enum: ["authentification", "parsing", "upload_document", "create_task"]
          description: "Code of the last error raised when processing the incoming email message"
        first_failure_at:
          type: string
          format: datetime
          description: "Date of the first processing error raised when processing this incoming email message"
          example: "2019-09-15T15:53:00+00:00"
        last_failure_at:
          type: string
          format: datetime
          description: "Date of the last processing error raised when processing this incoming email message"
          example: "2019-09-15T15:53:00+00:00"
        success_at:
          type: string
          format: datetime
          description: "Date of the successful processing of this incoming email message"
          example: "2019-09-15T15:53:00+00:00"
        provider:
          type: string
          description: "Email provider that received this email message"
          enum: ["mailgun", "amazon"]
          example: "amazon"
        last_failure_is_expected:
          type: boolean
          description: "Expected status of the last failure"
          example: true
        created_at:
          type: string
          description: "Email Reception date"
          example: "2019-09-15T15:52:00+00:00"
    

    GenericDeliveryMessage:
      type: "object"
      properties:
        id:
          type: "integer"
          example: 67889
        client_id:
          type: "string"
          example: "7e44c540-fa84-4f17-9623-231e520c56aa"
        status:
          type: "string"
          example: "OK"
        created_at:
          type: "string"
          example: "2023-08-24T09:58:49.459Z"
        subject:
          type: "string"
          example: "Create your account (only for email and dimensions_notification types)"
        content:
          type: "string"
          example: "Hello! Please sign your document (only for sms type)"
        sender:
          type: "string"
          example: "no-reply@people-doc.com (only for email type)"
        sender_name:
          type: "string"
          example: "PeopleDoc (only for email type)"
        recipients:
          type: "array"
          items:
            type: "string"
            example: "john.doe@gmail.com (only for email type)"
        recipient:
          type: "string"
          example: "0033674567456 (only for sms type)"
        recipient_email:
          type: "string"
          example: "john.doe@gmail.com (only for dimensions_notification type)"
        recipient_hrsd_id:
          type: "string"
          example: "c566b6a8-0ab6-4917-b10d-8fab28ae2b00 (only for dimensions_notification type)"



# WORKERS ADMIN
# ---------------------------------
    WorkerMessagingTypeInfo:
      type: "string"
      enum:
        - EMAIL_TO_INBOX
        - SMS
        - EMAIL
        - INDUS
        - NUMEN
        - ESKER
        - DOCONE
        - CORTEX
        - PARAGON
        - PROBTP
        - COFILMO
        - ONEGATE
        - MAILTRAP
        - EMAIL_PRIORITY
        - EMAIL_CAMPAIGN
    
    WorkerMessagingAdminInfos:
      type: "object"
      properties:
        type:
          $ref: "#/definitions/WorkerMessagingTypeInfo"
        activated:
          type: boolean
          description: "Indicates if the worker is activated or not"
          example: "true"
        current_consumers_count:
          type: integer
          description: "The number of consumers started for the worker"
          example: 1
        requested_consumers_count:
          type: integer
          description: "The number of consumers requested for the worker"
          example: 1
        created_at:
          type: string
          description: "Date of creation of the worker information in DB"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        updated_at:
          type: string
          description: "Date of update of the worker information in DB"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
    
    
    WorkerMessagingConfigPayload:
      type: "object"
      required:
        - activated
      properties:
        activated:
          type: boolean
          description: "Indicates if the worker should be activated or not"
          example: "true"
        requested_consumers_count:
          type: integer
          description: "The requested count of consumers for the worker (by instance)"
          example: 5

# SFTP ACCOUNT MANAGEMENT
# ---------------------------------
    SftpAccountType:
      type: "string"
      description: "Account type of sftp account"
      enum:
        - customer
        - partner
        - internal
        - other
    
    SftpProfileTypeSSH:
      type: "string"
      description: "Profile type of ssh for sftp account"
      enum:
        - customer
        - collaborator
        - server_1
        - server_2
    
    SftpFolderType:
      type: "string"
      description: "Folder type"
      enum:
        - standard
        - subdirectories
    
    SftpAccountInfos:
      type: "object"
      properties:
        account_name:
          type: string
          description: "username of the sftp account"
          example: "myusername"
        server_sftp_host:
          type: string
          description: "The SFTP server host"
          example: "myserver.mia.com"
        server_sftp_port:
          type: string
          description: "The SFTP server host"
          example: "9003"
        n_custom_folders:
          type: integer
          description: "Number of custom folders"
          example: 2
        n_ip_addresses:
          type: integer
          description: "Number of IP addresses"
          example: 2
        n_custom_ssh_keys:
          type: integer
          description: "Number of customer ssh keys"
          example: 2
        n_internal_ssh_keys:
          type: integer
          description: "Number of internal collaborator ssh keys"
          example: 2
        account_type:
          $ref: "#/definitions/SftpAccountType"
        user_id:
          type: integer
          description: "user id"
          example: 15000
        group_id:
          type: integer
          description: "group id"
          example: 15000
        account_path:
          type: string
          description: "path of the sftp account"
          example: "/home/dir"
        enabled:
          type: boolean
          description: "Indicates if the account is activated or not"
          example: "false"
        folder_type:
          $ref: "#/definitions/SftpAccountType"
        created_at:
          type: string
          description: "Date of creation of the sftp account"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        disabled_at:
          type: string
          description: "Date when the sftp account was disabled"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        last_customer_connection_date:
          type: string
          description: "Date of the last connection of the customer from the use of the most recent SSH key"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        last_collaborator_connection_date:
          type: string
          description: "Date of the last collaborator SSH key connection"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
    
    SftpFolder:
      type: "object"
      properties:
        level:
          type: integer
          description: "level of the folder in the tree"
          example: 1
        parent_id:
          type: string
          description: "UUID of the parent folder"
          example: "5d8db33d-1e6c-4e49-94d9-014500f1a93f"
        path:
          type: string
          description: "The folder path"
          example: "/in/custom"
        id:
          type: string
          description: "UUID of the folder"
          example: "5d8db33d-1e6c-4e49-94d9-014500f1a93f"
        name:
          type: string
          description: "folder name"
          example: "custom"
        is_custom:
          type: boolean
          description: "if the folder is a custom folder or not"
          example: true
        enabled:
          type: boolean
          description: "if the folder is enabled or not"
          example: true
    
    SSHKeyInfos:
      type: "object"
      properties:
        email_collaborator:
          type: string
          description: "email collaborator"
          example: "toto@ukg.com"
        name_collaborator:
          type: string
          description: "name collaborator"
          example: "toto"
        ssh_key_id:
          type: string
          description: "key id"
          example: "1"
        ssh_key_type:
          type: string
          description: "SSH key type"
          example: "ssh-rsa"
        ssh_key:
          type: string
          description: "ssh key content"
          example: "ssh-rsa AAAAA"
        ssh_key_comment:
          type: string
          description: "ssh key comment"
          example: "al@toto.fr"
        ssh_key_size:
          type: integer
          description: "ssh key size in bytes"
          example: 3000
        enabled:
          type: boolean
          description: "if the SSH key is enabled or not"
          example: true
        ssh_finger_print256:
          type: string
          description: "ssh key fringer print in SHA 256"
          example: "SHA256:BiLqJYqDM9pbF2vEa6bSxH3+chDG5Pi0k/...."
        ssh_finger_print512:
          type: string
          description: "ssh key fringer print in SHA 512"
          example: "SHA512:q9ow1AMMmT9Mv7Ore8Y1+Sx6DFljot0wvfpPeio7jxe5XMVY75HWEPxXVeOzn7zQpT79WD3XzE3ViC4t..."
        created_at:
          type: string
          description: "Date of creation of the ssh key"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        disabled_at:
          type: string
          description: "Date of disable of the ssh key"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        expiration_at:
          type: string
          description: "Date of expiration of the ssh key"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        last_connection_date:
          type: string
          description: "Date of last connection/use of this ssh key"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
    
    IPInfos:
      type: "object"
      properties:
        ip_address:
          type: string
          description: "IP v4 value"
          example: "192.168.2.1"
        enabled:
          type: boolean
          description: "enabled"
          example: true
        created_at:
          type: string
          description: "Date of creation of the IP"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        disabled_at:
          type: string
          description: "Date of disable of the IP"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
        last_connection_at:
          type: string
          description: "Date of last connection/use of this IP address"
          format: date-time
          example: "2021-04-01T15:53:00+00:00"
    
    CreateSftpAccountPayload:
      type: "object"
      required:
        - account_type
      properties:
        account_type:
          $ref: "#/definitions/SftpAccountType"
        customer_id:
          type: string
          description: "UUID of the customer account (if account type is customer)"
          example: "5d8db33d-1e6c-4e49-94d9-014500f1a93f"
    
    UpdateSftpAccountPayload:
      type: "object"
      required:
        - enabled
      properties:
        enabled:
          type: boolean
          description: "Tells if the account should be activated or not"
          example: "true"
    
    DeleteSftpAccountPayload:
      type: "object"
      properties:
        customer_id:
          type: string
          description: "UUID of the customer account (mandatory if account type is customer)"
          example: "5d8db33d-1e6c-4e49-94d9-014500f1a93f"
    
    SSHPayload:
      type: "object"
      required:
        - ssh_key_value
      properties:
        ssh_key_value:
          type: string
          description: "ssh key content"
          example: "ssh-rsa AAA"
        ssh_key_creator:
          type: string
          description: "ssh key creator"
          example: "creator@test.fr"
    
    SSHCollaboratorPayload:
      type: "object"
      required:
        - ssh_key_value
      properties:
        ssh_key_value:
          type: string
          description: "ssh key content"
          example: "ssh-rsa AAA"
        ssh_key_creator:
          type: string
          description: "ssh key creator"
          example: "creator@test.fr"


# ADMIN WORKER SERVICE
# ---------------------------------
    WorkerAdminConsumersInfos:
      type: "object"
      additionalProperties:
        type: integer
      example:
        backupConsumer: 0
        bucketConsumer: 0
        cdcConsumer: 0
        deleteDocumentConsumer: 0
        deleteUriConsumer: 0
        integrityConsumer: 0
        keyRotationConsumer: 0
        mergeConsumer: 1
        movingConsumer: 2
        signConsumer: 3
    
    WorkerAdminQueuesInfos:
      type: "object"
      additionalProperties:
        type: integer
      example:
        sae_backup: 0
        sae_bucket: 0
        sae_cdc: 0
    
    ConsumerTypeInfo:
      type: "string"
      enum:
        - bucketConsumer
        - cdcConsumer
        - signConsumer
        - movingConsumer
        - mergeConsumer
        - backupConsumer
        - deleteUriConsumer
        - deleteDocumentConsumer
        - integrityConsumer
        - keyRotationConsumer
    
    WorkerAdminConfigInfos:
      type: "object"
      properties:
        type:
          $ref: "#/definitions/ConsumerTypeInfo"
        currentCount:
          type: integer
          description: "Indicates consumer current count"
          example: 5

# ERROR QUEUE SERVICE
# ---------------------------------
    CopyErrorQueuePayload:
      type: "object"
      required:
        - fromErrorQueue
        - toQueue
      properties:
        fromErrorQueue:
          type: string
          enum:
            - sae_error_backup
            - sae_error_bucket
            - sae_error_moving
            - sae_error_evidence
            - sae_error_cdc
            - sae_error_merge
            - sae_error_integrity
            - sae_error_key_rotation
            - sae_error_delete_uri
            - sae_error_delete_document
          description: "The error queue name where the messages will be copied"
          example: "sae_error_backup"
        toQueue:
          type: string
          enum:
            - sae_backup
            - sae_bucket
            - sae_moving
            - sae_evidence
            - sae_cdc
            - sae_merge
            - sae_integrity
            - sae_key_rotation
            - sae_delete_uri
            - sae_delete_document
          description: "Queue where messages will be copied from"
          example: "sae_backup"

# BACKUP INTEGRITY SERVICE
# ---------------------------------
    BackupIntegrityPayload:
      type: "object"
      required:
        - nbReferencesToCheck
        - from
        - to
      properties:
        nbReferencesToCheck:
          type: integer
          description: "Number references to check"
          example: 100
        from:
          type: string
          format: "date"
          description: "From date"
          example: "2021-11-15"
        to:
          type: string
          format: "date"
          description: "To date"
          example: "2021-11-17"

# DISTRIBUTION RESOURCE
# ---------------------------------
    DistributionsPayload:
      type: "object"
      required:
        - distribution_id
        - flow_id
        - spool_url
        - spool_sae_ref
        - spool_replication_mode
        - distribution_type
        - spool_format
        - customer_site_id
        - customer_uuid
        - spool_filename
        - metadata_scheme
        - external_ref
      properties:
        distribution_id:
          type: string
          description: "Distribution id"
          format: "uuid"
          example: "8dcf27ef-0e5c-4e11-8d59-5a21b10c5f65"
        flow_id:
          type: string
          description: "Flow id"
          format: "uuid"
          example: "3d301d93-cadd-4be7-baca-51ae4bee3aed"
        spool_url:
          type: string
          description: "Spool url"
          example: "http://spool_url"
        spool_sae_ref:
          type: string
          description: "Spool sae ref"
          format: "uuid"
          example: "deeecb1f-aa7d-417f-8e91-1086d8a77f49"
        spool_replication_mode:
          type: string
          description: "Spool replication mode"
          example: "EMPLOYEE"
        distribution_type:
          type: string
          description: "Distribution type"
          example: "distribution"
        spool_format:
          type: string
          description: "Spool format"
          example: "pdf"
        config_id:
          type: string
          description: "Config id"
          example: "config_id"
        customer_site_id:
          type: string
          description: "Customer site id"
          example: "12345"
        customer_uuid:
          type: string
          description: "Customer uuid"
          format: "uuid"
          example: "526642d3-c3be-4de1-a8b9-7cf317c54031"
        spool_filename:
          type: string
          description: "Spool filename"
          example: "spool.pdf"
        metadata_scheme:
          type: string
          description: "Metadata scheme"
          example: "scheme"
        external_ref:
          type: string
          description: "External ref"
          example: "external_ref"
    
    DistribStateResponse:
      type: "object"
      properties:
        distrib:
          $ref: "#/definitions/DistributionsPayload"
          description: "Distribution id"
        startTime:
          type: string
          format: date
          description: "Start Time"
          example: "2022-04-05"
        conclusionTime:
          type: string
          format: date
          description: "Conclusion time"
          example: "2022-04-05"
        chunksRemaining:
          type: integer
          description: "Chunks remaining"
          example: "1"
        totalChunks:
          type: integer
          description: "Total chunks"
          example: "2"
        archivesRemaining:
          type: integer
          description: "Archives remaining"
          example: "3"
        totalArchived:
          type: integer
          description: "Total archived"
          example: "4"
        totalUndistributed:
          type: integer
          description: "Total undistributed"
          example: "5"
        running:
          type: boolean
          description: "Is distribution running"
          example: "false"
        fail:
          type: boolean
          description: "Is distribution fail"
          example: "false"
        failMessage:
          type: string
          description: "Fail message"
          example: "Distribution has been interrupted and set in error due to an application shutdown"
        internalError:
          type: boolean
          description: "Is distribution have internal error"
          example: "true"
        documentErrors:
          description: "Document errors"
          type: array
          items:
              type: string
          example: ["firstError", "secondError"]
    
    RunningDistributionsResponse:
      type: "object"
      additionalProperties:
        type: object
        $ref: "#/definitions/DistributionsPayload"
      example:
        47aa68db-17a1-4b9d-b9bf-ddbff8c63d26:  {
          "distribution_id": "8dcf27ef-0e5c-4e11-8d59-5a21b10c5f65",
          "flow_id": "3d301d93-cadd-4be7-baca-51ae4bee3aed",
          "spool_url": "http://spool_url",
          "spool_sae_ref": "deeecb1f-aa7d-417f-8e91-1086d8a77f49",
          "spool_replication_mode": "EMPLOYEE",
          "distribution_type": "distribution",
          "spool_format": "pdf",
          "customer_site_id": "12345",
          "customer_uuid": "526642d3-c3be-4de1-a8b9-7cf317c54031",
          "spool_filename": "spool.pdf",
          "metadata_scheme": "scheme",
          "external_ref": "external_ref"
        }


# MAPPING RESOURCE
# ---------------------------------
    MappingPayload:
      type: "object"
      required:
        - config_id
        - sae_reference
        - flow_id
        - user
      properties:
        config_id:
          type: string
          description: "Config id"
          example: "config_id"
        sae_reference:
          type: string
          description: "sae_reference"
          format: "uuid"
          example: "3d301d93-cadd-4be7-baca-51ae4bee3aed"
        flow_id:
          type: string
          description: "Flow id"
          format: "uuid"
          example: "3d301d93-cadd-4be7-baca-51ae4bee3aed"
        user:
          $ref: "#/definitions/RH2Data"
    
    RH2Data:
      type: object
      required:
        - first_name
        - last_name
        - organization_code
        - registration_reference
        - distribution_id
        - retention_period
        - storage_profile
      description: "Flow id"
      properties:
        first_name:
          type: string
          description: "first_name"
          example: "Alex"
        last_name:
          type: string
          description: "last_name"
          example: "Smith"
        organization_code:
          type: string
          description: "organization_code"
          example: "123456789"
        registration_reference:
          type: string
          description: "registration_reference"
          example: "007"
        distribution_id:
          type: string
          description: "distribution_id"
          example: "elecman"
        retention_period:
          type: string
          description: "retention_period"
          example: "42"
        storage_profile:
          type: string
          description: "retention_period"
          example: "LOCAL"
        sae_account_id:
          type: string
          description: "sae_account_id"
          example: "sae_account_id"
        activation_code:
          type: string
          description: "activation_code"
          example: "activation_code"
        identification_number:
          type: string
          description: "identification_number"
          example: "identification_number"
        employee_id:
          type: string
          description: "employee_id"
          example: "employee_id"
        technical_id:
          type: string
          description: "technical_id"
          example: "technical_id"
        address_1:
          type: string
          description: "address_1"
          example: "address_1"
        address_2:
          type: string
          description: "address_2"
          example: "address_2"
        address_3:
          type: string
          description: "address_3"
          example: "address_3"
        postcode:
          type: string
          description: "postcode"
          example: "postcode"
        city:
          type: string
          description: "city"
          example: "city"
        country:
          type: string
          description: "country"
          example: "country"
        phone:
          type: string
          description: "phone"
          example: "phone"
        mob:
          type: string
          description: "mob"
          example: "mob"
        email:
          type: string
          description: "email"
          example: "email"
        tech_id:
          type: string
          description: "tech_id"
          example: "tech_id"
        nir:
          type: string
          description: "nir"
          example: "nir"
        qualification:
          type: string
          description: "qualification"
          example: "qualification"
        job_title:
          type: string
          description: "job_title"
          example: "job_title"
        contact_first_name:
          type: string
          description: "contact_first_name"
          example: "contact_first_name"
        contact_last_name:
          type: string
          description: "contact_last_name"
          example: "contact_last_name"
        name:
          type: string
          description: "name"
          example: "name"
        parent_code:
          type: string
          description: "parent_code"
          example: "parent_code"
        message:
          type: string
          description: "message"
          example: "message"
        code:
          type: string
          description: "code"
          example: "code"
        enterprise_storage_profile:
          type: string
          description: "enterprise_storage_profile"
          example: "enterprise_storage_profile"
        enterprise_retention_period:
          type: string
          description: "enterprise_retention_period"
          example: "enterprise_retention_period"
        enterprise_storage_encrypt:
          type: string
          description: "enterprise_storage_encrypt"
          example: "enterprise_storage_encrypt"
        send_elec:
          type: string
          description: "send_elec"
          example: "send_elec"
        elec_storage_profile:
          type: string
          description: "elec_storage_profile"
          example: "elec_storage_profile"
        elec_retention_period:
          type: string
          description: "elec_retention_period"
          example: "elec_retention_period"
        elec_storage_encrypt:
          type: string
          description: "elec_storage_encrypt"
          example: "elec_storage_encrypt"
        send_paper:
          type: string
          description: "send_paper"
          example: "send_paper"
        paper_storage_profile:
          type: string
          description: "paper_storage_profile"
          example: "paper_storage_profile"
        paper_retention_period:
          type: string
          description: "paper_retention_period"
          example: "paper_retention_period"
        paper_storage_encrypt:
          type: string
          description: "paper_storage_encrypt"
          example: "paper_storage_encrypt"
        id:
          type: string
          description: "id"
          example: "id"
        is_elec_original:
          type: string
          description: "is_elec_original"
          example: "is_elec_original"
        is_paper_original:
          type: string
          description: "is_paper_original"
          example: "is_paper_original"
        expiration_date:
          type: string
          description: "expiration_date"
          example: "expiration_date"
        activation_url:
          type: string
          description: "activation_url"
          example: "activation_url"

# MESSAGE PUBLISHER SERVICE
# ---------------------------------
    MessagePublisherJobRequest:
      type: "object"
      properties:
        messageType:
          type: "string"
          example: "commit"
      enum:
        - commit
        - confirm
        - signConsumer
        - rollback
        - mergeConsumer
        - cancel
        - soft_delete
        - evidence
        - cdc
        - backup
        - integrity
        - key_rotation
        - delete_uri
        - delete_document
      example:
        messageType: "commit"
    
    MessagePublisherJobResponse:
      properties:
        jobId:
          type: "string"
          format: uuid
      example:
        jobId: "a05ebce4-1099-4e9b-b6d8-90ca5e38cf77"
    
    MessagePublisherJobStatusResponse:
      type: "object"
      properties:
        jobId:
          type: "string"
          example: "a05ebce4-1099-4e9b-b6d8-90ca5e38cf77"
        status:
          type: "string"
          example: "PROCESSING"
        rowsCount:
          type: integer
          example: 10000
        processedRowsCount:
          type: integer
          example: 1000
        errorCount:
          type: integer
          example: 5
      example:
        jobId:
        status: "PROCESSING"
        rowsCount: 1000
        processedRowsCount: 1000
        errorCount: 5
    
    MessagePublisherListJobResponse:
      properties:
        id:
          type: "string"
          format: uuid
        status:
          type: "string"
          enum:
            - LOADING
            - PROCESSING
            - PROCESSED
            - STOPPED_BY_ERROR_THRESHOLD
            - STOPPED_MANUALLY
            - CLEANED
          example: "LOADING"
        threshold:
          type: "integer"
        errorThreshold:
          type: "integer"
        messageType:
          type: "string"
          enum:
            - commit
            - confirm
            - signConsumer
            - rollback
            - mergeConsumer
            - cancel
            - soft_delete
            - evidence
            - cdc
            - backup
            - integrity
            - key_rotation
            - delete_uri
            - delete_document
          example: "commit"
        processedRowsCount:
          type: "integer"
        rowsCount:
          type: "integer"
        jobRunning:
          type: "boolean"

# Errors Objects
    OAuthError:
      type: "object"
      properties:
        error:
          type: "string"
    
    BadRequest:
      type: "object"
      properties:
        message:
          type: "string"
        code:
          type: "string"
    
    Forbidden:
      type: "object"
      properties:
        message:
          type: "string"
        code:
          type: "string"
    
    InternalServerError:
      type: "object"
      properties:
        message:
          type: "string"
        code:
          type: "string"
    
    NotFound:
      type: "object"
      properties:
        message:
          type: "string"
        code:
          type: "string"
    
    BaseError:
      type: "object"
      required:
        - code
        - message
      properties:
        code:
          type: "string"
          format: "int32"
        message:
          type: "string"
    
    FieldError:
      type: "object"
      required:
        - code
        - field
      properties:
        field:
          type: "string"
        code:
          type: "string"
        message:
          type: "string"
    
    ValidationErrors:
      type: "object"
      properties:
        errors:
          type: "array"
          items:
            $ref: "#/definitions/FieldError"
    
    RateLimitErrors:
      type: "object"
      properties:
        error:
          type: "string"
        error_description:
          type: "string"
    
    Error:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/BaseError"
        -
          $ref: "#/definitions/ValidationErrors"


# Uploads related objects
    UploadReference:
      required:
        - id
      properties:
        id:
          type: string
          description: "SAE ID of the File"
    
    UploadDocument:
      required:
        - id
        - filename
      properties:
        id:
          type: string
          description: "temporary ID of the File"
        expires_at:
          type: string
          description: "Expiry date of the File"
        creation_date:
          type: string
          description: "Creation date of the File"
        retention_period:
          type: integer
          description: "retention period (in seconds). Defaults at 86400 seconds."
          default: 86400
          minimum: 0
        filename:
          type: string
          description: "filename"
        content_type:
          type: string
        page_count:
          type: integer
    
    UploadDocumentFiles:
      required:
        - id
        - filename
      properties:
        id:
          type: string
          description: "SAE ID of the File"
        expires_at:
          type: string
          description: "Expiry date of the File"
        creation_date:
          type: string
          description: "Creation date of the File"
        last_modified:
          type: string
          description: "last modification of the File"
        retention_period:
          type: integer
          description: "retention period (in seconds). Defaults at 86400 seconds."
          default: 86400
          minimum: 0
        filename:
          type: string
          description: "filename"
        content_type:
          type: string
        page_count:
          type: integer
        upload_id:
          type: string
          description: "temporary ID of the File"
        archiving_profile:
          type: string
          description: "LOCAL (default), CLOUD, S3, NOVAFR, NOVAFR_CDC"
        metadata:
          type: object
          description: "metadata"
        status:
          type: string
          enum: ["pending", "archived", "soft_deleted"]
    
    PostDocumentFiles:
      required:
        - id
        - filename
      properties:
        id:
          type: string
          description: "SAE ID of the File"
        expires_at:
          type: string
          description: "Expiry date of the File"
        creation_date:
          type: string
          description: "Creation date of the File"
        retention_period:
          type: integer
          description: "retention period (in seconds). Defaults at 86400 seconds."
          default: 86400
          minimum: 0
        filename:
          type: string
          description: "filename"
        content_type:
          type: string
        content_length:
          type: integer
        document_length:
          type: integer
        page_count:
          type: integer
        archiving_profile:
          type: string
          description: "LOCAL (default), CLOUD, S3, NOVAFR, NOVAFR_CDC"
        metadata:
          type: object
          description: "metadata"
        status:
          type: string
          enum: ["pending", "archived", "soft_deleted"]
        encrypt:
          type: boolean
          description: true if file is encrypted
        crc32:
          type: string
          description: The CRC32 of the file
        last_modified_at:
          type: string
          description: Last modification of the file
    
    FileInformationComplement:
      properties:
        content_length:
          type: integer
          description: "Document length"
        document_length:
          type: integer
          description: "Document length"
        last_modified_at:
          type: string
          description: "Last file modification"
        crc32:
          type: string
          description: "crc32 of the file"
        encrypt:
          type: boolean
          description: "Is file encrypted"
    
    FileInformation:
      allOf:
        - $ref: '#/definitions/UploadDocumentFiles'
    
    UploadRequest:
      properties:
        retention_period:
          type: integer
          description: new retention period (in seconds).
        archiving_profile:
          type: string
          description: "LOCAL (default), CLOUD, S3, NOVAFR, NOVAFR_CDC"
        metadata:
          type: object
          description: "metadata"
    
    FileUploadRequest:
      properties:
        retention_period:
          type: integer
          description: retention period (in seconds)
        archiving_profile:
          type: string
          description: "LOCAL (default), CLOUD, S3, NOVAFR, NOVAFR_CDC"
    
    UploadTextoccurrencesPayload:
      type: "object"
      required:
        - keyword
      properties:
        keyword:
          type: "string"
          description: "Keyword"
      example:
        keyword: "searched_text"
    
    UploadTextoccurrencesFull:
      type: "object"
      example:
       keyword: "certificate"
       page_number: 1
       left: 5
       top: 4
       width: 17
       height: 6
      required:
        - keyword
        - page_number
        - left
        - top
        - width
        - height
      properties:
        keyword:
          description: "Keyword searched in the document"
          type: string
        page_number:
          description: "Page where the occurrence was found"
          type: integer
          minimum: 1
        left:
          description: "Coordinates of the leftmost point of the smallest rectangle that can enclose all the content of the text of the found occurrence."
          type: number
          format: float
          minimum: 0
        top:
          description: "Coordinates of the topmost point of the smallest rectangle that can enclose all the content of the text of the found occurrence."
          type: number
          format: float
          minimum: 0
        width:
          description: "Width of the smallest rectangle that can enclose all the content of the text of the found occurrence."
          type: number
          format: float
          minimum: 0
        height:
          description: "Height of the smallest rectangle that can enclose all the content of the text of the found occurrence."
          type: number
          format: float
          minimum: 0
    
    FileMergeDataItem:
      type: "object"
      example:
        id: "easRef"
        filename: "filename.jpg"
        watermark: "duplicata"
        footnote: "footnote in light grey"
      properties:
        id:
          description: "EAS ref of the file"
          type: string
        filename:
          description: "Override object filename if set"
          type: string
        watermark:
          description: "If set displays a watermark with the provided text"
          type: string
        footnote:
          description: "If set displays the provided text at the bottom of each page"
          type: string
    
    FileMergeData:
      type: "object"
      properties:
        references:
          description: "Map of sae ids with given merge config"
          type: array
          items:
            $ref: '#/definitions/FileMergeDataItem'
        mode:
          description: "ZIP (download as a zip, default value) or PDF (download a pdf). If PDF is chosen and one file is not a pdf, then fallback on ZIP."
          type: string
          enum: [ZIP, PDF]
        blank_page:
          description: "If mode is PDF then add a blank page page between each document"
          type: boolean
        callback:
          description: "URL of a callback. <br />If callback url is set, the process is asynchronous and an answer will be sent to the callback url through a POST request. Otherwise the process is synchronous"
          type: string
          example: "http://example.org/callback"
    
    AuthenticatedCallback:
      type: "object"
      properties:
        url:
          type: string
          description: "URL of the callback is mandatory"
          example: "http://example.org/callback"
        auth:
          description: "If auth is set, the callback will be done with the configured authentication information provided.  <br />Otherwise the callback will be done unauthenticated"
          allOf:
            - $ref: '#/definitions/AuthenticationType'
    
    AuthenticationType:
      type: "object"
      description: "Authentication information"
      properties:
        type:
          type: string
          description: "Mandatory. <br />apikey: It will add X-API-Key header with the provided token in the callback  <br />oauth2: It will set an Authorization: Bearer header parameter with a generated token in the callback"
          enum: [apikey, oauth2]
        provider:
          type: string
          description: "If oauth2 is set as type, provider is mandatory <br />novaauth: It will provide a Novaauth internal scoped token"
          enum: [novaauth]
        token:
          type: string
          description: "If apikey is set as type, token is mandatory"
          example: "AABBCC"
    
    SAEFileInfo:
      type: "object"
      description: "SAE document summary"
      properties:
        ref:
          type: string
          description: "Reference of the document"
        contentType:
          type: string
          description: "Mime type of the file"
          example: "application/pdf"
        contentLength:
          type: integer
          description: "Size (in bytes) of the file before encryption"
          example: 32542
        pageCount:
          type: integer
          description: "Number of pages of the document if set"
          example: 1
        crc32:
          type: string
          description: "crc32 of the file before encryption"
          example: "e6ceb5b2"
        creationDate:
          type: string
          description: "If apikey is set as type, token is mandatory"
          example: "2022-11-15 22:08:46.201"
        deletionDate:
          type: string
          description: "Date of hard deletion of the file if document is deleted. Most of the time Document is hard deleted 90 days after the deletion request."
          example: "2022-11-15 22:08:46.201"
        status:
          type: string
          description: "Status of the document"
          enum: ["PENDING", "ARCHIVED", "SOFT_DELETED", "DELETED"]
          example: "ARCHIVED"
        profile:
          type: string
          description: "Profile of the document. Can indicate if document is meant to be sent to CDC"
          enum: [LOCAL, CLOUD, S3, GCS, NOVAFR, NOVAFR_CDC]
          example: "LOCAL"
        uri:
          type: string
          description: "Set to the file backend if file exists. NONE otherwise"
          enum: [localhost, pwd.arkhineo.fr, google-cloud-storage, aws-s3, rackspace-cloudfiles-uk, NONE]
          example: "localhost"
        signatureUri:
          type: string
          description: "Set to the signature backend host if signature exists. NONE otherwise"
          enum: [localhost, pwd.arkhineo.fr, google-cloud-storage, aws-s3, rackspace-cloudfiles-uk, NONE]
          example: "localhost"
        backupUri:
          type: string
          description: "Set to the backup backend if backup exists. NONE otherwise"
          enum: [localhost, pwd.arkhineo.fr, google-cloud-storage, aws-s3, rackspace-cloudfiles-uk, NONE]
          example: "aws-s3"
        cdcUri:
          type: string
          description: "Set to cdc if there is a cdc uri. NONE otherwise"
          enum: [NONE, cdc]
          example: "cdc"


# Settings related objects
    CoreSettingsBase:
      type: "object"
      required:
        - enable_us_formats
        - available_languages
        - default_language
      properties:
        enable_us_formats:
          type: "boolean"
          description: "Use US format for names and addresses"
          example: true
        available_languages:
          description: "List of available languages. Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          type: "array"
          items:
            type: string
          example: ["fr-fr", "fr-ca", "en-us", "en-gb", "zh-hans"]
        default_language:
          type: "string"
          description: "Default language. Format: language (2-3 chars) with locale variant (2+ chars) as per [IETF BCP 47](https://tools.ietf.org/html/bcp47), separated by a hyphen (-)."
          example: "fr-fr"
    
        allow_external_id_update:
          description: "Allow employee external_id update through the user interface"
          type: boolean
          example: true
        authorize_access_outside_sso:
          description: "Authorize employees and HR users to request access to UKG HR Service Delivery
          applications and/or to reset their password despite the client platform using SSO.
          !!DEPRECATED!! Should be replaced soon with 'login_strategy_with_external_idp'."
          default: false
          type: boolean
          example: true
        allow_password_reset:
          description: "Allow password reset for HR users.
          !!DEPRECATED!! Should be replaced soon with 'login_strategy_with_external_idp'."
          default: true
          type: boolean
          example: true
        password_options:
          description: "Password options for HR users"
          type: object
          properties:
            number_passwords_remembered:
              description: "Number of passwords remembered"
              type: integer
              example: 8
            max_changes_per_day:
              description: "Maximum number of password changes per day"
              type: integer
              example: 4
        store_authn_id:
          description: "Store Authn ID field for employees on this client."
          default: null
          type: boolean
    
    
    CoreSettingsFull:
      allOf:
        -
          $ref: "#/definitions/CoreSettingsBase"
    
    
    EmployeeFileManagementSettingsBase:
      type: "object"
      required:
        - enabled
        - employee_access
      properties:
        enabled:
          type: "boolean"
          description: "Module enabled on the client"
          example: true
        employee_access:
          type: "boolean"
          description: "Module enabled on the employee portal"
          example: true
    
    
    EmployeeFileManagementSettingsFull:
      type: "object"
      properties:
        url:
          description: "URL of the Client's platform"
          type: "string"
          example: "https://acme-hr-portal.xx.people-doc.com"
      allOf:
        -
          $ref: "#/definitions/EmployeeFileManagementSettingsBase"
    
    
    ProcessAutomationSettingsBase:
      required:
        - enabled
        - new_hire_experience
      properties:
        enabled:
          type: "boolean"
          description: "Indicates if the module is available in the client platform."
          example: true
        new_hire_experience:
          type: "boolean"
          description: "Enables handling of new-hires, before they become fully-fledged employees"
          example: true
    
    
    ProcessAutomationSettingsComputedFields:
      required:
        - url
      properties:
        url:
          type: "string"
          description: "URL of the client platform"
          example: https://example.com/
    
    
    ProcessAutomationSettingsFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/ProcessAutomationSettingsBase"
        -
          $ref: "#/definitions/ProcessAutomationSettingsComputedFields"
    
    
    KnowledgeBaseSettings:
      type: "object"
      required:
        - enabled
        - url
      properties:
        enabled:
          type: "boolean"
          description: "Indicate if the module is available in the client platform."
          example: true
        url:
          type: "string"
          description: "URL of the client platform"
          example: https://example.com/
        display_popular_forms:
          type: "boolean"
          description: "Indicate if the module displays popular forms to employees"
          example: true
        display_popular_articles:
          type: "boolean"
          description: "Indicate if the module displays popular articles to employees"
          example: true
        display_featured_forms:
          type: "boolean"
          description: "Indicate if the module displays featured forms to employees"
          example: true
        display_featured_articles:
          type: "boolean"
          description: "Indicate if the module displays featured articles to employees"
          example: true
        display_employee_search_by_scope:
          type: "boolean"
          description: "Indicate if the employee search is scoped by organizations"
          example: true
    
    
    CaseManagementSettings:
      type: "object"
      required:
        - enabled
        - url
      properties:
        enabled:
          type: "boolean"
          description: "Indicate if the module is available in the client platform."
          example: true
        url:
          type: "string"
          description: "URL of the client platform"
          example: https://example.com/
        employee_can_reopen_request:
          type: "boolean"
          description: "Indicate if an employee can reopen a closed request."
          example: true
        language:
          type: "string"
          description: "Site main language code"
          example: "en"
        calendar:
          type: "string"
          description: "Holiday calendar code"
          example: "fr"
        display_default_forms:
          type: "boolean"
          description: "Display the default form of the categories"
          example: true
        display_popular_forms:
          type: "boolean"
          description: "Display the popular forms block"
          example: true
        display_featured_forms:
          type: "boolean"
          description: "Display the featured forms block"
          example: true
        allow_search_by_scope:
          type: "boolean"
          description: "Display employee search by scope"
          example: true
        allow_archive_in_efm:
          type: "boolean"
          description: "Allow archiving in Document Manager. Check this only if this service is available for this client."
          example: true
        allow_teams:
          type: "boolean"
          description: "Enable the teams feature."
          example: true
        allow_reassignation:
          type: "boolean"
          description: "Allow reassignation of requests based on manager imports with perimeter changes."
          example: true
    

    ThemeSettingsBase:
      type: "object"
      required:
        - primary_color
        - primary_is_dark
        - grey_palette
        - horizontal_menu_background
        - horizontal_menu_is_dark
      properties:
        primary_color:
          type: "string"
          description: "The primary color of the theme"
          example: "#30A6EA"
        primary_is_dark:
          type: "boolean"
          description: |
            If your primary color is dark enough to handle white text on it,
            set this variable to true. Otherwise, set this variable to false.
          example: "true"
        grey_palette:
          type: "string"
          description: |
            Which variation of the grey palette do you want to use: warm, cold or neutral.
            Choose a grey palette that combines with the primary color your theme.
            Must be one of "cold", "warm" or "neutral"
          enum: ["cold", "warm", "neutral"]
          example: "cold"
        horizontal_menu_background:
          type: "string"
          description: |
            Optionally, you might add a custom horizontal menu background color to your theme.
            If the variable is null, the background color will be the default dark grey.
          example: "#30A6EA"
        horizontal_menu_is_dark:
          type: "boolean"
          description: |
            If your horizontal menu background color is dark enough to handle white text on it,
            set this variable to true. Otherwise, set this variable to false.
          example: "true"
    
    ThemeSettingsFull:
      allOf:
        -
          $ref: "#/definitions/ThemeSettingsBase"
        -
          $ref: "#/definitions/Timestamps"

    AuditSettingsBase:
      type: "object"
      properties:
        retention_period:
          type: integer
          example: 6
          description: "Audit trail events retention period in months. Events older than this retention period are deleted and cannot be retrieved anymore. If `null`, the default retention period will be applied (1 year)"
          maximum: 12
          minimum: 1
    
    AuditSettingsFull:
      allOf:
        -
          $ref: "#/definitions/AuditSettingsBase"

    NotificationSettingsBase:
      type: "object"
      required:
        - email_sender_name
        - email_sender_address
        - email_subject_prefix
        - email_sending_mode
      properties:
        email_sender_name:
          type: "string"
          maxLength: 30
          description: |
            Displayed to recipients along with the email address, to identify the sender (e.g. From: Company Name <no-reply@people-doc.com>)"
            If null or empty, will default to "PeopleDoc"
          example: "Company Name"
        email_sender_address:
          type: "string"
          format: "email"
          description: |
            Email address used to send emails.
            If null or empty, will default to "no-reply@people-doc.com"
          example: "no-reply@example.com"
        email_subject_prefix:
          maxLength: 30
          type: "string"
          description: |
            Subject prefix that can be displayed before all email subject line (e.g. [HR Helpdesk]).
            Leaving empty or null will use the plain subject as defined in the templates
          example: "[Acme HR]"
        email_sending_mode:
          type: "string"
          enum: ['enabled', 'disabled', 'test']
          description: |
            Allow to enable or disable email sending.
    
            If null, will be considered `enabled`.
    
            * `disabled`: emails are not sent at all (can be used in customer implementation / test phase to avoid sending emails)
            * `test`: emails are send to our email testing software (can be used during implementation phase to check email content and design)
            * `enabled`: emails are sent (should be enabled when customer is in production phase)
          example: "enabled"
    
    
    NotificationSettingsFull:
      allOf:
        -
          $ref: "#/definitions/NotificationSettingsBase"
        -
          $ref: "#/definitions/Timestamps"


# Assets related objects
    ClientAssets:
      type: "object"
      properties:
        setting:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Whether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the json representation of a setting.
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined setting"
                  example: "light_blue"
                primary_color:
                  type: "string"
                  description: "The primary color of the theme"
                  example: "#30A6EA"
                primary_is_dark:
                  type: "boolean"
                  example: "true"
                grey_palette:
                  type: "string"
                  enum: ["cold", "warm", "neutral"]
                  example: "cold"
                horizontal_menu_background:
                  type: "string"
                  example: "#30A6EA"
                horizontal_menu_is_dark:
                  type: "boolean"
                  example: "true"
        logo:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_logo"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/logo"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/logo?thumbnail"
        login_logo:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: [ "preset", "custom" ]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_login_logo"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/login_logo"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/login_logo?thumbnail"
        hr_user_logo:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_hr_user_logo"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/hr_user_logo"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/hr_user_logo?thumbnail"
        banner:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_banner"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/banner"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/banner?thumbnail"
        login_background:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_login_background"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/login_background"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/login_background?thumbnail"
        login_background_mfa:
          type: "object"
          properties:
            type:
              type: "string"
              description: |
                Wether this asset is a preset or a customized value from the client.
              enum: ["preset", "custom"]
            content:
              type: "object"
              description: |
                If it's a custom value, it will contain only the the urls for the asset (normal + thumbnail).
                If it's a preset, it will contain only the name of it.
              properties:
                name:
                  type: "string"
                  description: "Name of the predefined asset"
                  example: "ukg_login_backgroun_mfa"
                url:
                  type: "string"
                  description: "The url of the asset"
                  example: "/assets/login_background_mfa"
                thumbnail:
                  type: "boolean"
                  description: "The url of the asset thumbnail"
                  example: "/assets/login_background_mfa?thumbnail"
    
    AssetsPresets:
      type: "object"
      properties:
        setting:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default setting"
              example: "light_blue"
            options:
              type: "object"
              description: "list of all predefined settings"
              properties:
                ligh_blue:
                  type: "object"
                  description: "Json representation of the setting light_blue"
                  properties:
                    primary_color:
                      type: "string"
                      description: "The primary color of the theme"
                      example: "#30A6EA"
                    primary_is_dark:
                      type: "boolean"
                      example: "true"
                    grey_palette:
                      type: "string"
                      enum: ["cold", "warm", "neutral"]
                      example: "cold"
                    horizontal_menu_background:
                      type: "string"
                      example: "#30A6EA"
                    horizontal_menu_is_dark:
                      type: "boolean"
                      example: "true"
                ukg:
                  type: "object"
                  description: "Json representation of the setting light_blue"
                  properties:
                    primary_color:
                      type: "string"
                      description: "The primary color of the theme"
                      example: "#30A6EA"
                    primary_is_dark:
                      type: "boolean"
                      example: "true"
                    grey_palette:
                      type: "string"
                      enum: ["cold", "warm", "neutral"]
                      example: "cold"
                    horizontal_menu_background:
                      type: "string"
                      example: "#30A6EA"
                    horizontal_menu_is_dark:
                      type: "boolean"
                      example: "true"
        logo:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/logo/ukg"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/logo/ukg?thumbnail"
        login_logo:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/login_logo/ukg"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/login_logo/ukg?thumbnail"
        hr_user_logo:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/hr_user_logo/ukg"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/hr_user_logo/ukg?thumbnail"
        banner:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/banner/ukg"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/banner/ukg?thumbnail"
        login_background:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/login_background/ukg"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/login_background/ukg?thumbnail"
        login_background_mfa:
          type: "object"
          properties:
            default:
              type: "string"
              description: "name of the default asset for this type"
              example: "ukg_mfa"
            options:
              type: "object"
              description: "list of all predefined object for this asset type"
              properties:
                ukg:
                  type: "object"
                  description: "URLs for this predefined asset"
                  properties:
                    url:
                      type: "string"
                      description: "The url of the asset"
                      example: "/assets/login_background_mfa/ukg_mfa"
                    thumbnail:
                      type: "boolean"
                      description: "The url of the asset thumbnail"
                      example: "/assets/login_background_mfa/ukg_mfa?thumbnail"


# Datasets related objects
    # Datasets dimensions
    
    DatasetDimensionBase:
      required:
        - "id"
        - "localized_names"
      properties:
        id:
          type: "string"
          description: "`ID` of the dimension. Used to refer to the dimension when filtering the Dataset"
          example: "cities"
        localized_names:
          type: "array"
          description: "Localized names of the dimension.
          If you do not want to provide a translation, leave the array empty"
          items:
            $ref: "#/definitions/LocalizedString"
          example:
            - language_code: en-us
              value: Cities
            - language_code: fr-fr
              value: Villes
    
    DatasetDimensionComputedFields:
      properties:
        name:
          type: "string"
          description: "Name of the dimension in the current language"
          example: "Cities"
    
    DatasetDimensionCreatePayload:
      allOf:
        -
          $ref: "#/definitions/DatasetDimensionBase"
    
    DatasetDimensionFull:
      allOf:
        -
          $ref: "#/definitions/DatasetDimensionBase"
        -
          $ref: "#/definitions/DatasetDimensionComputedFields"
    
    # Datasets
    
    DatasetBase:
      properties:
        localized_names:
          type: "array"
          description: "Localized names of the Dataset"
          items:
            $ref: "#/definitions/LocalizedString"
          example:
            - language_code: en-us
              value: Shops
            - language_code: fr-fr
              value: Boutiques
    
    DatasetComputedFields:
      required:
        - "id"
        - "values_count"
      properties:
        id:
          type: "string"
          description: "`ID` of the Dataset"
          example: "shops"
        name:
          type: "string"
          description: "Name of the Dataset in the current language"
          example: "Shops"
        dimensions:
          type: "array"
          description: "A dataset is a set of dimensions organized hierarchically.
          Dimensions are in this regard similar to levels.
          Every value in the Dataset is then attached to a dimension.
          Dimensions have to be created in the same order as the hierarchy they represent
          (e.g.:create the dimension `countries` first before creating the dimension `cities`)
          Example: we could have a dataset of job codes for a global retail manufacturer.
          The dimensions could be: country, region, city, shop.
          There is a set of values in every dimension.
          And the dataset of job codes for one of the London retail stores could be accessed
          via `united_kingdom.greater_london.london.N42LE`.
          Warning: A dataset cannot have more than 10 dimensions."
          items:
            $ref: "#/definitions/DatasetDimensionFull"
        values_count:
          type: integer
          description: "Total number of values present in the Data Set"
        last_import_status:
          type: "string"
          description: "Status of the last import for the Data Set.
          `queued` if the last import has been added to the list.
          `in_progress` if the last import is still running.
          And `finished` when the last import is over."
          enum: ["queued", "in_progress", "finished"]
        last_import_result:
          type: "string"
          description: "Result of the last import for the Data Set.
          `error` if the last import terminated in error.
          `success` if the last import terminated successfully"
          enum: ["error", "success"]
    
    DatasetCreatePayload:
      type: "object"
      required:
        - "localized_names"
        - "dimensions"
      properties:
        dimensions:
          type: "array"
          description: "Each dimension of the Dataset correspond to a level in the hierarchy. Each value of the dataset will belong to a dimension, according to its level (e.g.: the value `paris.trocadero` will correspond to the second dimension of the dataset). Once created, a dimension cannot be deleted or its code changed."
          items:
            $ref: "#/definitions/DatasetDimensionCreatePayload"
      allOf:
        -
          $ref: "#/definitions/DatasetBase"
    
    DatasetFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DatasetBase"
        -
          $ref: "#/definitions/DatasetComputedFields"
        -
          $ref: "#/definitions/Timestamps"
    
    # Dataset values
    
    DatasetValueBase:
      required:
        - "localized_names"
      properties:
        localized_names:
          type: "array"
          description: "Localized names of the value"
          items:
            $ref: "#/definitions/LocalizedString"
          example:
            - language_code: en-us
              value: London
            - language_code: fr-fr
              value: Londres
    
    
    DatasetValueComputedFields:
      required:
        - "code"
      properties:
        code:
          type: "string"
          description: "Technical code of the value"
          example: "london"
        name:
          type: "string"
          description: "Name of the value in the current language"
          example: "London"
        id:
          type: "string"
          description: "`ID` (path) of the value"
          example: "united_kingdom.greater_london.london"
        dataset_id:
          type: "string"
          description: "`ID` of the dataset
          Warning: A dataset cannot have more than 300,000 values."
          example: "shops"
        dimension_id:
          type: "string"
          description: "`ID` of the dimension"
          example: "cities"
    
    DatasetValueCreatePayload:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DatasetValueBase"
    
    DatasetValueFull:
      type: "object"
      allOf:
        -
          $ref: "#/definitions/DatasetValueBase"
        -
          $ref: "#/definitions/DatasetValueComputedFields"


# Looker API related objects
    LookerURL:
      properties:
        url:
          type: string
          format: "uri"
          description: Looker embed URL


# Document classification
    DocumentTypePredictionClientPayload:
      type: "object"
      required:
        - document_id
      properties:
        document_id:
          type: "integer"
          description: "Document ID in Document Manager"
          example: 1234
    
    
    DocumentTypePredictionResult:
      required:
        - document_type_id
        - probability
      properties:
        document_type_id:
          type: "string"
          description: "ID of the guessed Document Type"
        probability:
          type: "number"
          format: "float"
          example: 0.89
          description: |
            Confidence percentage (from 0 to 1) of the document type guessed
            by the prediction job.
    
    _Run:
      type: "object"
      required:
        - id
        - status
        - error_code
        - started_at
        - completed_at
      properties:
        id:
          type: "string"
          format: "uuid"
          example: "0fccfdea-640a-4f3c-9d3f-ecc450a2414e"
          description: "`id` of the run"
        status:
          type: "string"
          description: "Status of the run"
          example: "DONE"
          enum: [ "SCHEDULED", "IN_PROGRESS", "DONE", "FAILED" ]
        error_code:
          type: "string"
          description: "An error code if the prediction `FAILED`. `null` otherwise."
          example: "prediction-error"
        started_at:
          type: "string"
          format: "date-time"
          description: "Run start date-time, `null` if not started"
          example: "2019-12-22T08:36:37.266+00:00"
        completed_at:
          type: "string"
          format: "date-time"
          description: "Run completion date-time, `null` if not completed"
          example: "2019-12-22T08:37:37.266+00:00"
    
    
    _DocumentTypePredictionRun:
      type: "object"
      required:
        - guessed_document_types
      properties:
        guessed_document_types:
          type: "array"
          description: |
            List of guessed document types (maximum 5)
            ordered by their probability percentage.
            Empty if no run result exists.
          items:
            $ref: "#/definitions/DocumentTypePredictionResult"
    
    
    DocumentTypePredictionRun:
      type: "object"
      allOf:
        - $ref: "#/definitions/DocumentTypePredictionClientPayload"
        - $ref: "#/definitions/_Run"
        - $ref: "#/definitions/_DocumentTypePredictionRun"
        - $ref: "#/definitions/Timestamps"
    
    
    
    


# Menu entries
    MenuEntry:
      properties:
        id:
          type: string
          description: |
            Identifier of the menu element. Not mandatory if the entry is purely informative.
          example: "categories-administration"
        parent_id:
          type: "string"
          description: |
            Identifier of the parent menu element. Not mandatory if the entry at the root level.
          example: "administration"
        label:
          description: |
            Label meant to be displayed in the menu. Useful for labels not controlled by the consuming app,
            like user names or role/profile names. Not mandatory otherwise.
          type: "string"
          example: "Jane Doe"
        portal_url:
          description: |
            Url in the People Assist domain. Not mandatory if the entry is not a link.
          type: "string"
          example: "https://client.requests.env/admin/categories"
        spa_url:
          description: |
            Url in the SPA domain. Not mandatory if the entry is not a link.
          type: "string"
          example: "https://client.knowledgebase.env/#/admin/categories"


# People Assist user
    # DISCLAIMER: this endpoint is temporary. It will be removed as soon as users are synchronized with PeopleCore
    RequestManagementUser:
      properties:
        email:
          type: "string"
          description: "Email of the user."
          example: "bob@customer.com"
        language:
          type: "string"
          description: |
            Language the user is configured with.
          example: "en-us"
        timezone:
          type: "string"
          description: |
            Timezone in the form `Area/Location`, e.g. `America/New_York`.
          example: "America/New_York"
        id:
          type: string
          format: uuid
          description: |
            UKG identifier of the user.
          example: "40350a9f-1323-45a2-b054-5c9981a0d482"
        external_id:
          type: string
          description: "Unique ID of the User defined in the HRIS"
          example: "GYI7878YG"
        firstname:
          type: string
          description: "First name of the user"
          example: "bob"
        lastname:
          type: string
          description: "Last name of the user"
          example: "lennon"
        profiles:
          type: "array"
          description: "A profile attaches a role (set of permissions)
          to a perimeter (set of employees). A User can have different profiles"
          items:
            $ref: "#/definitions/RequestProfileBase"
        permissions:
          type: "object"
          description: "User permissions"
          properties:
            people.can_manage_synapps:
              type: boolean
              description: "permission name"
              example: true


# RRS actions and conditions
    GenericRRSCreateObject:
      type: object
      required:
        - template
        - data
      properties:
        template:
          type: "string"
          description: ""
          example: "RequestChangeCustomState"
        data:
          type: object
          description: ""
          example: 
            {"custom_status": "custom_status_id"}
    
    GenericRRSDetailObject:
      allOf:
        - 
          type: "object"
          properties:
            label:
              type: "string"
              description: "Human-friendly description of the action"
              example: "Set custom status"
        -
          $ref: "#/definitions/GenericRRSCreateObject"


# Macro related objects
    _MacroBase:
      type: "object"
      properties:
        name:
          type: string
          description: "Name of the `Macro`"
          example: "Set priority to low"
        label:
          type: string
          description: "Label of the `Macro`"
          example: "Low priority"
        description:
          type: string
          description: "Description of the `Macro`"
          example: ""
        active:
          type: boolean
          description: "If set to `true` the `Macro` can be executed"
          example: true
        forms:
          type: array
          description: "List of forms that can execute the `Macro`"
          items:
            type: string
            description: "Unique ID of the form"
          example: ["new-hire", "company-policies"]
        roles:
          type: array
          description: "List of user roles that can execute the `Macro`"
          items:
            type: string
            description: "Unique ID of the role"      
          example: ["admin", "payroll-manager"]
        custom_status:
          type: array
          description: "List of custom status that should match requests on which the `Macro` can be executed"
          items:
            type: string
            description: "Unique ID of the custom status"
    
    
    MacroList:
      allOf:
        - 
          type: "object"
          properties:
            id:
              type: string
              description: "`ID` of the macro. Automatically generated from name"
              example: "set-priority-to-low"
        -
          $ref: "#/definitions/_MacroBase"
        -
          $ref: "#/definitions/Timestamps"
    
    
    MacroDetail:
      allOf:
        - 
          type: "object"
          properties:
            id:
              type: string
              description: "`ID` of the macro. Automatically generated from name"
              example: "set-priority-to-low"
        -
          $ref: "#/definitions/_MacroBase"
        -
          type: "object"
          properties:
            actions:
              type: array
              description: "Only exists if `embed=action` query string parameter was used. Gives full information on the macro actions"
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSDetailObject"
        -
          $ref: "#/definitions/Timestamps"
    
    
    MacroPutPayload:
      required:
        - name
        - label
        - forms
        - actions
      allOf:
        - 
          $ref: "#/definitions/_MacroBase"
        - 
          type: "object"
          properties:
            actions:
              type: array
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSCreateObject"
    
    
    RequestMacroPayload:
      type: "object"
      properties:
        macro_id:
          type: string
          description: "ID of the `Macro`"
          example: "set-priority-to-low"


# Custom Status related objects
    CustomStatusBase:
      type: "object"
      properties:
        name:
          type: string
          description: "Name of the `Custom Status`"
          example: "To Send"
        is_active:
          type: boolean
          description: "Boolean to check if custom status is active"
          example: true
          default: true
    
    
    CustomStatusDetail:
      allOf:
        - 
          type: "object"
          properties:
            id:
              type: string
              description: "`ID` of the Custom Status. Automatically generated from name"
              example: "my-custom-id"
        -
          $ref: "#/definitions/CustomStatusBase"
        -
          $ref: "#/definitions/Timestamps"
    
    
    CustomStatusPutPayload:
      required:
        - name
      allOf:
        - 
          $ref: "#/definitions/CustomStatusBase"


# Rules
    _RuleBase:
      type: "object"
      properties:
        name:
          type: string
          description: "Name of the `Rule`"
          example: "To Send"
        active:
          type: boolean
          description: "Boolean to check if active"
          example: true
          default: true
        order:
          type: integer
          description: "Order of execution of the `Rule`"
          example: 2
          default: 0
    
    
    RuleList:
      allOf:
        - 
          type: "object"
          properties:
            id:
              type: string
              description: "`ID` of the rule. Automatically generated from name"
              example: "set-priority-to-low"
        -
          $ref: "#/definitions/_RuleBase"
        -
          $ref: "#/definitions/Timestamps"
    
    
    RuleDetail:
      allOf:
        - 
          type: "object"
          properties:
            id:
              type: string
              description: "`ID` of the rule. Automatically generated from name"
              example: "set-priority-to-low"
        -
          $ref: "#/definitions/_RuleBase"
        -
          type: "object"
          properties:
            actions:
              type: array
              description: "Only exists if `embed=actions` query string parameter was used. Gives full information on the rule's actions"
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSDetailObject"
            all_conditions:
              type: array
              description: "Only exists if `embed=conditions` query string parameter was used. Gives full information on the rule's ALL conditions"
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSDetailObject"
            any_conditions:
              type: array
              description: "Only exists if `embed=conditions` query string parameter was used. Gives full information on the rule's ANY conditions"
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSDetailObject"
        -
          $ref: "#/definitions/Timestamps"  
    
    
    RulePutPayload:
      required:
        - name
        - active
        - order
        - actions
        - all_conditions
        - any_conditions
      allOf:
        - 
          $ref: "#/definitions/_RuleBase"
        - 
          type: "object"
          properties:
            actions:
              type: array
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSCreateObject"
            all_conditions:
              type: array
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSCreateObject"
            any_conditions:
              type: array
              items:
                type: "object"
                $ref: "#/definitions/GenericRRSCreateObject"



# External app
    ExternalAppName:
      type: object
      required:
        - key
        - name
      properties:
        key:
          type: string
          description: "Name of external application as in database"
          enum:
            - pro_workforce_management
        name:
          type: string
          description: "Name of external application in human-readable form"
    
    ExternalAppCredentialsPayloadPartial:
      type: object
      properties:
        username:
          type: string
          description: "External app Username"
        password:
          type: string
          description: "External app Password"
        vanity_url:
          type: string
          format: uri
          description: "External app Vanity URL"
        client_id:
          type: string
          description: "External app OAuth Client Id"
        client_secret:
          type: string
          description: "External app OAuth Client Secret"
        dimensions_app_key:
          type: string
          description: "UKG PRO Workforce Management App Key"
        grant_type:
          type: string
          description: "Authentification Method"
          enum:
            - password
        application_name:
          type: string
          description: "Name of the external application"
          enum:
            - pro_workforce_management
    
    ExternalAppCredentialsPayload:
      allOf:
        - $ref: '#/definitions/ExternalAppCredentialsPayloadPartial'
        - type: object
          required:
            - username
            - password
            - vanity_url
            - client_id
            - client_secret
            - dimensions_app_key
            - grant_type
            - application_name
    
    ExternalAppCredentials:
      allOf:
        - $ref: '#/definitions/ExternalAppCredentialsPayload'
        - type: object
          required:
            - id
          properties:
            id:
              type: string
              format: uuid
              readOnly: true
              description: "Identifier of credentials"



  parameters:

##################################
## Shared URL Parameters
##################################

    PerPageParameter:
      name: "per_page"
      in: "query"
      description: "Number of results per page <br> (default: 20, maximum: 100)"
      required: false
      type: "integer"
      default: 20
    
    PageParameter:
      name: page
      in: query
      description: Page number
      required: false
      type: integer
      default: 1
    
    CursorParameter:
      name: "cursor"
      in: "query"
      description: "Pagination cursor"
      required: false
      type: "string"
    
    FillTaskParameter:
        name: "body"
        in: "body"
        required: true
        description: ''
        schema:
            type: object
            properties:
                key:
                    type: string
                    description: "Any key will be accepted as soon as it will represents a field in the task"
                file:
                    type: string
                    description: "A file is represented by its `SAE_ID` as value. Any key can be provided"
    
    FeatureFlagServiceParameterGlobal:
      name: "service"
      in: "path"
      description: "Service name"
      required: true
      type: string
      enum:
        - employee_file_management
        - case_management
        - process_automation
        - peopleinvitation
        - robotic_process_automation
    
    FeatureFlagServiceParameterUser:
      name: "service"
      in: "path"
      description: "Service name"
      required: true
      type: string
      enum:
        - employee_file_management
        - case_management
        - process_automation
    
    FeatureFlagServiceParameterClient:
      name: "service"
      in: "path"
      description: "Service name"
      required: true
      type: string
      enum:
        - employee_file_management
        - case_management
        - process_automation
        - peopleinvitation
    
    FeatureFlagIdParameter:
      name: "id"
      in: "path"
      description: "The Feature Flag name"
      required: true
      type: string


# Except full end tag

