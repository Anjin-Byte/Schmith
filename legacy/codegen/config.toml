# XChange DataObject Code Generation Configuration
#
# This file configures default settings for the codegen CLI.
# Command-line arguments override these settings.

[paths]
# Base directory containing IR folders (relative to project root)
ir_dir = "ir"

# Output directory for prompt packets (relative to project root)
# Packets are stored in: packets_dir/grouped/<ir>/
packets_dir = "prompt_packets"

# Output directory for generated C# code (relative to project root)
generated_dir = "generated"

[llm]
# Default LLM provider: "anthropic" or "openai"
provider = "openai"

# Default model (leave empty to use provider default)
# Anthropic default: claude-3-5-haiku-20241022
# OpenAI default: gpt-4o
#model = "gpt-5-nano-2025-08-07"
model = "gpt-5-mini-2025-08-07"
#model = "claude-3-5-haiku-20241022"

# Maximum tokens for LLM response
max_tokens = 4096

[prompting]
# Maximum fields per prompt page
max_fields_per_page = 6

# Schema filtering is configured in filters.toml

[naming]
# Naming strategy for DataObject class names
# Options: "verbose" (original behavior), "semantic", "resource"
#
# - verbose:  Concatenates all path segments (backward compatible)
#             Example: DeleteRestV10BimModelViewpointsBulkDelete
#
# - semantic: Strips version prefixes, keeps meaningful segments
#             Example: DeleteBimModelViewpointsBulkDelete
#
# - resource: Focuses on last N resource segments only
#             Example: DeleteViewpointsBulkDelete
strategy = "resource"

# Strip version-like prefixes from paths (rest, api, v1.0, v2.0, etc.)
# Only applies to 'semantic' and 'resource' strategies
strip_version_prefixes = true

# Maximum path segments to include (0 = unlimited)
# Useful for limiting name length in deeply nested APIs
max_segments = 0

# Include HTTP method in the operation name
preserve_method = true

# How many trailing resource segments to keep (for 'resource' strategy)
resource_depth = 2

# Ignore operationId from the spec and always derive names from paths
# Set to true when the spec has verbose operationIds that you want to override
ignore_operation_id = true

# Abbreviations to apply to generated names
# Example: { "Response" = "Resp", "Request" = "Req" }
[naming.abbreviations]
# Uncomment to enable abbreviations:
# Response = "Resp"
# Request = "Req"
# DataObject = "DO"
